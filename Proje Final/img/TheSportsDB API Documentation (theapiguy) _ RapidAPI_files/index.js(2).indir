(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('react'),require('styled-components'),require('antd'),require('@rapidapi/rapid-components'),require('lodash'),require('rapid-flags/lib/client')):typeof define==='function'&&define.amd?define(['react','styled-components','antd','@rapidapi/rapid-components','lodash','rapid-flags/lib/client'],factory):(global=global||self,global['login-micro-app']=factory(global.React,global.styled,global.antd,global.rapidComponents,global.lodash,global.rapidFlagsClient));}(this,(function(React,styled,antd,rapidComponents,lodash,rapidFlagsClient$1){'use strict';var React__default='default'in React?React['default']:React;var styled__default='default'in styled?styled['default']:styled;rapidFlagsClient$1=rapidFlagsClient$1&&Object.prototype.hasOwnProperty.call(rapidFlagsClient$1,'default')?rapidFlagsClient$1['default']:rapidFlagsClient$1;function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj;};}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}
return _typeof(obj);}
function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}
if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}
function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}
function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}
_next(undefined);});};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return _extends.apply(this,arguments);}
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}
return keys;}
function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}
return target;}
function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}
return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}
return _arr;}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _templateObject2(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  right: 40px;\n  top: 20px;\n  width: 20px;\n  height: 20px;\n  z-index: 3;\n  :hover {\n    cursor: pointer;\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}
function _templateObject(){var data=_taggedTemplateLiteral(["\n  height: ","px;\n"]);_templateObject=function _templateObject(){return data;};return data;}
var HeaderLogo=styled__default.img(_templateObject(),function(_ref){var height=_ref.height;return height||34;});var CloseIcon=styled__default.img(_templateObject2());var getCookie=function getCookie(cname){if((typeof document==="undefined"?"undefined":_typeof(document))===undefined){return;}
var name=cname+'=';var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1);}
if(c.indexOf(name)===0){return c.substring(name.length,c.length);}}
return;};var setCookie=function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+exdays*24*60*60*1000);var expires='expires='+d.toUTCString();document.cookie=cname+'='+cvalue+';'+expires+';path=/';};var _ref=window.ENV||{},NODE_ENV=_ref.NODE_ENV,BRAND=_ref.BRAND;var THEMES={ATTRIBUTE_NAME:'theme',dark:'dark',light:'light'};var appendThemeConfig=function appendThemeConfig(key){var currentTheme=getCookie('theme');return!currentTheme||currentTheme===THEMES.light?key:"".concat(key,"-").concat(THEMES[currentTheme]);};var getLocale=function getLocale(){if((typeof window==="undefined"?"undefined":_typeof(window))===undefined){return;}
if(window.location.host.toLowerCase().startsWith('english')){setCookie('locale','en-US',365);return 'en-US';}
return getCookie('locale');};var locale=getLocale();var getConfig=function getConfig(config,key){var rapidConfig=config||{};return rapidConfig["".concat(key,"-").concat(locale)]||rapidConfig[key];};function injectParams(value,params){if(typeof value==='string'){Object.entries(params).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],val=_ref3[1];value=value.replace("{{".concat(key,"}}"),val);});}
return value;}
var getAssets=function getAssets(config,key,params){var keyWithTheme=appendThemeConfig(key);var value=key?getConfig(config,keyWithTheme)||getConfig(config,key):'';return params?injectParams(value,params):value;};function setState(store,newState,afterUpdateCallback){store.state={...store.state,...newState};store.listeners.forEach((listener)=>{listener.run(store.state);});afterUpdateCallback&&afterUpdateCallback();}
function useCustom(store,React,mapState,mapActions){const[,originalHook]=React.useState(Object.create(null));const state=mapState?mapState(store.state):store.state;const actions=React.useMemo(()=>(mapActions?mapActions(store.actions):store.actions),[mapActions,store.actions]);React.useEffect(()=>{const newListener={oldState:{}};newListener.run=mapState?newState=>{const mappedState=mapState(newState);if(mappedState!==newListener.oldState){newListener.oldState=mappedState;originalHook(mappedState);}}:originalHook;store.listeners.push(newListener);newListener.run(store.state);return()=>{store.listeners=store.listeners.filter(listener=>listener!==newListener);};},[]);return[state,actions];}
function associateActions(store,actions){const associatedActions={};Object.keys(actions).forEach(key=>{if(typeof actions[key]==="function"){associatedActions[key]=actions[key].bind(null,store);}
if(typeof actions[key]==="object"){associatedActions[key]=associateActions(store,actions[key]);}});return associatedActions;}
const useStore=(React,initialState,actions,initializer)=>{const store={state:initialState,listeners:[]};store.setState=setState.bind(null,store);store.actions=associateActions(store,actions);if(initializer)initializer(store);return useCustom.bind(null,store,React);};var initialState={step:'',stepDetails:'',referral:'',loginError:'',FFThemeEnterpriseOveridesForMP:''};var actions={setEmail:function setEmail(store,email){store.setState({email:email});},setStep:function setStep(store,step){store.setState({step:step});},setStepDetails:function setStepDetails(store,stepDetails){store.setState({stepDetails:stepDetails});},setReferral:function setReferral(store,referral){store.setState({referral:referral});},setLoginError:function setLoginError(store,loginError){store.setState({loginError:loginError});},setIsLoginSuccessLoading:function setIsLoginSuccessLoading(store,isLoginSuccessLoading){store.setState({isLoginSuccessLoading:isLoginSuccessLoading});},setFFThemeEnterpriseOveridesForMP:function setFFThemeEnterpriseOveridesForMP(store,FFThemeEnterpriseOveridesForMP){store.setState({FFThemeEnterpriseOveridesForMP:FFThemeEnterpriseOveridesForMP});}};var useGlobal=useStore(React__default,initialState,actions);var Header=function Header(_ref){var closable=_ref.closable,onClose=_ref.onClose,logo=_ref.logo;var rapidConfig=rapidComponents.useRapidConfig();var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var getLogoUrl=function getLogoUrl(){var FFThemeEnterpriseOveridesForMP=lodash.get(globalState,'FFThemeEnterpriseOveridesForMP');var originalLogo=getAssets(rapidConfig,'logo_url_object.src')||getAssets(rapidConfig,'logo_url');var customLogo=lodash.get(getAssets(rapidConfig,'custom-theme'),'images.logo_url.src',originalLogo);return FFThemeEnterpriseOveridesForMP?customLogo:originalLogo;};return React__default.createElement(antd.Row,{justify:"center",align:"middle"},React__default.createElement(HeaderLogo,{height:34,src:getLogoUrl()}),closable?React__default.createElement(CloseIcon,{src:getAssets(rapidConfig,'closeIcon'),onClick:onClose}):null);};function _templateObject3(){var data=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: content-box;\n    padding: 11px;\n    max-width: 20%;\n    box-sizing: initial;\n    height: 24px;\n\n    @media only screen and (max-width: 824px) {\n      max-width: 100%;\n      padding: 0;\n      margin: auto;\n    }\n  }\n"]);_templateObject3=function _templateObject3(){return data;};return data;}
function _templateObject2$1(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* color: #fff; */\n  font-size: 16px;\n  margin: 0;\n  border-left: solid 3px #aaa;\n  width: 90%;\n  height: ",";\n\n  @media only screen and (max-width: 824px) {\n    display: none;\n  }\n"]);_templateObject2$1=function _templateObject2(){return data;};return data;}
function _templateObject$1(){var data=_taggedTemplateLiteral(["\n  button:hover {\n    opacity: 0.8 !important;\n  }\n"]);_templateObject$1=function _templateObject(){return data;};return data;}
var Wrapper=styled__default.div(_templateObject$1());var ButtonLabel=styled__default.div(_templateObject2$1(),function(_ref){var height=_ref.height;return height||'100%';});var ButtonIcon=styled__default.img(_templateObject3());var SocialAuthButton=function SocialAuthButton(_ref){var label=_ref.label,disabled=_ref.disabled,textColor=_ref.textColor,modalTheme=_ref.modalTheme,asset=_ref.asset,backgroundColor=_ref.backgroundColor,_ref$size=_ref.size,size=_ref$size===void 0?'large':_ref$size,_ref$isMobile=_ref.isMobile,onClick=_ref.onClick,buttonWidth=_ref.buttonWidth,buttonHeight=_ref.buttonHeight;var renderButton=function renderButton(){var rapidConfig=rapidComponents.useRapidConfig();var iconSrc=getAssets(rapidConfig,asset);return React__default.createElement(Wrapper,null,React__default.createElement(antd.Button,{style:{backgroundColor:backgroundColor,color:textColor,fontSize:16,opacity:disabled?'0.6':1,borderRadius:'4px',border:'0 none',width:buttonWidth,height:buttonHeight,padding:0,display:'flex',alignItems:'center'},size:size,onClick:onClick,disabled:disabled},React__default.createElement(ButtonIcon,{src:iconSrc}),React__default.createElement(ButtonLabel,{height:buttonHeight},"Log in with ",label)));};return renderButton();};var socialButtonTypes={google:{asset:'google-plus',label:'Google',backgroundColor:'#cb4023',textColor:'#ffffff'},github:{asset:'github-logo',label:'Github',backgroundColor:'#333333',textColor:'#ffffff'},facebook:{asset:'facebook_login',label:'Facebook',backgroundColor:'#3a5999',textColor:'#ffffff'},keycloak:{asset:'keycloak_login',label:'Keycloak',backgroundColor:'#3a5999',textColor:'#ffffff'},saml:{asset:'saml_login',label:'SAML',backgroundColor:'#e93737',textColor:'#ffffff'},ldaph:{asset:'ldap_login',label:'LDAP'},idp:{asset:'idp_login',label:'iDP'}};var getSocialButtonByType=function getSocialButtonByType(type){return socialButtonTypes[type];};var useIsMobile=rapidComponents.utils.useIsMobile;var popupConfigurations={height:600,width:450};var SocialAuthButtonsList=function SocialAuthButtonsList(_ref){var _ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,buttonWidth=_ref.buttonWidth,buttonHeight=_ref.buttonHeight,_ref$mobileViewDisabl=_ref.mobileViewDisabled,mobileViewDisabled=_ref$mobileViewDisabl===void 0?false:_ref$mobileViewDisabl,_ref$direction=_ref.direction,direction=_ref$direction===void 0?'horizontal':_ref$direction,onSocialLoginSuccess=_ref.onSocialLoginSuccess;var _useIsMobile=useIsMobile(),isMobile=_useIsMobile.isMobile;var rapidConfig=rapidComponents.useRapidConfig();var socialMethodsString=getConfig(rapidConfig,'loginMethods')||'';var socialMethods=socialMethodsString.split(',');var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var referral=lodash.get(globalState,'referral');React.useEffect(function(){window.addEventListener('message',socialActionSuccessPostMessageHandler,false);return function(){window.removeEventListener('message',socialActionSuccessPostMessageHandler,false);};},[]);var socialActionSuccessPostMessageHandler=function socialActionSuccessPostMessageHandler(_ref2){var data=_ref2.data;if(lodash.isFunction(onSocialLoginSuccess)&&data.type==='social_login'){window.localStorage.removeItem('SOURCE_LOGIN');window.localStorage.setItem('SOURCE_LOGIN',data.source);onSocialLoginSuccess({isNewUser:data.isNewUser,referral:referral});}};var getPopUpPosition=function getPopUpPosition(){var dualScreenLeft=window.screenLeft?window.screenLeft:window.screenX;var dualScreenTop=window.screenTop?window.screenTop:window.screenY;var _window=window,innerHeight=_window.innerHeight,innerWidth=_window.innerWidth;var left=innerWidth/2-popupConfigurations.width/2+dualScreenLeft;var top=innerHeight/2-popupConfigurations.height/2+dualScreenTop;return "top=".concat(top,",left=").concat(left);};var socialLoginPathBuilder=function socialLoginPathBuilder(isSocialLoginPlatformOn,platform,locale){return "/".concat(isSocialLoginPlatformOn?'authentication':'auth',"/").concat(platform,"?brand=").concat(lodash.get(window,'__RAPID_CONFIG__.ACTIVE_BRAND','default'),"&rapidClient=").concat(lodash.get(window,'__RAPID_CONFIG__.ACTIVE_BRAND','default'),"-marketplace-services&locale=").concat(locale);};var openSocialPopUp=function openSocialPopUp(platform){if(window.open){var position=getPopUpPosition();var isSocialLoginPlatformOn=rapidFlagsClient.isON('FFAuthenticationService',{platform:platform});var windowPath=socialLoginPathBuilder(isSocialLoginPlatformOn,platform,getLocale());var windowPosition="height=".concat(popupConfigurations.height,",width=").concat(popupConfigurations.width,",").concat(position);window.open(windowPath,windowPosition);if(window.focus){window.focus();}}};var renderSocialButton=function renderSocialButton(type){var _getSocialButtonByTyp=getSocialButtonByType(type),asset=_getSocialButtonByTyp.asset,backgroundColor=_getSocialButtonByTyp.backgroundColor,label=_getSocialButtonByTyp.label,textColor=_getSocialButtonByTyp.textColor;return React__default.createElement(SocialAuthButton,{dataHook:"social-button-".concat(asset),key:asset,label:label,disabled:disabled,textColor:textColor,asset:asset,backgroundColor:backgroundColor,isMobile:mobileViewDisabled?false:isMobile,onClick:function onClick(){return openSocialPopUp(type);},buttonWidth:buttonWidth,buttonHeight:buttonHeight});};return React__default.createElement(antd.Space,{direction:direction,size:"middle"},socialMethods.map(function(socialType){return renderSocialButton(socialType);}));};function _templateObject4(){var data=_taggedTemplateLiteral(["\n  width: 18px;\n  height: 18px;\n  margin-right: 18px;\n"]);_templateObject4=function _templateObject4(){return data;};return data;}
function _templateObject3$1(){var data=_taggedTemplateLiteral(["\n  color: white;\n  font-size: 20px;\n"]);_templateObject3$1=function _templateObject3(){return data;};return data;}
function _templateObject2$2(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);_templateObject2$2=function _templateObject2(){return data;};return data;}
function _templateObject$2(){var data=_taggedTemplateLiteral(["\n  background-image: linear-gradient(to top, #4a90e2, #1d4371);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: inherit;\n  padding: 114px 0;\n\n  @media only screen and (max-width: 991px) {\n    padding-top: 88px;\n  }\n"]);_templateObject$2=function _templateObject(){return data;};return data;}
var Wrapper$1=styled__default.div(_templateObject$2());var BulletWrapper=styled__default.div(_templateObject2$2());var BulletText=styled__default.div(_templateObject3$1());var BulletIcon=styled__default.img(_templateObject4());var TYPE;(function(TYPE){TYPE[TYPE["literal"]=0]="literal";TYPE[TYPE["argument"]=1]="argument";TYPE[TYPE["number"]=2]="number";TYPE[TYPE["date"]=3]="date";TYPE[TYPE["time"]=4]="time";TYPE[TYPE["select"]=5]="select";TYPE[TYPE["plural"]=6]="plural";TYPE[TYPE["pound"]=7]="pound";TYPE[TYPE["tag"]=8]="tag";})(TYPE||(TYPE={}));var SKELETON_TYPE;(function(SKELETON_TYPE){SKELETON_TYPE[SKELETON_TYPE["number"]=0]="number";SKELETON_TYPE[SKELETON_TYPE["dateTime"]=1]="dateTime";})(SKELETON_TYPE||(SKELETON_TYPE={}));function isLiteralElement(el){return el.type===TYPE.literal;}
function isArgumentElement(el){return el.type===TYPE.argument;}
function isNumberElement(el){return el.type===TYPE.number;}
function isDateElement(el){return el.type===TYPE.date;}
function isTimeElement(el){return el.type===TYPE.time;}
function isSelectElement(el){return el.type===TYPE.select;}
function isPluralElement(el){return el.type===TYPE.plural;}
function isPoundElement(el){return el.type===TYPE.pound;}
function isTagElement(el){return el.type===TYPE.tag;}
function isNumberSkeleton(el){return!!(el&&typeof el==='object'&&el.type===0);}
function isDateTimeSkeleton(el){return!!(el&&typeof el==='object'&&el.type===1);}
var __extends=(undefined&&undefined.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __assign=(undefined&&undefined.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign.apply(this,arguments);};var SyntaxError=(function(_super){__extends(SyntaxError,_super);function SyntaxError(message,expected,found,location){var _this=_super.call(this)||this;_this.message=message;_this.expected=expected;_this.found=found;_this.location=location;_this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(_this,SyntaxError);}
return _this;}
SyntaxError.buildMessage=function(expected,found){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase();}
function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return "\\x0"+hex(ch);}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return "\\x"+hex(ch);});}
function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return "\\x0"+hex(ch);}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return "\\x"+hex(ch);});}
function describeExpectation(expectation){switch(expectation.type){case "literal":return "\""+literalEscape(expectation.text)+"\"";case "class":var escapedParts=expectation.parts.map(function(part){return Array.isArray(part)?classEscape(part[0])+"-"+classEscape(part[1]):classEscape(part);});return "["+(expectation.inverted?"^":"")+escapedParts+"]";case "any":return "any character";case "end":return "end of input";case "other":return expectation.description;}}
function describeExpected(expected1){var descriptions=expected1.map(describeExpectation);var i;var j;descriptions.sort();if(descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++){if(descriptions[i-1]!==descriptions[i]){descriptions[j]=descriptions[i];j++;}}
descriptions.length=j;}
switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")
+", or "
+descriptions[descriptions.length-1];}}
function describeFound(found1){return found1?"\""+literalEscape(found1)+"\"":"end of input";}
return "Expected "+describeExpected(expected)+" but "+describeFound(found)+" found.";};return SyntaxError;}(Error));function peg$parse(input,options){options=options!==undefined?options:{};var peg$FAILED={};var peg$startRuleFunctions={start:peg$parsestart};var peg$startRuleFunction=peg$parsestart;var peg$c0=function(parts){return parts.join('');};var peg$c1=function(messageText){return __assign({type:TYPE.literal,value:messageText},insertLocation());};var peg$c2="#";var peg$c3=peg$literalExpectation("#",false);var peg$c4=function(){return __assign({type:TYPE.pound},insertLocation());};var peg$c5=peg$otherExpectation("tagElement");var peg$c6="<";var peg$c7=peg$literalExpectation("<",false);var peg$c8="/>";var peg$c9=peg$literalExpectation("/>",false);var peg$c10=function(value){return __assign({type:TYPE.literal,value:value.join('')},insertLocation());};var peg$c11=function(open,children,close){if(open!==close){error("Mismatch tag \""+open+"\" !== \""+close+"\"",location());}
return __assign({type:TYPE.tag,value:open,children:children},insertLocation());};var peg$c12=function(){messageCtx.push('openingTag');return true;};var peg$c13=">";var peg$c14=peg$literalExpectation(">",false);var peg$c15=function(tag){messageCtx.pop();return true;};var peg$c16=function(tag){return tag;};var peg$c17="</";var peg$c18=peg$literalExpectation("</",false);var peg$c19=function(){messageCtx.push('closingTag');return true;};var peg$c20=peg$otherExpectation("argumentElement");var peg$c21="{";var peg$c22=peg$literalExpectation("{",false);var peg$c23="}";var peg$c24=peg$literalExpectation("}",false);var peg$c25=function(value){return __assign({type:TYPE.argument,value:value},insertLocation());};var peg$c26=peg$otherExpectation("numberSkeletonId");var peg$c27=/^['\/{}]/;var peg$c28=peg$classExpectation(["'","/","{","}"],false,false);var peg$c29=peg$anyExpectation();var peg$c30=peg$otherExpectation("numberSkeletonTokenOption");var peg$c31="/";var peg$c32=peg$literalExpectation("/",false);var peg$c33=function(option){return option;};var peg$c34=peg$otherExpectation("numberSkeletonToken");var peg$c35=function(stem,options){return{stem:stem,options:options};};var peg$c36=function(tokens){return __assign({type:0,tokens:tokens},insertLocation());};var peg$c37="::";var peg$c38=peg$literalExpectation("::",false);var peg$c39=function(skeleton){return skeleton;};var peg$c40=function(){messageCtx.push('numberArgStyle');return true;};var peg$c41=function(style){messageCtx.pop();return style.replace(/\s*$/,'');};var peg$c42=",";var peg$c43=peg$literalExpectation(",",false);var peg$c44="number";var peg$c45=peg$literalExpectation("number",false);var peg$c46=function(value,type,style){return __assign({type:type==='number'?TYPE.number:type==='date'?TYPE.date:TYPE.time,style:style&&style[2],value:value},insertLocation());};var peg$c47="'";var peg$c48=peg$literalExpectation("'",false);var peg$c49=/^[^']/;var peg$c50=peg$classExpectation(["'"],true,false);var peg$c51=/^[^a-zA-Z'{}]/;var peg$c52=peg$classExpectation([["a","z"],["A","Z"],"'","{","}"],true,false);var peg$c53=/^[a-zA-Z]/;var peg$c54=peg$classExpectation([["a","z"],["A","Z"]],false,false);var peg$c55=function(pattern){return __assign({type:1,pattern:pattern},insertLocation());};var peg$c56=function(){messageCtx.push('dateOrTimeArgStyle');return true;};var peg$c57="date";var peg$c58=peg$literalExpectation("date",false);var peg$c59="time";var peg$c60=peg$literalExpectation("time",false);var peg$c61="plural";var peg$c62=peg$literalExpectation("plural",false);var peg$c63="selectordinal";var peg$c64=peg$literalExpectation("selectordinal",false);var peg$c65="offset:";var peg$c66=peg$literalExpectation("offset:",false);var peg$c67=function(value,pluralType,offset,options){return __assign({type:TYPE.plural,pluralType:pluralType==='plural'?'cardinal':'ordinal',value:value,offset:offset?offset[2]:0,options:options.reduce(function(all,_a){var id=_a.id,value=_a.value,optionLocation=_a.location;if(id in all){error("Duplicate option \""+id+"\" in plural element: \""+text()+"\"",location());}
all[id]={value:value,location:optionLocation};return all;},{})},insertLocation());};var peg$c68="select";var peg$c69=peg$literalExpectation("select",false);var peg$c70=function(value,options){return __assign({type:TYPE.select,value:value,options:options.reduce(function(all,_a){var id=_a.id,value=_a.value,optionLocation=_a.location;if(id in all){error("Duplicate option \""+id+"\" in select element: \""+text()+"\"",location());}
all[id]={value:value,location:optionLocation};return all;},{})},insertLocation());};var peg$c71="=";var peg$c72=peg$literalExpectation("=",false);var peg$c73=function(id){messageCtx.push('select');return true;};var peg$c74=function(id,value){messageCtx.pop();return __assign({id:id,value:value},insertLocation());};var peg$c75=function(id){messageCtx.push('plural');return true;};var peg$c76=function(id,value){messageCtx.pop();return __assign({id:id,value:value},insertLocation());};var peg$c77=peg$otherExpectation("whitespace");var peg$c78=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;var peg$c79=peg$classExpectation([["\t","\r"]," ","\x85","\xA0","\u1680",["\u2000","\u200A"],"\u2028","\u2029","\u202F","\u205F","\u3000"],false,false);var peg$c80=peg$otherExpectation("syntax pattern");var peg$c81=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/;var peg$c82=peg$classExpectation([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xA1","\xA7"],"\xA9","\xAB","\xAC","\xAE","\xB0","\xB1","\xB6","\xBB","\xBF","\xD7","\xF7",["\u2010","\u2027"],["\u2030","\u203E"],["\u2041","\u2053"],["\u2055","\u205E"],["\u2190","\u245F"],["\u2500","\u2775"],["\u2794","\u2BFF"],["\u2E00","\u2E7F"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\uFD3E","\uFD3F","\uFE45","\uFE46"],false,false);var peg$c83=peg$otherExpectation("optional whitespace");var peg$c84=peg$otherExpectation("number");var peg$c85="-";var peg$c86=peg$literalExpectation("-",false);var peg$c87=function(negative,num){return num?negative?-num:num:0;};var peg$c89=peg$otherExpectation("double apostrophes");var peg$c90="''";var peg$c91=peg$literalExpectation("''",false);var peg$c92=function(){return "'";};var peg$c93=function(escapedChar,quotedChars){return escapedChar+quotedChars.replace("''","'");};var peg$c94=function(x){return((ignoreTag()||x!=='<')&&x!=='{'&&!(isInPluralOption()&&x==='#')&&!(isNestedMessageText()&&x==='}')&&!(!ignoreTag()&&isNestedMessageText()&&x==='>'));};var peg$c95="\n";var peg$c96=peg$literalExpectation("\n",false);var peg$c97=function(x){return x==='<'||x==='>'||x==='{'||x==='}'||(isInPluralOption()&&x==='#');};var peg$c98=peg$otherExpectation("argNameOrNumber");var peg$c99=peg$otherExpectation("validTag");var peg$c100=peg$otherExpectation("argNumber");var peg$c101="0";var peg$c102=peg$literalExpectation("0",false);var peg$c103=function(){return 0;};var peg$c104=/^[1-9]/;var peg$c105=peg$classExpectation([["1","9"]],false,false);var peg$c106=/^[0-9]/;var peg$c107=peg$classExpectation([["0","9"]],false,false);var peg$c108=function(digits){return parseInt(digits.join(''),10);};var peg$c109=peg$otherExpectation("argName");var peg$c110=peg$otherExpectation("tagName");var peg$currPos=0;var peg$savedPos=0;var peg$posDetailsCache=[{line:1,column:1}];var peg$maxFailPos=0;var peg$maxFailExpected=[];var peg$silentFails=0;var peg$result;if(options.startRule!==undefined){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+"\".");}
peg$startRuleFunction=peg$startRuleFunctions[options.startRule];}
function text(){return input.substring(peg$savedPos,peg$currPos);}
function location(){return peg$computeLocation(peg$savedPos,peg$currPos);}
function error(message,location1){location1=location1!==undefined?location1:peg$computeLocation(peg$savedPos,peg$currPos);throw peg$buildSimpleError(message,location1);}
function peg$literalExpectation(text1,ignoreCase){return{type:"literal",text:text1,ignoreCase:ignoreCase};}
function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase};}
function peg$anyExpectation(){return{type:"any"};}
function peg$endExpectation(){return{type:"end"};}
function peg$otherExpectation(description){return{type:"other",description:description};}
function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos];var p;if(details){return details;}
else{p=pos-1;while(!peg$posDetailsCache[p]){p--;}
details=peg$posDetailsCache[p];details={line:details.line,column:details.column};while(p<pos){if(input.charCodeAt(p)===10){details.line++;details.column=1;}
else{details.column++;}
p++;}
peg$posDetailsCache[pos]=details;return details;}}
function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos);var endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}};}
function peg$fail(expected1){if(peg$currPos<peg$maxFailPos){return;}
if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[];}
peg$maxFailExpected.push(expected1);}
function peg$buildSimpleError(message,location1){return new SyntaxError(message,[],"",location1);}
function peg$buildStructuredError(expected1,found,location1){return new SyntaxError(SyntaxError.buildMessage(expected1,found),expected1,found,location1);}
function peg$parsestart(){var s0;s0=peg$parsemessage();return s0;}
function peg$parsemessage(){var s0,s1;s0=[];s1=peg$parsemessageElement();while(s1!==peg$FAILED){s0.push(s1);s1=peg$parsemessageElement();}
return s0;}
function peg$parsemessageElement(){var s0;s0=peg$parseliteralElement();if(s0===peg$FAILED){s0=peg$parseargumentElement();if(s0===peg$FAILED){s0=peg$parsesimpleFormatElement();if(s0===peg$FAILED){s0=peg$parsepluralElement();if(s0===peg$FAILED){s0=peg$parseselectElement();if(s0===peg$FAILED){s0=peg$parsetagElement();if(s0===peg$FAILED){s0=peg$parsepoundElement();}}}}}}
return s0;}
function peg$parsemessageText(){var s0,s1,s2;s0=peg$currPos;s1=[];s2=peg$parsedoubleApostrophes();if(s2===peg$FAILED){s2=peg$parsequotedString();if(s2===peg$FAILED){s2=peg$parseunquotedString();}}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsedoubleApostrophes();if(s2===peg$FAILED){s2=peg$parsequotedString();if(s2===peg$FAILED){s2=peg$parseunquotedString();}}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c0(s1);}
s0=s1;return s0;}
function peg$parseliteralElement(){var s0,s1;s0=peg$currPos;s1=peg$parsemessageText();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c1(s1);}
s0=s1;return s0;}
function peg$parsepoundElement(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===35){s1=peg$c2;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c3);}}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c4();}
s0=s1;return s0;}
function peg$parsetagElement(){var s0,s1,s2,s3,s4,s5;peg$silentFails++;s0=peg$currPos;s1=peg$currPos;if(input.charCodeAt(peg$currPos)===60){s2=peg$c6;peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s2!==peg$FAILED){s3=peg$parsevalidTag();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c8){s5=peg$c8;peg$currPos+=2;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s5!==peg$FAILED){s2=[s2,s3,s4,s5];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c10(s1);}
s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseopeningTag();if(s1!==peg$FAILED){s2=peg$parsemessage();if(s2!==peg$FAILED){s3=peg$parseclosingTag();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c11(s1,s2,s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5);}}
return s0;}
function peg$parseopeningTag(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===60){s1=peg$c6;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s1!==peg$FAILED){peg$savedPos=peg$currPos;s2=peg$c12();if(s2){s2=undefined;}
else{s2=peg$FAILED;}
if(s2!==peg$FAILED){s3=peg$parsevalidTag();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s4=peg$c13;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s4!==peg$FAILED){peg$savedPos=peg$currPos;s5=peg$c15();if(s5){s5=undefined;}
else{s5=peg$FAILED;}
if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c16(s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parseclosingTag(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c17){s1=peg$c17;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c18);}}
if(s1!==peg$FAILED){peg$savedPos=peg$currPos;s2=peg$c19();if(s2){s2=undefined;}
else{s2=peg$FAILED;}
if(s2!==peg$FAILED){s3=peg$parsevalidTag();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s4=peg$c13;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s4!==peg$FAILED){peg$savedPos=peg$currPos;s5=peg$c15();if(s5){s5=undefined;}
else{s5=peg$FAILED;}
if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c16(s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parseargumentElement(){var s0,s1,s2,s3,s4,s5;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c21;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c23;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c25(s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}
return s0;}
function peg$parsenumberSkeletonId(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){if(peg$c27.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){if(peg$c27.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c26);}}
return s0;}
function peg$parsenumberSkeletonTokenOption(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===47){s1=peg$c31;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c32);}}
if(s1!==peg$FAILED){s2=peg$parsenumberSkeletonId();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c33(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30);}}
return s0;}
function peg$parsenumberSkeletonToken(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parsenumberSkeletonId();if(s2!==peg$FAILED){s3=[];s4=peg$parsenumberSkeletonTokenOption();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsenumberSkeletonTokenOption();}
if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c35(s2,s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c34);}}
return s0;}
function peg$parsenumberSkeleton(){var s0,s1,s2;s0=peg$currPos;s1=[];s2=peg$parsenumberSkeletonToken();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsenumberSkeletonToken();}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c36(s1);}
s0=s1;return s0;}
function peg$parsenumberArgStyle(){var s0,s1,s2;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c37){s1=peg$c37;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c38);}}
if(s1!==peg$FAILED){s2=peg$parsenumberSkeleton();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c39(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c40();if(s1){s1=undefined;}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s2=peg$parsemessageText();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c41(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
return s0;}
function peg$parsenumberFormatElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c21;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c42;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c44){s7=peg$c44;peg$currPos+=6;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45);}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){s9=peg$currPos;if(input.charCodeAt(peg$currPos)===44){s10=peg$c42;peg$currPos++;}
else{s10=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s10!==peg$FAILED){s11=peg$parse_();if(s11!==peg$FAILED){s12=peg$parsenumberArgStyle();if(s12!==peg$FAILED){s10=[s10,s11,s12];s9=s10;}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}
if(s9===peg$FAILED){s9=null;}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s11=peg$c23;peg$currPos++;}
else{s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s11!==peg$FAILED){peg$savedPos=s0;s1=peg$c46(s3,s7,s9);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsedateTimeSkeletonLiteral(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c47;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}
if(s1!==peg$FAILED){s2=[];s3=peg$parsedoubleApostrophes();if(s3===peg$FAILED){if(peg$c49.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++;}
else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50);}}}
if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedoubleApostrophes();if(s3===peg$FAILED){if(peg$c49.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++;}
else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50);}}}}}
else{s2=peg$FAILED;}
if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c47;peg$currPos++;}
else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}
if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
if(s0===peg$FAILED){s0=[];s1=peg$parsedoubleApostrophes();if(s1===peg$FAILED){if(peg$c51.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52);}}}
if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);s1=peg$parsedoubleApostrophes();if(s1===peg$FAILED){if(peg$c51.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52);}}}}}
else{s0=peg$FAILED;}}
return s0;}
function peg$parsedateTimeSkeletonPattern(){var s0,s1;s0=[];if(peg$c53.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c54);}}
if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);if(peg$c53.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c54);}}}}
else{s0=peg$FAILED;}
return s0;}
function peg$parsedateTimeSkeleton(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;s2=[];s3=peg$parsedateTimeSkeletonLiteral();if(s3===peg$FAILED){s3=peg$parsedateTimeSkeletonPattern();}
if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedateTimeSkeletonLiteral();if(s3===peg$FAILED){s3=peg$parsedateTimeSkeletonPattern();}}}
else{s2=peg$FAILED;}
if(s2!==peg$FAILED){s1=input.substring(s1,peg$currPos);}
else{s1=s2;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c55(s1);}
s0=s1;return s0;}
function peg$parsedateOrTimeArgStyle(){var s0,s1,s2;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c37){s1=peg$c37;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c38);}}
if(s1!==peg$FAILED){s2=peg$parsedateTimeSkeleton();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c39(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c56();if(s1){s1=undefined;}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s2=peg$parsemessageText();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c41(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
return s0;}
function peg$parsedateOrTimeFormatElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c21;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c42;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,4)===peg$c57){s7=peg$c57;peg$currPos+=4;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c58);}}
if(s7===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c59){s7=peg$c59;peg$currPos+=4;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c60);}}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){s9=peg$currPos;if(input.charCodeAt(peg$currPos)===44){s10=peg$c42;peg$currPos++;}
else{s10=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s10!==peg$FAILED){s11=peg$parse_();if(s11!==peg$FAILED){s12=peg$parsedateOrTimeArgStyle();if(s12!==peg$FAILED){s10=[s10,s11,s12];s9=s10;}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}
if(s9===peg$FAILED){s9=null;}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s11=peg$c23;peg$currPos++;}
else{s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s11!==peg$FAILED){peg$savedPos=s0;s1=peg$c46(s3,s7,s9);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsesimpleFormatElement(){var s0;s0=peg$parsenumberFormatElement();if(s0===peg$FAILED){s0=peg$parsedateOrTimeFormatElement();}
return s0;}
function peg$parsepluralElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c21;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c42;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c61){s7=peg$c61;peg$currPos+=6;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c62);}}
if(s7===peg$FAILED){if(input.substr(peg$currPos,13)===peg$c63){s7=peg$c63;peg$currPos+=13;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c64);}}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s9=peg$c42;peg$currPos++;}
else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){s11=peg$currPos;if(input.substr(peg$currPos,7)===peg$c65){s12=peg$c65;peg$currPos+=7;}
else{s12=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c66);}}
if(s12!==peg$FAILED){s13=peg$parse_();if(s13!==peg$FAILED){s14=peg$parsenumber();if(s14!==peg$FAILED){s12=[s12,s13,s14];s11=s12;}
else{peg$currPos=s11;s11=peg$FAILED;}}
else{peg$currPos=s11;s11=peg$FAILED;}}
else{peg$currPos=s11;s11=peg$FAILED;}
if(s11===peg$FAILED){s11=null;}
if(s11!==peg$FAILED){s12=peg$parse_();if(s12!==peg$FAILED){s13=[];s14=peg$parsepluralOption();if(s14!==peg$FAILED){while(s14!==peg$FAILED){s13.push(s14);s14=peg$parsepluralOption();}}
else{s13=peg$FAILED;}
if(s13!==peg$FAILED){s14=peg$parse_();if(s14!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s15=peg$c23;peg$currPos++;}
else{s15=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s15!==peg$FAILED){peg$savedPos=s0;s1=peg$c67(s3,s7,s11,s13);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parseselectElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c21;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c42;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c68){s7=peg$c68;peg$currPos+=6;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c69);}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s9=peg$c42;peg$currPos++;}
else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){s11=[];s12=peg$parseselectOption();if(s12!==peg$FAILED){while(s12!==peg$FAILED){s11.push(s12);s12=peg$parseselectOption();}}
else{s11=peg$FAILED;}
if(s11!==peg$FAILED){s12=peg$parse_();if(s12!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s13=peg$c23;peg$currPos++;}
else{s13=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s13!==peg$FAILED){peg$savedPos=s0;s1=peg$c70(s3,s11);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsepluralRuleSelectValue(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;if(input.charCodeAt(peg$currPos)===61){s2=peg$c71;peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c72);}}
if(s2!==peg$FAILED){s3=peg$parsenumber();if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
if(s0===peg$FAILED){s0=peg$parseargName();}
return s0;}
function peg$parseselectOption(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parseargName();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s4=peg$c21;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s4!==peg$FAILED){peg$savedPos=peg$currPos;s5=peg$c73();if(s5){s5=undefined;}
else{s5=peg$FAILED;}
if(s5!==peg$FAILED){s6=peg$parsemessage();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s7=peg$c23;peg$currPos++;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c74(s2,s6);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsepluralOption(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parsepluralRuleSelectValue();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s4=peg$c21;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}
if(s4!==peg$FAILED){peg$savedPos=peg$currPos;s5=peg$c75();if(s5){s5=undefined;}
else{s5=peg$FAILED;}
if(s5!==peg$FAILED){s6=peg$parsemessage();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s7=peg$c23;peg$currPos++;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}
if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c76(s2,s6);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsewhiteSpace(){var s0;peg$silentFails++;if(peg$c78.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}
else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c79);}}
peg$silentFails--;if(s0===peg$FAILED){if(peg$silentFails===0){peg$fail(peg$c77);}}
return s0;}
function peg$parsepatternSyntax(){var s0;peg$silentFails++;if(peg$c81.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}
else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}
peg$silentFails--;if(s0===peg$FAILED){if(peg$silentFails===0){peg$fail(peg$c80);}}
return s0;}
function peg$parse_(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$parsewhiteSpace();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsewhiteSpace();}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c83);}}
return s0;}
function peg$parsenumber(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c85;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86);}}
if(s1===peg$FAILED){s1=null;}
if(s1!==peg$FAILED){s2=peg$parseargNumber();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c87(s1,s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c84);}}
return s0;}
function peg$parsedoubleApostrophes(){var s0,s1;peg$silentFails++;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c90){s1=peg$c90;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91);}}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c92();}
s0=s1;peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89);}}
return s0;}
function peg$parsequotedString(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c47;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}
if(s1!==peg$FAILED){s2=peg$parseescapedChar();if(s2!==peg$FAILED){s3=peg$currPos;s4=[];if(input.substr(peg$currPos,2)===peg$c90){s5=peg$c90;peg$currPos+=2;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91);}}
if(s5===peg$FAILED){if(peg$c49.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50);}}}
while(s5!==peg$FAILED){s4.push(s5);if(input.substr(peg$currPos,2)===peg$c90){s5=peg$c90;peg$currPos+=2;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91);}}
if(s5===peg$FAILED){if(peg$c49.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50);}}}}
if(s4!==peg$FAILED){s3=input.substring(s3,peg$currPos);}
else{s3=s4;}
if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s4=peg$c47;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}
if(s4===peg$FAILED){s4=null;}
if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c93(s2,s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parseunquotedString(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s2!==peg$FAILED){peg$savedPos=peg$currPos;s3=peg$c94(s2);if(s3){s3=undefined;}
else{s3=peg$FAILED;}
if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===10){s1=peg$c95;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c96);}}}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
return s0;}
function peg$parseescapedChar(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s2!==peg$FAILED){peg$savedPos=peg$currPos;s3=peg$c97(s2);if(s3){s3=undefined;}
else{s3=peg$FAILED;}
if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
return s0;}
function peg$parseargNameOrNumber(){var s0,s1;peg$silentFails++;s0=peg$currPos;s1=peg$parseargNumber();if(s1===peg$FAILED){s1=peg$parseargName();}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c98);}}
return s0;}
function peg$parsevalidTag(){var s0,s1;peg$silentFails++;s0=peg$currPos;s1=peg$parseargNumber();if(s1===peg$FAILED){s1=peg$parsetagName();}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c99);}}
return s0;}
function peg$parseargNumber(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===48){s1=peg$c101;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c102);}}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c103();}
s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;if(peg$c104.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c105);}}
if(s2!==peg$FAILED){s3=[];if(peg$c106.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c107);}}
while(s4!==peg$FAILED){s3.push(s4);if(peg$c106.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c107);}}}
if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c108(s1);}
s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c100);}}
return s0;}
function peg$parseargName(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){s4=peg$parsepatternSyntax();}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){s4=peg$parsepatternSyntax();}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c109);}}
return s0;}
function peg$parsetagName(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];if(input.charCodeAt(peg$currPos)===45){s2=peg$c85;peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86);}}
if(s2===peg$FAILED){s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){s4=peg$parsepatternSyntax();}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(input.charCodeAt(peg$currPos)===45){s2=peg$c85;peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86);}}
if(s2===peg$FAILED){s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){s4=peg$parsepatternSyntax();}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c110);}}
return s0;}
var messageCtx=['root'];function isNestedMessageText(){return messageCtx.length>1;}
function isInPluralOption(){return messageCtx[messageCtx.length-1]==='plural';}
function insertLocation(){return options&&options.captureLocation?{location:location()}:{};}
function ignoreTag(){return options&&options.ignoreTag;}
peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result;}
else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail(peg$endExpectation());}
throw peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos));}}
var pegParse=peg$parse;var __spreadArrays=(undefined&&undefined.__spreadArrays)||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};var PLURAL_HASHTAG_REGEX=/(^|[^\\])#/g;function normalizeHashtagInPlural(els){els.forEach(function(el){if(!isPluralElement(el)&&!isSelectElement(el)){return;}
Object.keys(el.options).forEach(function(id){var _a;var opt=el.options[id];var matchingLiteralElIndex=-1;var literalEl=undefined;for(var i=0;i<opt.value.length;i++){var el_1=opt.value[i];if(isLiteralElement(el_1)&&PLURAL_HASHTAG_REGEX.test(el_1.value)){matchingLiteralElIndex=i;literalEl=el_1;break;}}
if(literalEl){var newValue=literalEl.value.replace(PLURAL_HASHTAG_REGEX,"$1{"+el.value+", number}");var newEls=pegParse(newValue);(_a=opt.value).splice.apply(_a,__spreadArrays([matchingLiteralElIndex,1],newEls));}
normalizeHashtagInPlural(opt.value);});});}
var __assign$1=(undefined&&undefined.__assign)||function(){__assign$1=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$1.apply(this,arguments);};var DATE_TIME_REGEX=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function parseDateTimeSkeleton(skeleton){var result={};skeleton.replace(DATE_TIME_REGEX,function(match){var len=match.length;switch(match[0]){case 'G':result.era=len===4?'long':len===5?'narrow':'short';break;case 'y':result.year=len===2?'2-digit':'numeric';break;case 'Y':case 'u':case 'U':case 'r':throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');case 'q':case 'Q':throw new RangeError('`q/Q` (quarter) patterns are not supported');case 'M':case 'L':result.month=['numeric','2-digit','short','long','narrow'][len-1];break;case 'w':case 'W':throw new RangeError('`w/W` (week) patterns are not supported');case 'd':result.day=['numeric','2-digit'][len-1];break;case 'D':case 'F':case 'g':throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');case 'E':result.weekday=len===4?'short':len===5?'narrow':'short';break;case 'e':if(len<4){throw new RangeError('`e..eee` (weekday) patterns are not supported');}
result.weekday=['short','long','narrow','short'][len-4];break;case 'c':if(len<4){throw new RangeError('`c..ccc` (weekday) patterns are not supported');}
result.weekday=['short','long','narrow','short'][len-4];break;case 'a':result.hour12=true;break;case 'b':case 'B':throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');case 'h':result.hourCycle='h12';result.hour=['numeric','2-digit'][len-1];break;case 'H':result.hourCycle='h23';result.hour=['numeric','2-digit'][len-1];break;case 'K':result.hourCycle='h11';result.hour=['numeric','2-digit'][len-1];break;case 'k':result.hourCycle='h24';result.hour=['numeric','2-digit'][len-1];break;case 'j':case 'J':case 'C':throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');case 'm':result.minute=['numeric','2-digit'][len-1];break;case 's':result.second=['numeric','2-digit'][len-1];break;case 'S':case 'A':throw new RangeError('`S/A` (second) pattenrs are not supported, use `s` instead');case 'z':result.timeZoneName=len<4?'short':'long';break;case 'Z':case 'O':case 'v':case 'V':case 'X':case 'x':throw new RangeError('`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead');}
return '';});return result;}
function icuUnitToEcma(unit){return unit.replace(/^(.*?)-/,'');}
var FRACTION_PRECISION_REGEX=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g;var SIGNIFICANT_PRECISION_REGEX=/^(@+)?(\+|#+)?$/g;function parseSignificantPrecision(str){var result={};str.replace(SIGNIFICANT_PRECISION_REGEX,function(_,g1,g2){if(typeof g2!=='string'){result.minimumSignificantDigits=g1.length;result.maximumSignificantDigits=g1.length;}
else if(g2==='+'){result.minimumSignificantDigits=g1.length;}
else if(g1[0]==='#'){result.maximumSignificantDigits=g1.length;}
else{result.minimumSignificantDigits=g1.length;result.maximumSignificantDigits=g1.length+(typeof g2==='string'?g2.length:0);}
return '';});return result;}
function parseSign(str){switch(str){case 'sign-auto':return{signDisplay:'auto',};case 'sign-accounting':return{currencySign:'accounting',};case 'sign-always':return{signDisplay:'always',};case 'sign-accounting-always':return{signDisplay:'always',currencySign:'accounting',};case 'sign-except-zero':return{signDisplay:'exceptZero',};case 'sign-accounting-except-zero':return{signDisplay:'exceptZero',currencySign:'accounting',};case 'sign-never':return{signDisplay:'never',};}}
function parseNotationOptions(opt){var result={};var signOpts=parseSign(opt);if(signOpts){return signOpts;}
return result;}
function convertNumberSkeletonToNumberFormatOptions(tokens){var result={};for(var _i=0,tokens_1=tokens;_i<tokens_1.length;_i++){var token=tokens_1[_i];switch(token.stem){case 'percent':result.style='percent';continue;case 'currency':result.style='currency';result.currency=token.options[0];continue;case 'group-off':result.useGrouping=false;continue;case 'precision-integer':case '.':result.maximumFractionDigits=0;continue;case 'measure-unit':result.style='unit';result.unit=icuUnitToEcma(token.options[0]);continue;case 'compact-short':result.notation='compact';result.compactDisplay='short';continue;case 'compact-long':result.notation='compact';result.compactDisplay='long';continue;case 'scientific':result=__assign$1(__assign$1(__assign$1({},result),{notation:'scientific'}),token.options.reduce(function(all,opt){return(__assign$1(__assign$1({},all),parseNotationOptions(opt)));},{}));continue;case 'engineering':result=__assign$1(__assign$1(__assign$1({},result),{notation:'engineering'}),token.options.reduce(function(all,opt){return(__assign$1(__assign$1({},all),parseNotationOptions(opt)));},{}));continue;case 'notation-simple':result.notation='standard';continue;case 'unit-width-narrow':result.currencyDisplay='narrowSymbol';result.unitDisplay='narrow';continue;case 'unit-width-short':result.currencyDisplay='code';result.unitDisplay='short';continue;case 'unit-width-full-name':result.currencyDisplay='name';result.unitDisplay='long';continue;case 'unit-width-iso-code':result.currencyDisplay='symbol';continue;}
if(FRACTION_PRECISION_REGEX.test(token.stem)){if(token.options.length>1){throw new RangeError('Fraction-precision stems only accept a single optional option');}
token.stem.replace(FRACTION_PRECISION_REGEX,function(match,g1,g2,g3,g4,g5){if(g2==='*'){result.minimumFractionDigits=g1.length;}
else if(g3&&g3[0]==='#'){result.maximumFractionDigits=g3.length;}
else if(g4&&g5){result.minimumFractionDigits=g4.length;result.maximumFractionDigits=g4.length+g5.length;}
else{result.minimumFractionDigits=g1.length;result.maximumFractionDigits=g1.length;}
return '';});if(token.options.length){result=__assign$1(__assign$1({},result),parseSignificantPrecision(token.options[0]));}
continue;}
if(SIGNIFICANT_PRECISION_REGEX.test(token.stem)){result=__assign$1(__assign$1({},result),parseSignificantPrecision(token.stem));continue;}
var signOpts=parseSign(token.stem);if(signOpts){result=__assign$1(__assign$1({},result),signOpts);}}
return result;}
function parse(input,opts){var els=pegParse(input,opts);if(!opts||opts.normalizeHashtagInPlural!==false){normalizeHashtagInPlural(els);}
return els;}
var __spreadArrays$1=(undefined&&undefined.__spreadArrays)||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};function getCacheId(inputs){return JSON.stringify(inputs.map(function(input){return input&&typeof input==='object'?orderedProps(input):input;}));}
function orderedProps(obj){return Object.keys(obj).sort().map(function(k){var _a;return(_a={},_a[k]=obj[k],_a);});}
var memoizeFormatConstructor=function(FormatConstructor,cache){if(cache===void 0){cache={};}
return function(){var _a;var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
var cacheId=getCacheId(args);var format=cacheId&&cache[cacheId];if(!format){format=new((_a=FormatConstructor).bind.apply(_a,__spreadArrays$1([void 0],args)))();if(cacheId){cache[cacheId]=format;}}
return format;};};var __extends$1=(undefined&&undefined.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var ErrorCode;(function(ErrorCode){ErrorCode["MISSING_VALUE"]="MISSING_VALUE";ErrorCode["INVALID_VALUE"]="INVALID_VALUE";ErrorCode["MISSING_INTL_API"]="MISSING_INTL_API";})(ErrorCode||(ErrorCode={}));var FormatError=(function(_super){__extends$1(FormatError,_super);function FormatError(msg,code,originalMessage){var _this=_super.call(this,msg)||this;_this.code=code;_this.originalMessage=originalMessage;return _this;}
FormatError.prototype.toString=function(){return "[formatjs Error: "+this.code+"] "+this.message;};return FormatError;}(Error));var InvalidValueError=(function(_super){__extends$1(InvalidValueError,_super);function InvalidValueError(variableId,value,options,originalMessage){return _super.call(this,"Invalid values for \""+variableId+"\": \""+value+"\". Options are \""+Object.keys(options).join('", "')+"\"","INVALID_VALUE",originalMessage)||this;}
return InvalidValueError;}(FormatError));var InvalidValueTypeError=(function(_super){__extends$1(InvalidValueTypeError,_super);function InvalidValueTypeError(value,type,originalMessage){return _super.call(this,"Value for \""+value+"\" must be of type "+type,"INVALID_VALUE",originalMessage)||this;}
return InvalidValueTypeError;}(FormatError));var MissingValueError=(function(_super){__extends$1(MissingValueError,_super);function MissingValueError(variableId,originalMessage){return _super.call(this,"The intl string context variable \""+variableId+"\" was not provided to the string \""+originalMessage+"\"","MISSING_VALUE",originalMessage)||this;}
return MissingValueError;}(FormatError));var PART_TYPE;(function(PART_TYPE){PART_TYPE[PART_TYPE["literal"]=0]="literal";PART_TYPE[PART_TYPE["object"]=1]="object";})(PART_TYPE||(PART_TYPE={}));function mergeLiteral(parts){if(parts.length<2){return parts;}
return parts.reduce(function(all,part){var lastPart=all[all.length-1];if(!lastPart||lastPart.type!==0||part.type!==0){all.push(part);}
else{lastPart.value+=part.value;}
return all;},[]);}
function isFormatXMLElementFn(el){return typeof el==='function';}
function formatToParts(els,locales,formatters,formats,values,currentPluralValue,originalMessage){if(els.length===1&&isLiteralElement(els[0])){return[{type:0,value:els[0].value,},];}
var result=[];for(var _i=0,els_1=els;_i<els_1.length;_i++){var el=els_1[_i];if(isLiteralElement(el)){result.push({type:0,value:el.value,});continue;}
if(isPoundElement(el)){if(typeof currentPluralValue==='number'){result.push({type:0,value:formatters.getNumberFormat(locales).format(currentPluralValue),});}
continue;}
var varName=el.value;if(!(values&&varName in values)){throw new MissingValueError(varName,originalMessage);}
var value=values[varName];if(isArgumentElement(el)){if(!value||typeof value==='string'||typeof value==='number'){value=typeof value==='string'||typeof value==='number'?String(value):'';}
result.push({type:typeof value==='string'?0:1,value:value,});continue;}
if(isDateElement(el)){var style=typeof el.style==='string'?formats.date[el.style]:isDateTimeSkeleton(el.style)?parseDateTimeSkeleton(el.style.pattern):undefined;result.push({type:0,value:formatters.getDateTimeFormat(locales,style).format(value),});continue;}
if(isTimeElement(el)){var style=typeof el.style==='string'?formats.time[el.style]:isDateTimeSkeleton(el.style)?parseDateTimeSkeleton(el.style.pattern):undefined;result.push({type:0,value:formatters.getDateTimeFormat(locales,style).format(value),});continue;}
if(isNumberElement(el)){var style=typeof el.style==='string'?formats.number[el.style]:isNumberSkeleton(el.style)?convertNumberSkeletonToNumberFormatOptions(el.style.tokens):undefined;result.push({type:0,value:formatters.getNumberFormat(locales,style).format(value),});continue;}
if(isTagElement(el)){var children=el.children,value_1=el.value;var formatFn=values[value_1];if(!isFormatXMLElementFn(formatFn)){throw new InvalidValueTypeError(value_1,'function',originalMessage);}
var parts=formatToParts(children,locales,formatters,formats,values,currentPluralValue);var chunks=formatFn.apply(void 0,parts.map(function(p){return p.value;}));if(!Array.isArray(chunks)){chunks=[chunks];}
result.push.apply(result,chunks.map(function(c){return{type:typeof c==='string'?0:1,value:c,};}));}
if(isSelectElement(el)){var opt=el.options[value]||el.options.other;if(!opt){throw new InvalidValueError(el.value,value,Object.keys(el.options),originalMessage);}
result.push.apply(result,formatToParts(opt.value,locales,formatters,formats,values));continue;}
if(isPluralElement(el)){var opt=el.options["="+value];if(!opt){if(!Intl.PluralRules){throw new FormatError("Intl.PluralRules is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-pluralrules\"\n","MISSING_INTL_API",originalMessage);}
var rule=formatters.getPluralRules(locales,{type:el.pluralType}).select(value-(el.offset||0));opt=el.options[rule]||el.options.other;}
if(!opt){throw new InvalidValueError(el.value,value,Object.keys(el.options),originalMessage);}
result.push.apply(result,formatToParts(opt.value,locales,formatters,formats,values,value-(el.offset||0)));continue;}}
return mergeLiteral(result);}
var __assign$2=(undefined&&undefined.__assign)||function(){__assign$2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$2.apply(this,arguments);};function mergeConfig(c1,c2){if(!c2){return c1;}
return __assign$2(__assign$2(__assign$2({},(c1||{})),(c2||{})),Object.keys(c1).reduce(function(all,k){all[k]=__assign$2(__assign$2({},c1[k]),(c2[k]||{}));return all;},{}));}
function mergeConfigs(defaultConfig,configs){if(!configs){return defaultConfig;}
return Object.keys(defaultConfig).reduce(function(all,k){all[k]=mergeConfig(defaultConfig[k],configs[k]);return all;},__assign$2({},defaultConfig));}
function createDefaultFormatters(cache){if(cache===void 0){cache={number:{},dateTime:{},pluralRules:{},};}
return{getNumberFormat:memoizeFormatConstructor(Intl.NumberFormat,cache.number),getDateTimeFormat:memoizeFormatConstructor(Intl.DateTimeFormat,cache.dateTime),getPluralRules:memoizeFormatConstructor(Intl.PluralRules,cache.pluralRules),};}
var IntlMessageFormat=(function(){function IntlMessageFormat(message,locales,overrideFormats,opts){var _this=this;if(locales===void 0){locales=IntlMessageFormat.defaultLocale;}
this.formatterCache={number:{},dateTime:{},pluralRules:{},};this.format=function(values){var parts=_this.formatToParts(values);if(parts.length===1){return parts[0].value;}
var result=parts.reduce(function(all,part){if(!all.length||part.type!==0||typeof all[all.length-1]!=='string'){all.push(part.value);}
else{all[all.length-1]+=part.value;}
return all;},[]);if(result.length<=1){return result[0]||'';}
return result;};this.formatToParts=function(values){return formatToParts(_this.ast,_this.locales,_this.formatters,_this.formats,values,undefined,_this.message);};this.resolvedOptions=function(){return({locale:Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],});};this.getAst=function(){return _this.ast;};if(typeof message==='string'){this.message=message;if(!IntlMessageFormat.__parse){throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');}
this.ast=IntlMessageFormat.__parse(message,{normalizeHashtagInPlural:false,});}
else{this.ast=message;}
if(!Array.isArray(this.ast)){throw new TypeError('A message must be provided as a String or AST.');}
this.formats=mergeConfigs(IntlMessageFormat.formats,overrideFormats);this.locales=locales;this.formatters=(opts&&opts.formatters)||createDefaultFormatters(this.formatterCache);}
Object.defineProperty(IntlMessageFormat,"defaultLocale",{get:function(){if(!IntlMessageFormat.memoizedDefaultLocale){IntlMessageFormat.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale;}
return IntlMessageFormat.memoizedDefaultLocale;},enumerable:true,configurable:true});IntlMessageFormat.memoizedDefaultLocale=null;IntlMessageFormat.__parse=parse;IntlMessageFormat.formats={number:{currency:{style:'currency',},percent:{style:'percent',},},date:{short:{month:'numeric',day:'numeric',year:'2-digit',},medium:{month:'short',day:'numeric',year:'numeric',},long:{month:'long',day:'numeric',year:'numeric',},full:{weekday:'long',month:'long',day:'numeric',year:'numeric',},},time:{short:{hour:'numeric',minute:'numeric',},medium:{hour:'numeric',minute:'numeric',second:'numeric',},long:{hour:'numeric',minute:'numeric',second:'numeric',timeZoneName:'short',},full:{hour:'numeric',minute:'numeric',second:'numeric',timeZoneName:'short',},},};return IntlMessageFormat;}());function invariant(condition,message,Err){if(Err===void 0){Err=Error;}
if(!condition){throw new Err(message);}}
var __extends$2=(undefined&&undefined.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var ReactIntlErrorCode;(function(ReactIntlErrorCode){ReactIntlErrorCode["FORMAT_ERROR"]="FORMAT_ERROR";ReactIntlErrorCode["UNSUPPORTED_FORMATTER"]="UNSUPPORTED_FORMATTER";ReactIntlErrorCode["INVALID_CONFIG"]="INVALID_CONFIG";ReactIntlErrorCode["MISSING_DATA"]="MISSING_DATA";ReactIntlErrorCode["MISSING_TRANSLATION"]="MISSING_TRANSLATION";})(ReactIntlErrorCode||(ReactIntlErrorCode={}));var ReactIntlError=(function(_super){__extends$2(ReactIntlError,_super);function ReactIntlError(code,message,exception){var _this=_super.call(this,"[React Intl Error "+code+"] "+message+" \n"+(exception?"\n"+exception.stack:''))||this;_this.code=code;if(typeof Error.captureStackTrace==='function'){Error.captureStackTrace(_this,ReactIntlError);}
return _this;}
return ReactIntlError;}(Error));var UnsupportedFormatterError=(function(_super){__extends$2(UnsupportedFormatterError,_super);function UnsupportedFormatterError(message,exception){return _super.call(this,"UNSUPPORTED_FORMATTER",message,exception)||this;}
return UnsupportedFormatterError;}(ReactIntlError));var InvalidConfigError=(function(_super){__extends$2(InvalidConfigError,_super);function InvalidConfigError(message,exception){return _super.call(this,"INVALID_CONFIG",message,exception)||this;}
return InvalidConfigError;}(ReactIntlError));var MissingDataError=(function(_super){__extends$2(MissingDataError,_super);function MissingDataError(message,exception){return _super.call(this,"MISSING_DATA",message,exception)||this;}
return MissingDataError;}(ReactIntlError));var MessageFormatError=(function(_super){__extends$2(MessageFormatError,_super);function MessageFormatError(message,locale,descriptor,exception){var _this=_super.call(this,"FORMAT_ERROR",message+" \nLocale: "+locale+"\nMessageID: "+(descriptor===null||descriptor===void 0?void 0:descriptor.id)+"\nDefault Message: "+(descriptor===null||descriptor===void 0?void 0:descriptor.defaultMessage)+"\nDescription: "+(descriptor===null||descriptor===void 0?void 0:descriptor.description)+" \n",exception)||this;_this.descriptor=descriptor;return _this;}
return MessageFormatError;}(ReactIntlError));var MissingTranslationError=(function(_super){__extends$2(MissingTranslationError,_super);function MissingTranslationError(descriptor,locale){var _this=_super.call(this,"MISSING_TRANSLATION","Missing message: \""+descriptor.id+"\" for locale \""+locale+"\", using "+(descriptor.defaultMessage?'default message':'id')+" as fallback.")||this;_this.descriptor=descriptor;return _this;}
return MissingTranslationError;}(ReactIntlError));function filterProps(props,whitelist,defaults){if(defaults===void 0){defaults={};}
return whitelist.reduce(function(filtered,name){if(name in props){filtered[name]=props[name];}
else if(name in defaults){filtered[name]=defaults[name];}
return filtered;},{});}
function invariantIntlContext(intl){invariant(intl,'[React Intl] Could not find required `intl` object. '+
'<IntlProvider> needs to exist in the component ancestry.');}
var defaultErrorHandler=function(error){};var DEFAULT_INTL_CONFIG={formats:{},messages:{},timeZone:undefined,textComponent:React.Fragment,defaultLocale:'en',defaultFormats:{},onError:defaultErrorHandler,};function createIntlCache(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{},};}
function createFormatters(cache){if(cache===void 0){cache=createIntlCache();}
var RelativeTimeFormat=Intl.RelativeTimeFormat;var ListFormat=Intl.ListFormat;var DisplayNames=Intl.DisplayNames;return{getDateTimeFormat:memoizeFormatConstructor(Intl.DateTimeFormat,cache.dateTime),getNumberFormat:memoizeFormatConstructor(Intl.NumberFormat,cache.number),getMessageFormat:memoizeFormatConstructor(IntlMessageFormat,cache.message),getRelativeTimeFormat:memoizeFormatConstructor(RelativeTimeFormat,cache.relativeTime),getPluralRules:memoizeFormatConstructor(Intl.PluralRules,cache.pluralRules),getListFormat:memoizeFormatConstructor(ListFormat,cache.list),getDisplayNames:memoizeFormatConstructor(DisplayNames,cache.displayNames),};}
function getNamedFormat(formats,type,name,onError){var formatType=formats&&formats[type];var format;if(formatType){format=formatType[name];}
if(format){return format;}
onError(new UnsupportedFormatterError("No "+type+" format named: "+name));}
function createCommonjsModule(fn,basedir,module){return module={path:basedir,exports:{},require:function(path,base){return commonjsRequire(path,(base===undefined||base===null)?module.path:base);}},fn(module,module.exports),module.exports;}
function commonjsRequire(){throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');}
var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}var AsyncMode=l;var ConcurrentMode=m;var ContextConsumer=k;var ContextProvider=h;var Element=c;var ForwardRef=n;var Fragment=e;var Lazy=t;var Memo=r;var Portal=d;var Profiler=g;var StrictMode=f;var Suspense=p;var isAsyncMode=function(a){return A(a)||z(a)===l};var isConcurrentMode=A;var isContextConsumer=function(a){return z(a)===k};var isContextProvider=function(a){return z(a)===h};var isElement=function(a){return "object"===typeof a&&null!==a&&a.$$typeof===c};var isForwardRef=function(a){return z(a)===n};var isFragment=function(a){return z(a)===e};var isLazy=function(a){return z(a)===t};var isMemo=function(a){return z(a)===r};var isPortal=function(a){return z(a)===d};var isProfiler=function(a){return z(a)===g};var isStrictMode=function(a){return z(a)===f};var isSuspense=function(a){return z(a)===p};var isValidElementType=function(a){return "string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};var typeOf=z;var reactIs_production_min={AsyncMode:AsyncMode,ConcurrentMode:ConcurrentMode,ContextConsumer:ContextConsumer,ContextProvider:ContextProvider,Element:Element,ForwardRef:ForwardRef,Fragment:Fragment,Lazy:Lazy,Memo:Memo,Portal:Portal,Profiler:Profiler,StrictMode:StrictMode,Suspense:Suspense,isAsyncMode:isAsyncMode,isConcurrentMode:isConcurrentMode,isContextConsumer:isContextConsumer,isContextProvider:isContextProvider,isElement:isElement,isForwardRef:isForwardRef,isFragment:isFragment,isLazy:isLazy,isMemo:isMemo,isPortal:isPortal,isProfiler:isProfiler,isStrictMode:isStrictMode,isSuspense:isSuspense,isValidElementType:isValidElementType,typeOf:typeOf};var reactIs_development=createCommonjsModule(function(module,exports){});var reactIs_development_1=reactIs_development.AsyncMode;var reactIs_development_2=reactIs_development.ConcurrentMode;var reactIs_development_3=reactIs_development.ContextConsumer;var reactIs_development_4=reactIs_development.ContextProvider;var reactIs_development_5=reactIs_development.Element;var reactIs_development_6=reactIs_development.ForwardRef;var reactIs_development_7=reactIs_development.Fragment;var reactIs_development_8=reactIs_development.Lazy;var reactIs_development_9=reactIs_development.Memo;var reactIs_development_10=reactIs_development.Portal;var reactIs_development_11=reactIs_development.Profiler;var reactIs_development_12=reactIs_development.StrictMode;var reactIs_development_13=reactIs_development.Suspense;var reactIs_development_14=reactIs_development.isAsyncMode;var reactIs_development_15=reactIs_development.isConcurrentMode;var reactIs_development_16=reactIs_development.isContextConsumer;var reactIs_development_17=reactIs_development.isContextProvider;var reactIs_development_18=reactIs_development.isElement;var reactIs_development_19=reactIs_development.isForwardRef;var reactIs_development_20=reactIs_development.isFragment;var reactIs_development_21=reactIs_development.isLazy;var reactIs_development_22=reactIs_development.isMemo;var reactIs_development_23=reactIs_development.isPortal;var reactIs_development_24=reactIs_development.isProfiler;var reactIs_development_25=reactIs_development.isStrictMode;var reactIs_development_26=reactIs_development.isSuspense;var reactIs_development_27=reactIs_development.isValidElementType;var reactIs_development_28=reactIs_development.typeOf;var reactIs=createCommonjsModule(function(module){{module.exports=reactIs_production_min;}});var FORWARD_REF_STATICS={'$$typeof':true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={'$$typeof':true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var __assign$3=(undefined&&undefined.__assign)||function(){__assign$3=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$3.apply(this,arguments);};var IntlContext=React.createContext(null);var IntlConsumer=IntlContext.Consumer,IntlProvider=IntlContext.Provider;var Provider=IntlProvider;var Context=IntlContext;function useIntl(){var intl=React.useContext(Context);invariantIntlContext(intl);return intl;}
var NUMBER_FORMAT_OPTIONS=['localeMatcher','style','currency','currencyDisplay','unit','unitDisplay','useGrouping','minimumIntegerDigits','minimumFractionDigits','maximumFractionDigits','minimumSignificantDigits','maximumSignificantDigits','compactDisplay','currencyDisplay','currencySign','notation','signDisplay','unit','unitDisplay',];function getFormatter(_a,getNumberFormat,options){var locale=_a.locale,formats=_a.formats,onError=_a.onError;if(options===void 0){options={};}
var format=options.format;var defaults=((format&&getNamedFormat(formats,'number',format,onError))||{});var filteredOptions=filterProps(options,NUMBER_FORMAT_OPTIONS,defaults);return getNumberFormat(locale,filteredOptions);}
function formatNumber(config,getNumberFormat,value,options){if(options===void 0){options={};}
try{return getFormatter(config,getNumberFormat,options).format(value);}
catch(e){config.onError(new ReactIntlError("FORMAT_ERROR",'Error formatting number.',e));}
return String(value);}
function formatNumberToParts(config,getNumberFormat,value,options){if(options===void 0){options={};}
try{return getFormatter(config,getNumberFormat,options).formatToParts(value);}
catch(e){config.onError(new ReactIntlError("FORMAT_ERROR",'Error formatting number.',e));}
return[];}
var RELATIVE_TIME_FORMAT_OPTIONS=['numeric','style'];function getFormatter$1(_a,getRelativeTimeFormat,options){var locale=_a.locale,formats=_a.formats,onError=_a.onError;if(options===void 0){options={};}
var format=options.format;var defaults=(!!format&&getNamedFormat(formats,'relative',format,onError))||{};var filteredOptions=filterProps(options,RELATIVE_TIME_FORMAT_OPTIONS,defaults);return getRelativeTimeFormat(locale,filteredOptions);}
function formatRelativeTime(config,getRelativeTimeFormat,value,unit,options){if(options===void 0){options={};}
if(!unit){unit='second';}
var RelativeTimeFormat=Intl.RelativeTimeFormat;if(!RelativeTimeFormat){config.onError(new FormatError("Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-relativetimeformat\"\n","MISSING_INTL_API"));}
try{return getFormatter$1(config,getRelativeTimeFormat,options).format(value,unit);}
catch(e){config.onError(new MessageFormatError('Error formatting relative time.',e));}
return String(value);}
var __assign$4=(undefined&&undefined.__assign)||function(){__assign$4=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$4.apply(this,arguments);};var DATE_TIME_FORMAT_OPTIONS=['localeMatcher','formatMatcher','timeZone','hour12','weekday','era','year','month','day','hour','minute','second','timeZoneName',];function getFormatter$2(_a,type,getDateTimeFormat,options){var locale=_a.locale,formats=_a.formats,onError=_a.onError,timeZone=_a.timeZone;if(options===void 0){options={};}
var format=options.format;var defaults=__assign$4(__assign$4({},(timeZone&&{timeZone:timeZone})),(format&&getNamedFormat(formats,type,format,onError)));var filteredOptions=filterProps(options,DATE_TIME_FORMAT_OPTIONS,defaults);if(type==='time'&&!filteredOptions.hour&&!filteredOptions.minute&&!filteredOptions.second){filteredOptions=__assign$4(__assign$4({},filteredOptions),{hour:'numeric',minute:'numeric'});}
return getDateTimeFormat(locale,filteredOptions);}
function formatDate(config,getDateTimeFormat,value,options){if(options===void 0){options={};}
var date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'date',getDateTimeFormat,options).format(date);}
catch(e){config.onError(new ReactIntlError("FORMAT_ERROR",'Error formatting date.',e));}
return String(date);}
function formatTime(config,getDateTimeFormat,value,options){if(options===void 0){options={};}
var date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'time',getDateTimeFormat,options).format(date);}
catch(e){config.onError(new ReactIntlError("FORMAT_ERROR",'Error formatting time.',e));}
return String(date);}
function formatDateToParts(config,getDateTimeFormat,value,options){if(options===void 0){options={};}
var date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'date',getDateTimeFormat,options).formatToParts(date);}
catch(e){config.onError(new ReactIntlError("FORMAT_ERROR",'Error formatting date.',e));}
return[];}
function formatTimeToParts(config,getDateTimeFormat,value,options){if(options===void 0){options={};}
var date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'time',getDateTimeFormat,options).formatToParts(date);}
catch(e){config.onError(new ReactIntlError("FORMAT_ERROR",'Error formatting time.',e));}
return[];}
var PLURAL_FORMAT_OPTIONS=['localeMatcher','type',];function formatPlural(_a,getPluralRules,value,options){var locale=_a.locale,onError=_a.onError;if(options===void 0){options={};}
if(!Intl.PluralRules){onError(new FormatError("Intl.PluralRules is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-pluralrules\"\n","MISSING_INTL_API"));}
var filteredOptions=filterProps(options,PLURAL_FORMAT_OPTIONS);try{return getPluralRules(locale,filteredOptions).select(value);}
catch(e){onError(new MessageFormatError('Error formatting plural.',e));}
return 'other';}
var __assign$5=(undefined&&undefined.__assign)||function(){__assign$5=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$5.apply(this,arguments);};var __spreadArrays$2=(undefined&&undefined.__spreadArrays)||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};function setTimeZoneInOptions(opts,timeZone){return Object.keys(opts).reduce(function(all,k){all[k]=__assign$5({timeZone:timeZone},opts[k]);return all;},{});}
function deepMergeOptions(opts1,opts2){var keys=Object.keys(__assign$5(__assign$5({},opts1),opts2));return keys.reduce(function(all,k){all[k]=__assign$5(__assign$5({},(opts1[k]||{})),(opts2[k]||{}));return all;},{});}
function deepMergeFormatsAndSetTimeZone(f1,timeZone){if(!timeZone){return f1;}
var mfFormats=IntlMessageFormat.formats;return __assign$5(__assign$5(__assign$5({},mfFormats),f1),{date:deepMergeOptions(setTimeZoneInOptions(mfFormats.date,timeZone),setTimeZoneInOptions(f1.date||{},timeZone)),time:deepMergeOptions(setTimeZoneInOptions(mfFormats.time,timeZone),setTimeZoneInOptions(f1.time||{},timeZone))});}
function prepareIntlMessageFormatHtmlOutput(chunks,shouldWrap){return Array.isArray(chunks)&&shouldWrap?React.createElement.apply(React,__spreadArrays$2([React.Fragment,null],chunks)):chunks;}
function formatMessage(_a,state,messageDescriptor,values){var locale=_a.locale,formats=_a.formats,messages=_a.messages,defaultLocale=_a.defaultLocale,defaultFormats=_a.defaultFormats,onError=_a.onError,timeZone=_a.timeZone,wrapRichTextChunksInFragment=_a.wrapRichTextChunksInFragment;if(messageDescriptor===void 0){messageDescriptor={id:''};}
var id=messageDescriptor.id,defaultMessage=messageDescriptor.defaultMessage;invariant(!!id,'[React Intl] An `id` must be provided to format a message.');var message=messages&&messages[String(id)];if(!values&&message&&typeof message==='string'){return message.replace(/'\{(.*?)\}'/gi,"{$1}");}
formats=deepMergeFormatsAndSetTimeZone(formats,timeZone);defaultFormats=deepMergeFormatsAndSetTimeZone(defaultFormats,timeZone);if(!message){if(!defaultMessage||(locale&&locale.toLowerCase()!==defaultLocale.toLowerCase())){onError(new MissingTranslationError(messageDescriptor,locale));}
if(defaultMessage){try{var formatter=state.getMessageFormat(defaultMessage,defaultLocale,defaultFormats);return prepareIntlMessageFormatHtmlOutput(formatter.format(values),wrapRichTextChunksInFragment);}
catch(e){onError(new MessageFormatError("Error formatting default message for: \""+id+"\", rendering default message verbatim",locale,messageDescriptor,e));return defaultMessage;}}
return id;}
try{var formatter=state.getMessageFormat(message,locale,formats,{formatters:state,});return prepareIntlMessageFormatHtmlOutput(formatter.format(values),wrapRichTextChunksInFragment);}
catch(e){onError(new MessageFormatError("Error formatting message: \""+id+"\", using "+(defaultMessage?'default message':'id')+" as fallback.",locale,messageDescriptor,e));}
if(defaultMessage){try{var formatter=state.getMessageFormat(defaultMessage,defaultLocale,defaultFormats);return prepareIntlMessageFormatHtmlOutput(formatter.format(values),wrapRichTextChunksInFragment);}
catch(e){onError(new MessageFormatError("Error formatting the default message for: \""+id+"\", rendering message verbatim",locale,messageDescriptor,e));}}
return message||defaultMessage||id;}
function shallowEqualObjects(objA,objB){if(objA===objB){return true;}
if(!objA||!objB){return false;}
var aKeys=Object.keys(objA);var bKeys=Object.keys(objB);var len=aKeys.length;if(bKeys.length!==len){return false;}
for(var i=0;i<len;i++){var key=aKeys[i];if(objA[key]!==objB[key]||!Object.prototype.hasOwnProperty.call(objB,key)){return false;}}
return true;}
var objects=shallowEqualObjects;var shallowEquals_=Object.freeze(Object.assign(Object.create(null),objects,{'default':objects,__moduleExports:objects}));var LIST_FORMAT_OPTIONS=['localeMatcher','type','style',];var now=Date.now();function generateToken(i){return now+"_"+i+"_"+now;}
function formatList(_a,getListFormat,values,options){var locale=_a.locale,onError=_a.onError;if(options===void 0){options={};}
var ListFormat=Intl.ListFormat;if(!ListFormat){onError(new FormatError("Intl.ListFormat is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-listformat\"\n","MISSING_INTL_API"));}
var filteredOptions=filterProps(options,LIST_FORMAT_OPTIONS);try{var richValues_1={};var serializedValues=values.map(function(v,i){if(typeof v==='object'){var id=generateToken(i);richValues_1[id]=v;return id;}
return String(v);});if(!Object.keys(richValues_1).length){return getListFormat(locale,filteredOptions).format(serializedValues);}
var parts=getListFormat(locale,filteredOptions).formatToParts(serializedValues);return parts.reduce(function(all,el){var val=el.value;if(richValues_1[val]){all.push(richValues_1[val]);}
else if(typeof all[all.length-1]==='string'){all[all.length-1]+=val;}
else{all.push(val);}
return all;},[]);}
catch(e){onError(new ReactIntlError("FORMAT_ERROR",'Error formatting list.',e));}
return values;}
var DISPLAY_NAMES_OPTONS=['localeMatcher','style','type','fallback',];function formatDisplayName(_a,getDisplayNames,value,options){var locale=_a.locale,onError=_a.onError;if(options===void 0){options={};}
var DisplayNames=Intl.DisplayNames;if(!DisplayNames){onError(new FormatError("Intl.DisplayNames is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-displaynames\"\n","MISSING_INTL_API"));}
var filteredOptions=filterProps(options,DISPLAY_NAMES_OPTONS);try{return getDisplayNames(locale,filteredOptions).of(value);}
catch(e){onError(new ReactIntlError("FORMAT_ERROR",'Error formatting display name.',e));}}
var __extends$3=(undefined&&undefined.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __assign$6=(undefined&&undefined.__assign)||function(){__assign$6=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$6.apply(this,arguments);};var shallowEquals=objects||shallowEquals_;function processIntlConfig(config){return{locale:config.locale,timeZone:config.timeZone,formats:config.formats,textComponent:config.textComponent,messages:config.messages,defaultLocale:config.defaultLocale,defaultFormats:config.defaultFormats,onError:config.onError,wrapRichTextChunksInFragment:config.wrapRichTextChunksInFragment,};}
function createIntl(config,cache){var formatters=createFormatters(cache);var resolvedConfig=__assign$6(__assign$6({},DEFAULT_INTL_CONFIG),config);var locale=resolvedConfig.locale,defaultLocale=resolvedConfig.defaultLocale,onError=resolvedConfig.onError;if(!locale){if(onError){onError(new InvalidConfigError("\"locale\" was not configured, using \""+defaultLocale+"\" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details"));}
resolvedConfig.locale=resolvedConfig.defaultLocale||'en';}
else if(!Intl.NumberFormat.supportedLocalesOf(locale).length&&onError){onError(new MissingDataError("Missing locale data for locale: \""+locale+"\" in Intl.NumberFormat. Using default locale: \""+defaultLocale+"\" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details"));}
else if(!Intl.DateTimeFormat.supportedLocalesOf(locale).length&&onError){onError(new MissingDataError("Missing locale data for locale: \""+locale+"\" in Intl.DateTimeFormat. Using default locale: \""+defaultLocale+"\" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details"));}
return __assign$6(__assign$6({},resolvedConfig),{formatters:formatters,formatNumber:formatNumber.bind(null,resolvedConfig,formatters.getNumberFormat),formatNumberToParts:formatNumberToParts.bind(null,resolvedConfig,formatters.getNumberFormat),formatRelativeTime:formatRelativeTime.bind(null,resolvedConfig,formatters.getRelativeTimeFormat),formatDate:formatDate.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatDateToParts:formatDateToParts.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatTime:formatTime.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatTimeToParts:formatTimeToParts.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatPlural:formatPlural.bind(null,resolvedConfig,formatters.getPluralRules),formatMessage:formatMessage.bind(null,resolvedConfig,formatters),formatList:formatList.bind(null,resolvedConfig,formatters.getListFormat),formatDisplayName:formatDisplayName.bind(null,resolvedConfig,formatters.getDisplayNames)});}
var IntlProvider$1=(function(_super){__extends$3(IntlProvider,_super);function IntlProvider(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.cache=createIntlCache();_this.state={cache:_this.cache,intl:createIntl(processIntlConfig(_this.props),_this.cache),prevConfig:processIntlConfig(_this.props),};return _this;}
IntlProvider.getDerivedStateFromProps=function(props,_a){var prevConfig=_a.prevConfig,cache=_a.cache;var config=processIntlConfig(props);if(!shallowEquals(prevConfig,config)){return{intl:createIntl(config,cache),prevConfig:config,};}
return null;};IntlProvider.prototype.render=function(){invariantIntlContext(this.state.intl);return React.createElement(Provider,{value:this.state.intl},this.props.children);};IntlProvider.displayName='IntlProvider';IntlProvider.defaultProps=DEFAULT_INTL_CONFIG;return IntlProvider;}(React.PureComponent));var Title=antd.Typography.Title;var LoginIntro=function LoginIntro(){var rapidConfig=rapidComponents.useRapidConfig();var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var renderTitle=function renderTitle(){return React__default.createElement(antd.Row,{style:{maxWidth:614}},React__default.createElement(Title,{style:{textAlign:'center',fontSize:'45px',color:'white',lineHeight:1.55,width:'100%'},level:3},lodash.get(getAssets(rapidConfig,'custom-theme'),'content.homePageAndLogin.headLineTitle')?lodash.get(getAssets(rapidConfig,'custom-theme'),'content.homePageAndLogin.headLineTitle'):formatMessage({id:'find-and-connect'})));};var renderBulletsList=function renderBulletsList(){var bulletsIds=['discover-apis','test-from-your-browser','connect-using-code-snippets','manage-apis-from-one-dashboard'];return React__default.createElement(antd.Row,{style:{flexDirection:'column',marginRight:'27px',marginTop:'15px'},justify:"center",align:"start"},React__default.createElement(antd.Space,{size:"middle",direction:"vertical"},bulletsIds.map(function(bullet){return React__default.createElement(BulletWrapper,{key:bullet},React__default.createElement(BulletIcon,{src:getAssets(rapidConfig,'check-success-white')}),React__default.createElement(BulletText,null,formatMessage({id:bullet})));})));};return React__default.createElement(Wrapper$1,null,renderTitle(),renderBulletsList());};var RequestStatusModal=function RequestStatusModal(_ref){var status=_ref.status,closable=_ref.closable,onClose=_ref.onClose;var leftChild=function leftChild(){return React__default.createElement(RequestStatus,{status:status,onClose:onClose});};var rightChild=function rightChild(){return React__default.createElement(LoginIntro,null);};return React__default.createElement(BaseAuthModal,{closable:closable,onClose:onClose,leftChild:leftChild(),rightChild:rightChild()});};function _templateObject6(){var data=_taggedTemplateLiteral(["\n  max-width: ",";\n  margin-top: 12px;\n  margin-left: auto;\n  margin-right: auto;\n  font-size: 16px;\n  /* font-family: ","; */\n  color: ",";\n  text-align: left;\n  ","\n  text-align: center;\n  word-break: break-word;\n"]);_templateObject6=function _templateObject6(){return data;};return data;}
function _templateObject5(){var data=_taggedTemplateLiteral(["\n  max-width: ",";\n  margin-top: 90px;\n  font-size: 45px;\n  /* font-family: ","; */\n  color: ",";\n  ","\n  text-align: center;\n  word-break: break-word;\n\n  @media only screen and (max-width: 991px) {\n    margin-top: 70px;\n  }\n"]);_templateObject5=function _templateObject5(){return data;};return data;}
function _templateObject4$1(){var data=_taggedTemplateLiteral(["\n      max-width: ",";\n    "]);_templateObject4$1=function _templateObject4(){return data;};return data;}
function _templateObject3$2(){var data=_taggedTemplateLiteral(["\n  width: 100%;\n  ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0.7rem 0;\n"]);_templateObject3$2=function _templateObject3(){return data;};return data;}
function _templateObject2$3(){var data=_taggedTemplateLiteral(["\n  animation: "," 500ms;\n"]);_templateObject2$3=function _templateObject2(){return data;};return data;}
function _templateObject$3(){var data=_taggedTemplateLiteral(["\n    from { opacity: 0; }\n    to   { opacity: 1; }\n"]);_templateObject$3=function _templateObject(){return data;};return data;}
var fadeKeyFrame=styled.keyframes(_templateObject$3());var showAnimation=styled.css(_templateObject2$3(),fadeKeyFrame);var Wrapper$2=styled__default.div(_templateObject3$2(),function(_ref){var maxWidth=_ref.maxWidth;return maxWidth&&styled.css(_templateObject4$1(),maxWidth);});var MainTitle=styled__default.div(_templateObject5(),function(_ref2){var maxWidth=_ref2.maxWidth;return maxWidth||'402px';},function(_ref3){var theme=_ref3.theme;return theme.font;},function(_ref4){var theme=_ref4.theme;return theme.txtDarkBlue;},showAnimation);var SecondaryTitle=styled__default.div(_templateObject6(),function(_ref5){var maxWidth=_ref5.maxWidth;return maxWidth||'380px';},function(_ref6){var theme=_ref6.theme;return theme.font;},function(_ref7){var theme=_ref7.theme;return theme.txtBlack;},showAnimation);var RequestStatus=function RequestStatus(_ref){var status=_ref.status,onClose=_ref.onClose;var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;return React__default.createElement(Wrapper$2,null,React__default.createElement(MainTitle,{maxWidth:"none"},formatMessage({id:"verify-signup-modal.request-title-".concat(status)})),React__default.createElement(SecondaryTitle,{maxWidth:"450px"},formatMessage({id:"verify-signup-modal.request-caption-".concat(status)})),React__default.createElement(antd.Button,{type:"primary",size:"large",style:{marginTop:'15px'},onClick:onClose},formatMessage({id:'close'})));};var configurations={left:{xs:24,sm:24,md:24,lg:12,xl:12,xxl:12},right:{xs:24,sm:24,md:24,lg:12,xl:12,xxl:12}};var BaseAuthModal=function BaseAuthModal(_ref){var leftChild=_ref.leftChild,rightChild=_ref.rightChild,closable=_ref.closable,onClose=_ref.onClose;var headHeight='66px';var renderSection=function renderSection(child,position){return React__default.createElement(antd.Col,_extends({style:{height:'100%'}},configurations[position]),React__default.createElement(antd.Card,{style:{height:'100%'},bodyStyle:{padding:0,height:'inherit'}},child));};return React__default.createElement(antd.Card,{style:{height:'100vh',width:'100%'},bodyStyle:{padding:0,maxWidth:1920,height:"calc(100% - ".concat(headHeight,")"),margin:'0 auto'},headStyle:{padding:0,maxWidth:'100%',height:headHeight},title:React__default.createElement(Header,{closable:closable,onClose:onClose})},React__default.createElement(antd.Row,{style:{maxWidth:'1920px',height:'100%'},span:24},renderSection(leftChild,'left'),renderSection(rightChild,'right')));};function _templateObject7(){var data=_taggedTemplateLiteral(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);_templateObject7=function _templateObject7(){return data;};return data;}
function _templateObject6$1(){var data=_taggedTemplateLiteral(["\n  max-width: 400px;\n  width: 100%;\n\n  .ant-divider-horizontal.ant-divider-with-text-center::before,\n  .ant-divider-horizontal.ant-divider-with-text-center::after {\n    border-top: solid 1px #d9d9d9;\n  }\n"]);_templateObject6$1=function _templateObject6(){return data;};return data;}
function _templateObject5$1(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: inherit;\n  background-color: 'inherit';\n  padding: 40px 0px 40px 0px;\n"]);_templateObject5$1=function _templateObject5(){return data;};return data;}
function _templateObject4$2(){var data=_taggedTemplateLiteral(["\n  width: 18px;\n  height: 18px;\n  margin-right: 18px;\n"]);_templateObject4$2=function _templateObject4(){return data;};return data;}
function _templateObject3$3(){var data=_taggedTemplateLiteral(["\n  color: 'white';\n  font-size: 20px;\n"]);_templateObject3$3=function _templateObject3(){return data;};return data;}
function _templateObject2$4(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 90%;\n  width: 100%;\n"]);_templateObject2$4=function _templateObject2(){return data;};return data;}
function _templateObject$4(){var data=_taggedTemplateLiteral(["\n  background-image: linear-gradient(to top, #4a90e2, #1d4371);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: inherit;\n  padding-top: 114px;\n"]);_templateObject$4=function _templateObject(){return data;};return data;}
var LoginModalIntroductionSection=styled__default.div(_templateObject$4());var BlockedScreenWrapper=styled__default.div(_templateObject2$4());var LoginIntroBulletText=styled__default.div(_templateObject3$3());var LoginIntroBulletIcon=styled__default.img(_templateObject4$2());var LoginModalFormSection=styled__default.div(_templateObject5$1());var LoginModalFormContainer=styled__default.div(_templateObject6$1());var LoginSocialButtonsListContainer=styled__default.div(_templateObject7());function _templateObject7$1(){var data=_taggedTemplateLiteral(["\n  display: block;\n  max-width: 350px;\n  width: 100%;\n  text-align: ",";\n"]);_templateObject7$1=function _templateObject7(){return data;};return data;}
function _templateObject6$2(){var data=_taggedTemplateLiteral(["\n  margin-bottom: ",";\n  margin-left: ",";\n  margin-right: ",";\n  margin-top: ",";\n"]);_templateObject6$2=function _templateObject6(){return data;};return data;}
function _templateObject5$2(){var data=_taggedTemplateLiteral(["\n  .ant-col {\n    height: 100% !important;\n  }\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 113px;\n  height: 100% !important;\n"]);_templateObject5$2=function _templateObject5(){return data;};return data;}
function _templateObject4$3(){var data=_taggedTemplateLiteral(["\n  &&& {\n    padding: 100px 0;\n  }\n"]);_templateObject4$3=function _templateObject4(){return data;};return data;}
function _templateObject3$4(){var data=_taggedTemplateLiteral(["\n  font-size: 15px;\n"]);_templateObject3$4=function _templateObject3(){return data;};return data;}
function _templateObject2$5(){var data=_taggedTemplateLiteral(["\n  margin-bottom: 16px;\n"]);_templateObject2$5=function _templateObject2(){return data;};return data;}
function _templateObject$5(){var data=_taggedTemplateLiteral(["\n  width: ",";\n  padding: 0 !important;\n"]);_templateObject$5=function _templateObject(){return data;};return data;}
var Button=styled__default(antd.Button)(_templateObject$5(),function(props){return props.type!=='link'?'350px':'';});var Checkbox=styled__default(antd.Checkbox)(_templateObject2$5());var MethodDescription=styled__default(rapidComponents.Text)(_templateObject3$4());var Spin=styled__default(antd.Spin)(_templateObject4$3());var TwoFactorAuthWrapper=styled__default.div(_templateObject5$2());var Margin=styled__default.div(_templateObject6$2(),function(_ref){var bottom=_ref.bottom;return bottom?bottom:'';},function(_ref2){var left=_ref2.left;return left?left:'';},function(_ref3){var right=_ref3.right;return right?right:'';},function(_ref4){var top=_ref4.top;return top?top:'';});var Section=styled__default.div(_templateObject7$1(),function(props){return props.center?'center':'left';});var BlockedScreen=(function(){var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;return React__default.createElement(Section,null,React__default.createElement(Margin,{top:"16px",bottom:"16px"},React__default.createElement(rapidComponents.Text,{size:"16"},formatMessage({id:'too_many_retries'}))));});var LoginModal=function LoginModal(_ref){var _ref$formLayout=_ref.formLayout,formLayout=_ref$formLayout===void 0?'vertical':_ref$formLayout,onFinish=_ref.onFinish,closable=_ref.closable,onClose=_ref.onClose,isLoading=_ref.isLoading,LoginError=_ref.LoginError,forgotPasswordHandler=_ref.forgotPasswordHandler,onOpenSignup=_ref.onOpenSignup,onSocialLoginSuccess=_ref.onSocialLoginSuccess,isBlocked=_ref.isBlocked;var rapidConfig=rapidComponents.useRapidConfig();var leftChild=function leftChild(){return isBlocked?React__default.createElement(BlockedScreenWrapper,null,React__default.createElement(BlockedScreen,null)):React__default.createElement(LoginModalFormSection,null,React__default.createElement(LoginModalFormContainer,null,getAssets(rapidConfig,'loginMethods')&&React__default.createElement(React__default.Fragment,null,React__default.createElement(LoginSocialButtonsListContainer,null,React__default.createElement(SocialAuthButtonsList,{buttonWidth:'100%',buttonHeight:'44px',mobileViewDisabled:true,direction:'vertical',onSocialLoginSuccess:onSocialLoginSuccess}))),getAssets(rapidConfig,'isLocalLoginMethod')&&getAssets(rapidConfig,'loginMethods')&&React__default.createElement(antd.Divider,{style:{color:'#d9d9d9'}},"or"),getAssets(rapidConfig,'isLocalLoginMethod')&&React__default.createElement(LoginForm,{formLayout:formLayout,onFinish:onFinish,forgotPasswordHandler:forgotPasswordHandler,isLoading:isLoading,LoginError:LoginError})),React__default.createElement(MessageWithLink,{msgTextKey:"login-modal-navigate-to-signup",linkTextKey:"auth_signUpBtn",onClick:onOpenSignup}));};var rightChild=function rightChild(){return React__default.createElement(LoginIntro,null);};return React__default.createElement(BaseAuthModal,{closable:closable,onClose:onClose,leftChild:leftChild(),rightChild:rightChild()});};function _templateObject$6(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  width: 100%;\n  font-size: 15px;\n  padding: 10px;\n  border-radius: 3px;\n  margin: 0 0 15px;\n\n  .ant-btn-link {\n    color: ",";\n    font-weight: bold;\n    display: flex;\n    flex-direction: column;\n    text-decoration: underline;\n    text-decoration-style: ",";\n    :hover {\n      text-decoration: underline !important;\n    }\n  }\n"]);_templateObject$6=function _templateObject(){return data;};return data;}
var ErrorWrapper=styled__default.div(_templateObject$6(),function(_ref){var dir=_ref.dir;return dir||'row';},function(_ref2){var theme=_ref2.theme;return theme.bgDarkGold;},function(_ref3){var theme=_ref3.theme;return theme.bgLightGold;},function(_ref4){var theme=_ref4.theme;return theme.bgDarkGold;},function(_ref5){var theme=_ref5.theme;return theme.bgDarkGold;});var loginFormItemsConfigurations=[{name:'email',label:'login-form-email-label',rules:[{type:'email'},{required:true}],placeholder:'login-form-email-placeholder',type:'email'},{name:'password',label:'login-form-password-label',rules:[{required:true}],placeholder:'login-form-password-placeholder',type:'password'}];var loginItemsStyleConfigurations={fontSize:'16px',fontWeight:'bold'};var LoginForm=function LoginForm(_ref){var formLayout=_ref.formLayout,initialValues=_ref.initialValues,onFinish=_ref.onFinish,isLoading=_ref.isLoading,LoginError=_ref.LoginError,_ref$buttonWidth=_ref.buttonWidth,buttonWidth=_ref$buttonWidth===void 0?'100%':_ref$buttonWidth,forgotPasswordHandler=_ref.forgotPasswordHandler;var _Form$useForm=antd.Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=React.useState(),_useState2=_slicedToArray(_useState,2),forceUpdate=_useState2[1];var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var rapidConfig=rapidComponents.useRapidConfig();var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];React.useEffect(function(){forceUpdate({});},[]);var renderFormItem=function renderFormItem(_ref2){var item=_ref2.item,index=_ref2.index;var label=item.name==='password'?React__default.createElement(antd.Row,{justify:"space-between",style:{width:'400px'}},React__default.createElement(antd.Col,null,formatMessage({id:item.label})),React__default.createElement(antd.Col,null,React__default.createElement(antd.Button,{style:{height:'auto',padding:0},type:"link",onClick:forgotPasswordHandler,tabIndex:"-1"},formatMessage({id:'auth_forgotPassword'})))):formatMessage({id:item.label});return React__default.createElement(antd.Form.Item,{key:index,style:_objectSpread2({},loginItemsStyleConfigurations),name:item.name,label:label,rules:item.rules},React__default.createElement(antd.Input,{style:{paddingLeft:'16px',height:'40px',borderRadius:'4px',border:'solid 1px #d8d8d8',background:'white',color:'#000'},type:item.type,placeholder:formatMessage({id:item.placeholder})}));};var renderError=function renderError(){if(!LoginError){return;}
var isOriginError=LoginError==='login_wrong_origin';var errorWrapperDir=isOriginError?'column':'row';var content=React__default.createElement("div",null,formatMessage({id:'login_wrong_credentials'}));if(isOriginError){content=React__default.createElement(React__default.Fragment,null,React__default.createElement("div",null,formatMessage({id:'wrong_origin_text'},{brand:getAssets(rapidConfig,'login-wrong-origin-brand-title')})),React__default.createElement(antd.Button,{style:{height:'auto',padding:0},type:"link",href:getAssets(rapidConfig,'login-wrong-origin-canonical')},formatMessage({id:'login_to'},{brand:getAssets(rapidConfig,'login-wrong-origin-brand-title')})));}
return React__default.createElement(antd.Form.Item,null,React__default.createElement(ErrorWrapper,{dir:errorWrapperDir},content));};var isButtonDisabled=function isButtonDisabled(){return!form.isFieldsTouched(true)||form.getFieldsError().filter(function(_ref3){var errors=_ref3.errors;return errors.length;}).length;};var validateMessages={required:'',types:{email:"".concat(formatMessage({id:'invalid-email'}))}};return React__default.createElement(antd.Form,{name:"login-form",layout:formLayout,form:form,initialValues:initialValues,onFinish:onFinish,hideRequiredMark:true,scrollToFirstError:true,validateMessages:validateMessages},loginFormItemsConfigurations.map(function(item,index){return renderFormItem({item:item,index:index});}),renderError(),React__default.createElement(antd.Form.Item,{shouldUpdate:true},function(){return React__default.createElement(antd.Button,{style:{width:buttonWidth,height:'44px',marginTop:'24px',fontSize:'16px',borderRadius:'4px'},type:"primary",htmlType:"submit",className:"login-form-button",loading:isLoading||globalState.isLoginSuccessLoading,disabled:isButtonDisabled()},formatMessage({id:'login-form-submit'}));}));};var httpFetch=function httpFetch(_ref){var url=_ref.url,_ref$method=_ref.method,method=_ref$method===void 0?'GET':_ref$method,data=_ref.data;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var rapidAxios=window.rapidAxios;var withCredentials=options.withCredentials!=='undefined'?options.withCredentials:true;return rapidAxios({url:url,method:method,data:data,withCredentials:withCredentials,headers:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},rapidAxios.defaults.headers),rapidAxios.defaults.headers.common),{},{'Content-Type':'application/json',brand:lodash.get(window,'__RAPID_CONFIG__.ACTIVE_BRAND','default')},options.headers),{},{'rapid-client':"".concat(lodash.get(window,'__RAPID_CONFIG__.ACTIVE_BRAND','default'),"-marketplace-service")})});};var graphqlFetch=function graphqlFetch(body){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var rapidAxios=window.rapidAxios;var _headers=_objectSpread2(_objectSpread2({},options.headers),{},{locale:getLocale()});if(body.url){return httpFetch(body,_objectSpread2(_objectSpread2({},options),{},{headers:_objectSpread2({},_headers)}));}
if(body.isFileUpload){var formData=new FormData();var imageFile=lodash.get(body,'variables.input.imageFile');if(imageFile){body.variables.input.imageFile=null;}
var operationName=body.operationName,query=body.query,variables=body.variables;var operations={operationName:operationName,query:query,variables:variables};formData.append('operations',JSON.stringify(operations));formData.set('map',JSON.stringify({1:['variables.input.imageFile']}));formData.append('1',imageFile);return rapidAxios.post('/gateway/graphql',formData,{headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;});}else{return rapidAxios.post('/gateway/graphql',Object.assign({},body),{headers:_headers});}};var sendCodeVerificationAction=function sendCodeVerificationAction(_ref){var code=_ref.code,token=_ref.token,referral=_ref.referral;return graphqlFetch({url:'/authentication/signup-verification',method:'post',data:{token:token,code:code},meta:{analytics:{component:'verifyEmail'},referral:referral}});};var resendEmailCodeVerificationAction=function resendEmailCodeVerificationAction(email){return graphqlFetch({url:'/authentication/resend-verification-code',method:'post',data:{email:email}});};var CodeVerificationModal=function CodeVerificationModal(_ref){var closable=_ref.closable,onClose=_ref.onClose,onSuccess=_ref.onSuccess,biEventAction=_ref.biEventAction;var _useState=React.useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=React.useState(false),_useState4=_slicedToArray(_useState3,2),displayError=_useState4[0],setDisplayError=_useState4[1];var onFinish=React.useCallback(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(code,token,referral){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setDisplayError(false);setIsLoading(true);_context.prev=2;_context.next=5;return sendCodeVerificationAction({code:code,token:token,referral:referral});case 5:response=_context.sent;setIsLoading(false);return _context.abrupt("return",onSuccess(response));case 10:_context.prev=10;_context.t0=_context["catch"](2);setIsLoading(false);setDisplayError(true);console.log({err:_context.t0});case 15:case "end":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments);};}(),[]);var onHandleResendCode=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(email){var response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log("resend Code to ".concat(email));_context2.prev=1;_context2.next=4;return resendEmailCodeVerificationAction(email);case 4:response=_context2.sent;console.log(response);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](1);console.log({err:_context2.t0});case 11:case "end":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function onHandleResendCode(_x4){return _ref3.apply(this,arguments);};}();var leftChild=function leftChild(){return React__default.createElement(CodeVerificationForm,{isLoading:isLoading,displayError:displayError,onFinish:onFinish,onHandleResendCode:onHandleResendCode});};var rightChild=function rightChild(){return React__default.createElement(LoginIntro,null);};return React__default.createElement(BaseAuthModal,{closable:closable,onClose:onClose,leftChild:leftChild(),rightChild:rightChild()});};function _templateObject2$6(){var data=_taggedTemplateLiteral(["\n  margin: 13px 0;\n  /* color: rgb(226, 74, 74); */\n  min-height: 22px;\n  color: ",";\n"]);_templateObject2$6=function _templateObject2(){return data;};return data;}
function _templateObject$7(){var data=_taggedTemplateLiteral(["\n  margin-top: 20px;\n"]);_templateObject$7=function _templateObject(){return data;};return data;}
var CodeVerificationWrapper=styled__default.div(_templateObject$7());var ErrorWrapper$1=styled__default.div(_templateObject2$6(),function(_ref){var theme=_ref.theme;return theme.txtRed;});var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError('Object.assign cannot be called with null or undefined');}
return Object(val);}
function shouldUseNative(){try{if(!Object.assign){return false;}
var test1=new String('abc');test1[5]='de';if(Object.getOwnPropertyNames(test1)[0]==='5'){return false;}
var test2={};for(var i=0;i<10;i++){test2['_'+String.fromCharCode(i)]=i;}
var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n];});if(order2.join('')!=='0123456789'){return false;}
var test3={};'abcdefghijklmnopqrst'.split('').forEach(function(letter){test3[letter]=letter;});if(Object.keys(Object.assign({},test3)).join('')!=='abcdefghijklmnopqrst'){return false;}
return true;}catch(err){return false;}}
var objectAssign=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key];}}
if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]];}}}}
return to;};var ReactPropTypesSecret='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';var ReactPropTypesSecret_1=ReactPropTypesSecret;var has=Function.call.bind(Object.prototype.hasOwnProperty);function emptyFunction(){}
function emptyFunctionWithReset(){}
emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret_1){return;}
var err=new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. '+
'Use PropTypes.checkPropTypes() to call them. '+
'Read more at http://fb.me/use-check-prop-types');err.name='Invariant Violation';throw err;}shim.isRequired=shim;function getShim(){return shim;}
var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes;};var propTypes=createCommonjsModule(function(module){{module.exports=factoryWithThrowingShims();}});function styleInject(css,ref){if(ref===void 0)ref={};var insertAt=ref.insertAt;if(!css||typeof document==='undefined'){return;}
var head=document.head||document.getElementsByTagName('head')[0];var style=document.createElement('style');style.type='text/css';if(insertAt==='top'){if(head.firstChild){head.insertBefore(style,head.firstChild);}else{head.appendChild(style);}}else{head.appendChild(style);}
if(style.styleSheet){style.styleSheet.cssText=css;}else{style.appendChild(document.createTextNode(css));}}
var css="/* add css styles here (optional) */\n\n.styles_react-code-input-container__tpiKG {\n  position: relative;\n}\n\n.styles_react-code-input__CRulA > input {\n  border: solid 1px #a8adb7;\n  border-right: none;\n  font-family: 'Lato';\n  font-size: 20px;\n  color: #525461;\n  text-align: center;\n  box-sizing: border-box;\n  border-radius: 0;\n  -webkit-appearance: initial;\n}\n\n.styles_react-code-input__CRulA > input:last-child {\n  border-right: solid 1px #a8adb7;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n}\n\n.styles_react-code-input__CRulA > input:first-child {\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n}\n\n.styles_react-code-input__CRulA > input:focus {\n  outline: none;\n  border: 1px solid #006fff;\n  caret-color: #006fff;\n}\n\n.styles_react-code-input__CRulA > input:focus + input {\n  border-left: none;\n}\n\n.styles_loading__Z65VQ {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n}\n\n.styles_blur__19vMK {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #fff;\n  opacity: 0.5;\n  filter: blur(0.5px);\n  transition: opacity 0.3s;\n}\n\n.styles_title__1cca0 {\n  margin: 0;\n  height: 20px;\n  padding-bottom: 10px;\n}\n\n.styles_spin__6y_8G {\n  display: inline-block;\n  animation: styles_loadingCircle__293ky 1s infinite linear;\n}\n\n@keyframes styles_loadingCircle__293ky {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n";var styles={"react-code-input-container":"styles_react-code-input-container__tpiKG","react-code-input":"styles_react-code-input__CRulA","loading":"styles_loading__Z65VQ","blur":"styles_blur__19vMK","title":"styles_title__1cca0","spin":"styles_spin__6y_8G","loadingCircle":"styles_loadingCircle__293ky"};styleInject(css);var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;};var possibleConstructorReturn=function(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}
return call&&(typeof call==="object"||typeof call==="function")?call:self;};var toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2;}else{return Array.from(arr);}};var KEY_CODE={backspace:8,left:37,up:38,right:39,down:40};var ReactCodeInput=function(_Component){inherits(ReactCodeInput,_Component);function ReactCodeInput(props){classCallCheck(this,ReactCodeInput);var _this=possibleConstructorReturn(this,(ReactCodeInput.__proto__||Object.getPrototypeOf(ReactCodeInput)).call(this,props));_initialiseProps.call(_this);var fields=props.fields,values=props.values;var vals=void 0;var autoFocusIndex=0;if(values&&values.length){vals=[];for(var i=0;i<fields;i++){vals.push(values[i]||'');}
autoFocusIndex=values.length>=fields?0:values.length;}else{vals=Array(fields).fill('');}
_this.state={values:vals,autoFocusIndex:autoFocusIndex};_this.iRefs=[];for(var _i=0;_i<fields;_i++){_this.iRefs.push(React__default.createRef());}
_this.id=+new Date();return _this;}
createClass(ReactCodeInput,[{key:'render',value:function render(){var _this2=this;var _state=this.state,values=_state.values,autoFocusIndex=_state.autoFocusIndex;var _props=this.props,loading=_props.loading,title=_props.title,fieldHeight=_props.fieldHeight,fieldWidth=_props.fieldWidth,fields=_props.fields,autoFocus=_props.autoFocus,className=_props.className,type=_props.type;var INPUT_STYLE={width:fieldWidth,height:fieldHeight};var ROOT_STYLE={width:fields*fieldWidth};var LOADING_STYLE={lineHeight:fieldHeight+'px'};return React__default.createElement('div',{className:styles['react-code-input-container']+' '+className,style:ROOT_STYLE},title&&React__default.createElement('p',{className:styles['title']},title),React__default.createElement('div',{className:styles['react-code-input']},values.map(function(value,index){return React__default.createElement('input',{type:type==='number'?'tel':type,pattern:type==='number'?'[0-9]*':null,autoFocus:autoFocus&&index===autoFocusIndex,style:INPUT_STYLE,key:_this2.id+'-'+index,'data-id':index,value:value,ref:_this2.iRefs[index],onChange:_this2.onChange,onKeyDown:_this2.onKeyDown,onFocus:_this2.onFocus,disabled:_this2.props.disabled,required:_this2.props.required});})),loading&&React__default.createElement('div',{className:styles['loading'],style:LOADING_STYLE},React__default.createElement('div',{className:styles['blur']}),React__default.createElement('svg',{className:styles['spin'],viewBox:'0 0 1024 1024','data-icon':'loading',width:'1em',height:'1em',fill:'currentColor','aria-hidden':'true'},React__default.createElement('path',{fill:'#006fff',d:'M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z'}))));}}]);return ReactCodeInput;}(React.Component);ReactCodeInput.propTypes={type:propTypes.oneOf(['text','number']),onChange:propTypes.func,onComplete:propTypes.func,fields:propTypes.number,loading:propTypes.bool,title:propTypes.string,fieldWidth:propTypes.number,fieldHeight:propTypes.number,autoFocus:propTypes.bool,className:propTypes.string,values:propTypes.arrayOf(propTypes.string),disabled:propTypes.bool,required:propTypes.bool};ReactCodeInput.defaultProps={type:'number',fields:6,fieldWidth:58,fieldHeight:54,autoFocus:true,disabled:false,required:false};var _initialiseProps=function _initialiseProps(){var _this3=this;this.__clearvalues__=function(){var fields=_this3.props.fields;_this3.setState({values:Array(fields).fill('')});_this3.iRefs[0].current.focus();};this.triggerChange=function(){var values=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this3.state.values;var _props2=_this3.props,onChange=_props2.onChange,onComplete=_props2.onComplete,fields=_props2.fields;var val=values.join('');onChange&&onChange(val);if(onComplete&&val.length>=fields){onComplete(val);}};this.onChange=function(e){var index=parseInt(e.target.dataset.id);if(_this3.props.type==='number'){e.target.value=e.target.value.replace(/[^\d]/gi,'');}
if(e.target.value===''||_this3.props.type==='number'&&!e.target.validity.valid){return;}
var fields=_this3.props.fields;var next=void 0;var value=e.target.value;var values=_this3.state.values;values=Object.assign([],values);if(value.length>1){var nextIndex=value.length+index-1;if(nextIndex>=fields){nextIndex=fields-1;}
next=_this3.iRefs[nextIndex];var split=value.split('');split.forEach(function(item,i){var cursor=index+i;if(cursor<fields){values[cursor]=item;}});_this3.setState({values:values});}else{next=_this3.iRefs[index+1];values[index]=value;_this3.setState({values:values});}
if(next){next.current.focus();next.current.select();}
_this3.triggerChange(values);};this.onKeyDown=function(e){var index=parseInt(e.target.dataset.id);var prevIndex=index-1;var nextIndex=index+1;var prev=_this3.iRefs[prevIndex];var next=_this3.iRefs[nextIndex];switch(e.keyCode){case KEY_CODE.backspace:e.preventDefault();var vals=[].concat(toConsumableArray(_this3.state.values));if(_this3.state.values[index]){vals[index]='';_this3.setState({values:vals});_this3.triggerChange(vals);}else if(prev){vals[prevIndex]='';prev.current.focus();_this3.setState({values:vals});_this3.triggerChange(vals);}
break;case KEY_CODE.left:e.preventDefault();if(prev){prev.current.focus();}
break;case KEY_CODE.right:e.preventDefault();if(next){next.current.focus();}
break;case KEY_CODE.up:case KEY_CODE.down:e.preventDefault();break;}};this.onFocus=function(e){e.target.select(e);};};var CodeVerificationForm=function CodeVerificationForm(_ref){var isLoading=_ref.isLoading,displayError=_ref.displayError,onFinish=_ref.onFinish,onHandleResendCode=_ref.onHandleResendCode;var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var email=lodash.get(globalState,'email');var referral=lodash.get(globalState,'referral');var token=lodash.get(globalState,'stepDetails.token');var onCompleteSettingCodeVerification=React.useCallback(function(code){var normalizedCode="".concat(code.slice(0,3),"-").concat(code.slice(3,code.length));onFinish(normalizedCode,token,referral);},[token,referral,onFinish]);return React__default.createElement(Wrapper$2,null,React__default.createElement(MainTitle,null,formatMessage({id:'verify-signup-modal.main-title'})),React__default.createElement(SecondaryTitle,null,formatMessage({id:'verify-signup-modal.secondary-title'},{email:email})),React__default.createElement(CodeVerificationWrapper,null,React__default.createElement(ReactCodeInput,{onComplete:onCompleteSettingCodeVerification,loading:isLoading})),React__default.createElement(ErrorWrapper$1,null,displayError&&formatMessage({id:'verify-signup-modal.invalid-code'})),React__default.createElement(MessageWithLink,{msgTextKey:"verify-signup-modal.did-not-get-email-label",linkTextKey:"verify-signup-modal.resend-email",onClick:function onClick(){return onHandleResendCode(email);}}));};var handleRequestAccessAction=function handleRequestAccessAction(additionalData){return graphqlFetch({operationName:'createSignupApprovalWorkflow',variables:{options:{topic:'SignupRequestApproval',additionalData:additionalData}},query:"\n      mutation createSignupApprovalWorkflow($options: CreateSignupApprovalWorkflowInput){\n        createSignupApprovalWorkflow(options: $options)\n     }\n     "});};var RequestAccessModal=function RequestAccessModal(_ref){var closable=_ref.closable,onClose=_ref.onClose,onSuccess=_ref.onSuccess;var rapidConfig=rapidComponents.useRapidConfig();var _useState=React.useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var email=lodash.get(globalState,'email');var signupApprovalQuestion=getAssets(rapidConfig,'signupRequestApporvalQuestion');var homeURL=getAssets(rapidConfig,'homeURL');var onFinish=React.useCallback(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(requestAnswer){var additionalData,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:additionalData={answer:requestAnswer,requestQuestion:signupApprovalQuestion,mpHomeURL:homeURL,userEmail:email};setIsLoading(true);_context.prev=2;_context.next=5;return handleRequestAccessAction(additionalData);case 5:response=_context.sent;setIsLoading(false);return _context.abrupt("return",onSuccess(response));case 10:_context.prev=10;_context.t0=_context["catch"](2);setIsLoading(false);console.log({err:_context.t0});case 14:case "end":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[]);var leftChild=function leftChild(){return React__default.createElement(RequestAccessForm,{question:signupApprovalQuestion,isLoading:isLoading,onFinish:onFinish});};var rightChild=function rightChild(){return React__default.createElement(LoginIntro,null);};return React__default.createElement(BaseAuthModal,{closable:closable,onClose:onClose,leftChild:leftChild(),rightChild:rightChild()});};function _templateObject2$7(){var data=_taggedTemplateLiteral(["\n  word-break: normal;\n  overflow-wrap: break-word;\n  font-size: 16px;\n  font-weight: bold;\n"]);_templateObject2$7=function _templateObject2(){return data;};return data;}
function _templateObject$8(){var data=_taggedTemplateLiteral(["\n  margin-top: 100px;\n  width: 100%;\n\n  textarea {\n    resize: none;\n  }\n"]);_templateObject$8=function _templateObject(){return data;};return data;}
var TextareaWrapper=styled__default.div(_templateObject$8());var QuestionText=styled__default.p(_templateObject2$7());var TextArea=antd.Input.TextArea;var RequestAccessForm=function RequestAccessForm(_ref){var onFinish=_ref.onFinish,isLoading=_ref.isLoading,question=_ref.question;var _useState=React.useState(''),_useState2=_slicedToArray(_useState,2),requestMsg=_useState2[0],setRequestMsg=_useState2[1];var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var onSubmitRequest=React.useCallback(function(){if(requestMsg||!question){onFinish(requestMsg);}},[requestMsg]);return React__default.createElement(Wrapper$2,null,React__default.createElement(Wrapper$2,{maxWidth:"380px"},React__default.createElement(MainTitle,null,formatMessage({id:'verify-signup-modal.request-access'})),React__default.createElement(SecondaryTitle,null,formatMessage({id:'verify-signup-modal.request-access-caption'})),!!question&&React__default.createElement(TextareaWrapper,null,React__default.createElement(QuestionText,null,question),React__default.createElement(TextArea,{disabled:isLoading,placeholder:formatMessage({id:'verify-signup-modal.request-access-textarea-placeholder'}),rows:10,value:requestMsg,onChange:function onChange(e){return setRequestMsg(e.target.value);}})),React__default.createElement(antd.Button,{className:"submit-request-btn",block:true,type:"primary",size:"large",style:{marginTop:'15px'},loading:isLoading,disabled:!!question&&!requestMsg,onClick:onSubmitRequest},formatMessage({id:'verify-signup-modal.submit-request'}))));};function _templateObject$9(){var data=_taggedTemplateLiteral(["\n  color: ",";\n  font-size: ",";\n"]);_templateObject$9=function _templateObject(){return data;};return data;}
var Text=styled__default.div(_templateObject$9(),function(_ref){var theme=_ref.theme;return theme.txtDarkGrey;},function(_ref2){var fontSize=_ref2.fontSize;return fontSize||'14px';});var MessageWithLink=function MessageWithLink(_ref){var msgTextKey=_ref.msgTextKey,linkTextKey=_ref.linkTextKey,onClick=_ref.onClick,_ref$fontSize=_ref.fontSize,fontSize=_ref$fontSize===void 0?'16px':_ref$fontSize;var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;return React__default.createElement(antd.Row,null,React__default.createElement(antd.Col,null,React__default.createElement(Text,{fontSize:fontSize},formatMessage({id:msgTextKey}))),React__default.createElement(antd.Col,{push:1},React__default.createElement(antd.Button,{style:{height:'auto',padding:0,fontSize:fontSize},type:"link",onClick:onClick},formatMessage({id:linkTextKey}))));};function _templateObject2$8(){var data=_taggedTemplateLiteral(["\n  float: left;\n  animation-name: spin;\n  animation-duration: 1.5s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  height: 34px;\n  width: 34px;\n  backface-visibility: hidden;\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]);_templateObject2$8=function _templateObject2(){return data;};return data;}
function _templateObject$a(){var data=_taggedTemplateLiteral(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  z-index: 9999999;\n  display: flex;\n"]);_templateObject$a=function _templateObject(){return data;};return data;}
var LoadingOverlay=styled__default.div(_templateObject$a(),function(_ref){var theme=_ref.theme;return theme._white;});var Loading=styled__default.img(_templateObject2$8());var SOURCE_LOGIN='SOURCE_LOGIN';var setSourceLogin=function setSourceLogin(source){localStorage.setItem(SOURCE_LOGIN,source);};var loginActionV3=function loginActionV3(email,password,referral,component){setSourceLogin('local');return graphqlFetch({url:'/authentication/login',method:'post',data:{email:email,password:password},meta:{analytics:{component:component},referral:referral}});};var TOO_MANY_ATTEMPTS='too_many_attempts';var LoginFlow=function LoginFlow(_ref){var closable=_ref.closable,onSuccess=_ref.onSuccess,onFail=_ref.onFail,onClose=_ref.onClose,forgotPasswordHandler=_ref.forgotPasswordHandler,onOpenSignup=_ref.onOpenSignup,biEventAction=_ref.biEventAction,onSocialLoginSuccess=_ref.onSocialLoginSuccess;var _useState=React.useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=React.useState(null),_useState4=_slicedToArray(_useState3,2),LoginError=_useState4[0],setLoginError=_useState4[1];var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var _useState5=React.useState(false),_useState6=_slicedToArray(_useState5,2),isBlocked=_useState6[0],setIsBlocked=_useState6[1];var referral=lodash.get(globalState,'referral');var onFinish=React.useCallback(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref2){var email,password,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=_ref2.email,password=_ref2.password;setIsLoading(true);setLoginError(null);biEventAction({specificEventName:'login_micro_app_login_start',data:{email:email,referral:referral}});_context.prev=4;_context.next=7;return loginActionV3(email,password,referral,'login');case 7:response=_context.sent;setIsLoading(false);biEventAction({specificEventName:'login_micro_app_login_success',data:{email:email,referral:referral,playground_var:rapidFlagsClient$1.isON('FFApiPlaygroundABTest',{email:email})==='1'?'new':'old'}});return _context.abrupt("return",onSuccess({response:response,email:email}));case 13:_context.prev=13;_context.t0=_context["catch"](4);if(_context.t0.response.data===TOO_MANY_ATTEMPTS){setIsBlocked(true);}
setLoginError(lodash.get(_context.t0,'response.data.errors[0].err_code'));setIsLoading(false);biEventAction({specificEventName:'login_micro_app_login_fail',data:{email:email,referral:referral,error:lodash.get(_context.t0,'response.data.errors[0].err_code')}});return _context.abrupt("return",onFail(_context.t0));case 20:case "end":return _context.stop();}}},_callee,null,[[4,13]]);}));return function(_x){return _ref3.apply(this,arguments);};}(),[]);return React__default.createElement(LoginModal,{isBlocked:isBlocked,onFinish:onFinish,closable:closable,onClose:onClose,isLoading:isLoading,LoginError:LoginError,forgotPasswordHandler:forgotPasswordHandler,onOpenSignup:onOpenSignup,onSocialLoginSuccess:onSocialLoginSuccess});};var CodeVerificationFlow=function CodeVerificationFlow(){var _useState=React.useState(0),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var flowSteps=[{Component:LoginFlow,props:{closable:true,onSuccess:function onSuccess(){setCurrentStep(1);}}},{Component:CodeVerificationModal,props:{email:'awawe@gmaililil.com',onSuccess:function onSuccess(){console.log('code Verification succeed');}}}];var renderFlow=function renderFlow(){var _flowSteps$currentSte=flowSteps[currentStep],Component=_flowSteps$currentSte.Component,props=_flowSteps$currentSte.props;return React__default.createElement(Component,props);};return renderFlow();};var steps={REQUEST_ACCESS:'requestAccess',REQUEST_STATUS:'requestStatus'};var RequestAccessFlow=function RequestAccessFlow(_ref){var _flowSteps;var onClose=_ref.onClose,biEventAction=_ref.biEventAction;var _useState=React.useState(steps.REQUEST_ACCESS),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=React.useState(''),_useState4=_slicedToArray(_useState3,2),requestStatus=_useState4[0],setRequestStatus=_useState4[1];var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var stepDetails=lodash.get(globalState,'stepDetails');React.useEffect(function(){var workflowStatus=lodash.get(stepDetails,'workflowStatus');if(workflowStatus){var status=workflowStatus==='OPEN'?'pending':'rejected';setRequestStatus(status);setCurrentStep(steps.REQUEST_STATUS);}},[stepDetails]);var flowSteps=(_flowSteps={},_defineProperty(_flowSteps,steps.REQUEST_ACCESS,{Component:RequestAccessModal,props:{onSuccess:function onSuccess(res){setRequestStatus('pending');setCurrentStep(steps.REQUEST_STATUS);}}}),_defineProperty(_flowSteps,steps.REQUEST_STATUS,{Component:RequestStatusModal,props:{onClose:onClose,status:requestStatus}}),_flowSteps);var renderFlow=function renderFlow(){var _flowSteps$currentSte=flowSteps[currentStep],Component=_flowSteps$currentSte.Component,props=_flowSteps$currentSte.props;return React__default.createElement(Component,props);};return renderFlow();};var isTwoFactorEnabledByTypeAction=function isTwoFactorEnabledByTypeAction(type){return graphqlFetch({operationName:'isTwoFactorEnabledByType',variables:{type:type},query:"\n      query isTwoFactorEnabledByType ($type: String!) {\n        isTwoFactorEnabledByType (type: $type)\n      }\n     "}).then(function(res){return lodash.get(res,'data.isTwoFactorEnabledByType');});};var getPhoneNumbersAction=function getPhoneNumbersAction(){return graphqlFetch({operationName:'getPhoneNumbers',query:"\n    query getPhoneNumbers {\n      getPhoneNumbers {\n        id\n        phoneNumber\n      }\n    }\n     "}).then(function(res){return lodash.get(res,'data.getPhoneNumbers').map(function(_ref){var phoneNumber=_ref.phoneNumber,id=_ref.id;return{phoneNumber:phoneNumber,id:id};});});};var authenticateUsingPhoneAction=function authenticateUsingPhoneAction(_ref2){var token=_ref2.token,code=_ref2.code;return graphqlFetch({operationName:'authenticateUsingPhoneVerify',variables:{token:token,code:code},query:"\n      mutation authenticateUsingPhoneVerify ($code: String!, $token: String!) {\n        authenticateUsingPhoneVerify (code: $code,token: $token)\n      }\n     "}).then(function(res){if(lodash.get(res,'errors[0].message','')==='LIMIT_EXCEEDED'){return 'limit_exceeded';}
return lodash.get(res,'data.authenticateUsingPhoneVerify');});};var sendSmsToTheUserAction=function sendSmsToTheUserAction(_ref3){var phoneId=_ref3.phoneId;return graphqlFetch({operationName:'authenticateUsingPhone',variables:{phoneId:phoneId},query:"\n      mutation authenticateUsingPhone ($phoneId:ID!) {\n        authenticateUsingPhone (phoneId: $phoneId) {\n          token\n        }\n      }\n     "}).then(function(res){if(lodash.get(res,'errors[0].message','')==='LIMIT_EXCEEDED'){return 'limit_exceeded';}
return lodash.get(res,'data.authenticateUsingPhone');});};var authenticateUsingAppAction=function authenticateUsingAppAction(_ref4){var code=_ref4.code;return graphqlFetch({operationName:'authenticateUsingApp',variables:{code:code},query:"\n    mutation authenticateUsingApp ($code: String!) {\n      authenticateUsingApp (code: $code)\n    }\n     "}).then(function(res){if(lodash.get(res,'errors[0].message','')==='LIMIT_EXCEEDED'){return 'limit_exceeded';}
return lodash.get(res,'data.authenticateUsingApp');});};var authenticateUsingRecoveryCodeAction=function authenticateUsingRecoveryCodeAction(_ref5){var code=_ref5.code;return graphqlFetch({operationName:'markRecoveryCodeAsUsed',variables:{code:code},query:"\n    mutation markRecoveryCodeAsUsed ($code: String!) {\n      markRecoveryCodeAsUsed (code: $code)\n    }\n     "}).then(function(res){if(lodash.get(res,'errors[0].message','')==='LIMIT_EXCEEDED'){return 'limit_exceeded';}
return lodash.get(res,'data.markRecoveryCodeAsUsed');});};var Application=(function(){var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;return React__default.createElement(Section,null,React__default.createElement(Margin,{top:"16px",bottom:"16px"},React__default.createElement(MethodDescription,null,formatMessage({id:'input_the_code_from_your_authenticator_application'}))),React__default.createElement(antd.Form.Item,{style:{marginTop:16},name:"code",rules:[{required:true}]},React__default.createElement(antd.Input,{maxLength:"10"})));});var Phone=(function(_ref){var phoneObject=_ref.phoneObject;var _ref2=phoneObject||{},phoneNumber=_ref2.phoneNumber;var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;return!phoneNumber?null:React__default.createElement(Section,null,React__default.createElement(Margin,{top:"16px",bottom:"16px"},React__default.createElement(MethodDescription,null,formatMessage({id:'input_the_code_we_sent_to'},{phone:"***-".concat(phoneNumber.slice(phoneNumber.length-4))}))),React__default.createElement(antd.Form.Item,{name:"code",rules:[{required:true}]},React__default.createElement(antd.Input,{maxLength:"10"})));});var Recovery=(function(){var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;return React__default.createElement(Section,null,React__default.createElement(Margin,{top:"16px",bottom:"16px"},React__default.createElement(MethodDescription,null,formatMessage({id:'input_one_of_your_recovery_codes'}))),React__default.createElement(antd.Form.Item,{name:"code",rules:[{required:true}]},React__default.createElement(antd.Input,{maxLength:"10"})));});var steps$1={SELECT_METHOD:'SELECT_METHOD',PHONE:'PHONE',RECOVERY:'RECOVERY',APP:'APP',BLOCKED:'BLOCKED'};var TwoFactorAuth=React.memo(function(_ref){var _componentMapper,_twoFactorActionMappe;var onSuccess=_ref.onSuccess,_ref$twoFactorPreferr=_ref.twoFactorPreferredMethod,twoFactorPreferredMethod=_ref$twoFactorPreferr===void 0?'':_ref$twoFactorPreferr;var _useState=React.useState(steps$1.SELECT_METHOD),_useState2=_slicedToArray(_useState,2),step=_useState2[0],setStep=_useState2[1];var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var _useState3=React.useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=React.useState([]),_useState6=_slicedToArray(_useState5,2),userPhoneNumbers=_useState6[0],setUserPhoneNumbers=_useState6[1];var _useState7=React.useState(false),_useState8=_slicedToArray(_useState7,2),isAppAuthenticatorEnabled=_useState8[0],setIsAppAuthenticatorEnabled=_useState8[1];var _useState9=React.useState(),_useState10=_slicedToArray(_useState9,2),selectedPhoneNumber=_useState10[0],setSelectedPhoneNumber=_useState10[1];var _Form$useForm=antd.Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var selectMethodScreen=React.useMemo(function(){return React__default.createElement(React__default.Fragment,null,React__default.createElement(Margin,{top:"16px",bottom:"16px"},React__default.createElement(Section,null,React__default.createElement(rapidComponents.Text,{size:"16"},formatMessage({id:'how_would_you_like_to_verify_your_identity'})))),userPhoneNumbers.map(function(phoneObject){return React__default.createElement(Margin,{bottom:"16px"},React__default.createElement(Button,{onClick:function onClick(){return onSelectPhoneMethod(phoneObject);},size:"large"},formatMessage({id:'send_text_message_to'},{phone:"***-".concat(phoneObject.phoneNumber.slice(phoneObject.phoneNumber.length-4))})));}),isAppAuthenticatorEnabled&&React__default.createElement(Margin,{bottom:"16px"},React__default.createElement(Button,{onClick:function onClick(){return setStep(steps$1.APP);},size:"large"},formatMessage({id:'authenticator_app_code'}))),React__default.createElement(Margin,null,React__default.createElement(Button,{onClick:function onClick(){return setStep(steps$1.RECOVERY);},type:"link",size:"large"},formatMessage({id:'use_a_recovery_code'}))));},[isAppAuthenticatorEnabled,userPhoneNumbers]);var componentMapper=(_componentMapper={},_defineProperty(_componentMapper,steps$1.SELECT_METHOD,selectMethodScreen),_defineProperty(_componentMapper,steps$1.APP,React__default.createElement(Application,null)),_defineProperty(_componentMapper,steps$1.RECOVERY,React__default.createElement(Recovery,null)),_defineProperty(_componentMapper,steps$1.PHONE,React__default.createElement(Phone,{phoneObject:selectedPhoneNumber})),_defineProperty(_componentMapper,steps$1.BLOCKED,React__default.createElement(BlockedScreen,null)),_componentMapper);var twoFactorActionMapper=(_twoFactorActionMappe={},_defineProperty(_twoFactorActionMappe,steps$1.APP,function(code){return authenticateUsingAppAction({code:code});}),_defineProperty(_twoFactorActionMappe,steps$1.RECOVERY,function(code){return authenticateUsingRecoveryCodeAction({code:code});}),_defineProperty(_twoFactorActionMappe,steps$1.PHONE,function(code,token){return authenticateUsingPhoneAction({code:code,token:token});}),_twoFactorActionMappe);React.useEffect(function(){setIsLoading(true);Promise.allSettled([isTwoFactorEnabledByTypeAction('app'),getPhoneNumbersAction()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),appAuthenticatorEnabled=_ref3[0],phoneNumbers=_ref3[1];appAuthenticatorEnabled.status==='fulfilled'&&setIsAppAuthenticatorEnabled(appAuthenticatorEnabled.value);if(phoneNumbers.status==='fulfilled'){setUserPhoneNumbers(phoneNumbers.value||[]);handleExistingPreferredMethod(phoneNumbers.value)["finally"](function(){setIsLoading(false);});}});},[]);var handleExistingPreferredMethod=React.useCallback(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee(phoneNumbers){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(twoFactorPreferredMethod){_context.next=2;break;}
return _context.abrupt("return");case 2:if(!(twoFactorPreferredMethod.toUpperCase()===steps$1.PHONE&&lodash.get(phoneNumbers,'length',0)>0)){_context.next=5;break;}
_context.next=5;return onSelectPhoneMethod(phoneNumbers[0]);case 5:setStep(twoFactorPreferredMethod.toUpperCase());case 6:case "end":return _context.stop();}}},_callee);}));return function(_x){return _ref4.apply(this,arguments);};}(),[twoFactorPreferredMethod]);var onSelectPhoneMethod=React.useCallback(function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(phoneObject){var _yield$sendSmsToTheUs,token;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return sendSmsToTheUserAction({phoneId:phoneObject.id});case 3:_yield$sendSmsToTheUs=_context2.sent;token=_yield$sendSmsToTheUs.token;if(token){_context2.next=7;break;}
return _context2.abrupt("return",antd.message.error(formatMessage({id:'failed_to_send_sms'})));case 7:form.setFields([{name:'token',value:token}]);setSelectedPhoneNumber(phoneObject);setStep(steps$1.PHONE);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](0);antd.message.error(formatMessage({id:'failed_to_send_sms'}));case 15:case "end":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function(_x2){return _ref5.apply(this,arguments);};}(),[]);var onResendCode=React.useCallback(_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _yield$sendSmsToTheUs2,token;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return sendSmsToTheUserAction({phoneId:selectedPhoneNumber.id});case 3:_yield$sendSmsToTheUs2=_context3.sent;token=_yield$sendSmsToTheUs2.token;form.setFields([{name:'token',value:token}]);antd.message.info(formatMessage({id:'the_code_has_been_sent_successfully'}));_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3["catch"](0);antd.message.error(formatMessage({id:'failed_to_send_sms'}));case 12:case "end":return _context3.stop();}}},_callee3,null,[[0,9]]);})),[selectedPhoneNumber]);var onUseAnotherMethod=React.useCallback(function(){form.resetFields();setStep(steps$1.SELECT_METHOD);},[]);var onRememberOnThisBrowser=React.useCallback(function(_ref7){var target=_ref7.target;localStorage.setItem('remember_2fa_login',target.checked);},[]);var onTwoFactorSubmit=React.useCallback(function(){form.validateFields().then(function(_){var _form$getFieldsValue=form.getFieldsValue(['code','token']),code=_form$getFieldsValue.code,token=_form$getFieldsValue.token;twoFactorActionMapper[step](code,token).then(function(result){if(result==='limit_exceeded'){return setStep(steps$1.BLOCKED);}
if(result){setIsLoading(true);try{onSuccess();}catch(err){console.log({err:err});}}else{onUseAnotherMethod();antd.message.error(formatMessage({id:'incorrect_code'}));}})["catch"](function(_){onUseAnotherMethod();antd.message.error(formatMessage({id:'failed_to_authenticate_try_again_later'}));});});},[step]);return React__default.createElement(antd.Form,{name:"twoFactorForm",form:form,onFinish:onTwoFactorSubmit},React__default.createElement(TwoFactorAuthWrapper,null,React__default.createElement(Section,{center:true},React__default.createElement(rapidComponents.Text,{type:"h2"},formatMessage({id:'verify_your_identity'}))),isLoading?React__default.createElement(Spin,null):React__default.createElement(React__default.Fragment,null,step!==steps$1.BLOCKED&&React__default.createElement(Section,null,React__default.createElement(rapidComponents.Text,{size:"16"},formatMessage({id:'this_extra_step_keeps_your_account_secure'}))),React__default.createElement(Section,{center:true},componentMapper[step]),step!==steps$1.SELECT_METHOD&&step!==steps$1.BLOCKED&&React__default.createElement(React__default.Fragment,null,React__default.createElement(Section,null,step===steps$1.PHONE&&React__default.createElement(Button,{size:"large",onClick:onResendCode,type:"link"},formatMessage({id:'resend_the_code'}))),React__default.createElement(Section,null,React__default.createElement(Margin,null,React__default.createElement(Button,{size:"large",onClick:onUseAnotherMethod,type:"link"},formatMessage({id:'use_a_different_method'})))))),step!==steps$1.SELECT_METHOD&&step!==steps$1.BLOCKED&&React__default.createElement(Margin,{top:"45px"},React__default.createElement(Button,{loading:isLoading,size:"large",htmlType:"submit",type:"primary"},formatMessage({id:'next'})))));});var TwoFactorAuthFlow=function TwoFactorAuthFlow(_ref){var closable=_ref.closable,onClose=_ref.onClose,onSuccess=_ref.onSuccess,twoFactorPreferredMethod=_ref.twoFactorPreferredMethod;var leftChild=function leftChild(){return React__default.createElement(TwoFactorAuth,{twoFactorPreferredMethod:twoFactorPreferredMethod,onSuccess:onSuccess});};var rightChild=function rightChild(){return React__default.createElement(LoginIntro,null);};return React__default.createElement(BaseAuthModal,{closable:closable,onClose:onClose,leftChild:leftChild(),rightChild:rightChild()});};var strictUriEncode=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`);var token='%[a-f0-9]{2}';var singleMatcher=new RegExp(token,'gi');var multiMatcher=new RegExp('('+token+')+','gi');function decodeComponents(components,split){try{return decodeURIComponent(components.join(''));}catch(err){}
if(components.length===1){return components;}
split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right));}
function decode(input){try{return decodeURIComponent(input);}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join('');tokens=input.match(singleMatcher);}
return input;}}
function customDecodeURIComponent(input){var replaceMap={'%FE%FF':'\uFFFD\uFFFD','%FF%FE':'\uFFFD\uFFFD'};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0]);}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result;}}
match=multiMatcher.exec(input);}
replaceMap['%C2']='\uFFFD';var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,'g'),replaceMap[key]);}
return input;}
var decodeUriComponent=function(encodedURI){if(typeof encodedURI!=='string'){throw new TypeError('Expected `encodedURI` to be of type `string`, got `'+typeof encodedURI+'`');}
try{encodedURI=encodedURI.replace(/\+/g,' ');return decodeURIComponent(encodedURI);}catch(err){return customDecodeURIComponent(encodedURI);}};var splitOnFirst=(string,separator)=>{if(!(typeof string==='string'&&typeof separator==='string')){throw new TypeError('Expected the arguments to be of type `string`');}
if(separator===''){return[string];}
const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string];}
return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)];};var queryString=createCommonjsModule(function(module,exports){const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case 'index':return key=>(result,value)=>{const index=result.length;if(value===undefined||(options.skipNull&&value===null)||(options.skipEmptyString&&value==='')){return result;}
if(value===null){return[...result,[encode(key,options),'[',index,']'].join('')];}
return[...result,[encode(key,options),'[',encode(index,options),']=',encode(value,options)].join('')];};case 'bracket':return key=>(result,value)=>{if(value===undefined||(options.skipNull&&value===null)||(options.skipEmptyString&&value==='')){return result;}
if(value===null){return[...result,[encode(key,options),'[]'].join('')];}
return[...result,[encode(key,options),'[]=',encode(value,options)].join('')];};case 'comma':case 'separator':return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result;}
if(result.length===0){return[[encode(key,options),'=',encode(value,options)].join('')];}
return[[result,encode(value,options)].join(options.arrayFormatSeparator)];};default:return key=>(result,value)=>{if(value===undefined||(options.skipNull&&value===null)||(options.skipEmptyString&&value==='')){return result;}
if(value===null){return[...result,encode(key,options)];}
return[...result,[encode(key,options),'=',encode(value,options)].join('')];};}}
function parserForArrayFormat(options){let result;switch(options.arrayFormat){case 'index':return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,'');if(!result){accumulator[key]=value;return;}
if(accumulator[key]===undefined){accumulator[key]={};}
accumulator[key][result[1]]=value;};case 'bracket':return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,'');if(!result){accumulator[key]=value;return;}
if(accumulator[key]===undefined){accumulator[key]=[value];return;}
accumulator[key]=[].concat(accumulator[key],value);};case 'comma':case 'separator':return(key,value,accumulator)=>{const isArray=typeof value==='string'&&value.split('').indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue;};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return;}
accumulator[key]=[].concat(accumulator[key],value);};}}
function validateArrayFormatSeparator(value){if(typeof value!=='string'||value.length!==1){throw new TypeError('arrayFormatSeparator must be single character string');}}
function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value);}
return value;}
function decode(value,options){if(options.decode){return decodeUriComponent(value);}
return value;}
function keysSorter(input){if(Array.isArray(input)){return input.sort();}
if(typeof input==='object'){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key]);}
return input;}
function removeHash(input){const hashStart=input.indexOf('#');if(hashStart!==-1){input=input.slice(0,hashStart);}
return input;}
function getHash(url){let hash='';const hashStart=url.indexOf('#');if(hashStart!==-1){hash=url.slice(hashStart);}
return hash;}
function extract(input){input=removeHash(input);const queryStart=input.indexOf('?');if(queryStart===-1){return '';}
return input.slice(queryStart+1);}
function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==='string'&&value.trim()!=='')){value=Number(value);}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==='true'||value.toLowerCase()==='false')){value=value.toLowerCase()==='true';}
return value;}
function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:'none',arrayFormatSeparator:',',parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=='string'){return ret;}
input=input.trim().replace(/^[?#&]/,'');if(!input){return ret;}
for(const param of input.split('&')){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g,' '):param,'=');value=value===undefined?null:['comma','separator'].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret);}
for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==='object'&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options);}}else{ret[key]=parseValue(value,options);}}
if(options.sort===false){return ret;}
return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==='object'&&!Array.isArray(value)){result[key]=keysSorter(value);}else{result[key]=value;}
return result;},Object.create(null));}
exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return '';}
options=Object.assign({encode:true,strict:true,arrayFormat:'none',arrayFormatSeparator:','},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>((options.skipNull&&isNullOrUndefined(object[key]))||(options.skipEmptyString&&object[key]===''));const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key];}}
const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort);}
return keys.map(key=>{const value=object[key];if(value===undefined){return '';}
if(value===null){return encode(key,options);}
if(Array.isArray(value)){return value.reduce(formatter(key),[]).join('&');}
return encode(key,options)+'='+encode(value,options);}).filter(x=>x.length>0).join('&');};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,'#');return Object.assign({url:url.split('?')[0]||'',query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{});};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split('?')[0]||'';const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`;}
let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`;}
return `${url}${queryString}${hash}`;};});var queryString_1=queryString.extract;var queryString_2=queryString.parse;var queryString_3=queryString.stringify;var queryString_4=queryString.parseUrl;var queryString_5=queryString.stringifyUrl;var steps$2={LOGIN:'login',SIGNUP_VERIFICATION:'signup_verification',TWOFA:'2FA'};var LoginMainFlow=function LoginMainFlow(props){var _flowStepsMap;var forgotPasswordHandler=props.forgotPasswordHandler,onOpenSignup=props.onOpenSignup,onClose=props.onClose,onLoginSuccess=props.onLoginSuccess,_props$biEventAction=props.biEventAction,biEventAction=_props$biEventAction===void 0?lodash.noop:_props$biEventAction,FFThemeEnterpriseOveridesForMP=props.FFThemeEnterpriseOveridesForMP;var parsedQuery=queryString.parse(window.location.search);var referral=lodash.get(parsedQuery,'referral');var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];React.useEffect(function(){biEventAction({specificEventName:'login_micro_app_init',data:{}});return function(){globalActions.setIsLoginSuccessLoading(false);};},[]);React.useEffect(function(){globalActions.setFFThemeEnterpriseOveridesForMP(FFThemeEnterpriseOveridesForMP);},[FFThemeEnterpriseOveridesForMP]);React.useEffect(function(){globalActions.setReferral(referral);},[referral]);var _useState=React.useState(steps$2.LOGIN),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=React.useState(),_useState4=_slicedToArray(_useState3,2),twoFactorPreferredMethod=_useState4[0],setTwoFactorPreferredMethod=_useState4[1];var handleLoginSuccess=function handleLoginSuccess(details){var _details=referral?_objectSpread2(_objectSpread2({},details),{},{referral:referral}):details;onLoginSuccess(_details);globalActions.setIsLoginSuccessLoading(true);};var isClosable=function isClosable(){var pathname=lodash.get(window,'location.pathname');return!referral&&!['/signup','/login'].includes(pathname);};var handleCurrentStep=function handleCurrentStep(res,email){var _get=lodash.get(res,'data',{}),twoFactorPreferredMethod=_get.twoFactorPreferredMethod;var step=lodash.get(res,'data.step');var details=lodash.get(res,'data.details');globalActions.setEmail(email);globalActions.setStep(step);globalActions.setStepDetails(details);if(twoFactorPreferredMethod){setTwoFactorPreferredMethod(twoFactorPreferredMethod);setCurrentStep(steps$2.TWOFA);}else if(!step){handleLoginSuccess({referral:referral});return;}else{setCurrentStep(steps$2.SIGNUP_VERIFICATION);}};var flowStepsMap=(_flowStepsMap={},_defineProperty(_flowStepsMap,steps$2.LOGIN,{Component:LoginFlow,props:{closable:isClosable(),onClose:onClose,forgotPasswordHandler:forgotPasswordHandler,onOpenSignup:onOpenSignup,biEventAction:biEventAction,onSocialLoginSuccess:function onSocialLoginSuccess(res){handleLoginSuccess({isSocialLogin:true,details:res});},onSuccess:function onSuccess(_ref){var response=_ref.response,email=_ref.email;handleCurrentStep(response,email);},onFail:function onFail(err){console.log(err);}}}),_defineProperty(_flowStepsMap,steps$2.SIGNUP_VERIFICATION,{Component:SignupVerificationFlow,props:{closable:false,onClose:onClose,biEventAction:biEventAction,onSuccess:function onSuccess(res){handleLoginSuccess();}}}),_defineProperty(_flowStepsMap,steps$2.TWOFA,{Component:TwoFactorAuthFlow,props:{closable:false,twoFactorPreferredMethod:twoFactorPreferredMethod,onSuccess:function onSuccess(res){handleLoginSuccess();}}}),_flowStepsMap);var renderFlow=function renderFlow(){var _flowStepsMap$current=flowStepsMap[currentStep],Component=_flowStepsMap$current.Component,props=_flowStepsMap$current.props;return React__default.createElement(Component,props);};return renderFlow();};var steps$3={CODE_VERIFICATION:'code_verification',REQUEST_ACCESS_APPROVAL:'request_access_approval'};var SignupVerificationFlow=function SignupVerificationFlow(_ref){var _flowStepsMap;var onSuccess=_ref.onSuccess,onClose=_ref.onClose,biEventAction=_ref.biEventAction;var rapidConfig=rapidComponents.useRapidConfig();var verificationType=getAssets(rapidConfig,'signupVerificationType');var _useState=React.useState(steps$3.CODE_VERIFICATION),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];React.useEffect(function(){console.log(verificationType);if(verificationType==='code'){setCurrentStep(steps$3.CODE_VERIFICATION);}else{setCurrentStep(steps$3.REQUEST_ACCESS_APPROVAL);}},[verificationType]);var flowStepsMap=(_flowStepsMap={},_defineProperty(_flowStepsMap,steps$3.CODE_VERIFICATION,{Component:CodeVerificationModal,props:{biEventAction:biEventAction,onSuccess:onSuccess}}),_defineProperty(_flowStepsMap,steps$3.REQUEST_ACCESS_APPROVAL,{Component:RequestAccessFlow,props:{biEventAction:biEventAction,onClose:onClose}}),_flowStepsMap);var renderFlow=function renderFlow(){var _flowStepsMap$current=flowStepsMap[currentStep],Component=_flowStepsMap$current.Component,props=_flowStepsMap$current.props;return React__default.createElement(Component,props);};return renderFlow();};var login_wrong_credentials="Incorrect email or password.";var wrong_origin_text="  An account with this email address exists on {brand}. ";var login_to="Log in to {brand}";var auth_signUpBtn="Sign up";var verify_your_identity="Verify Your Identity";var this_extra_step_keeps_your_account_secure="This extra step keeps your account secure";var how_would_you_like_to_verify_your_identity="How would you like to verify your identity?";var auth_forgotPassword="Forgot password?";var send_text_message_to="Send Text Message to: {phone}";var failed_to_send_sms="Too many SMS messages have been sent to this number recently. Please contact support if you continue to have problems.";var authenticator_app_code="Authenticator App Code";var use_a_recovery_code="Use a recovery code";var input_one_of_your_recovery_codes="Input one of your recovery codes:";var next="Next";var resend_the_code="Resend the code";var too_many_retries="There have been several failed attempts to sign in from this account or IP address.  Please wait a while and try again later.";var failed_to_authenticate_try_again_later="Failed to authenticate, please try again later.";var incorrect_code="Your code is incorrect, please try again.";var the_code_has_been_sent_successfully="The code has been sent successfully";var input_the_code_from_your_authenticator_application="Input the code from your authenticator application:";var input_the_code_we_sent_to="Input the code we sent to {phone}:";var dont_ask_again_on_this_browser="Don't ask again on this browser";var use_a_different_method="Use a different method";var close="Close";var enTranslations={"find-and-connect":"Find and Connect to Thousands of APIs","discover-apis":"Discover APIs","test-from-your-browser":"Test from your browser","connect-using-code-snippets":"Connect using code snippets","manage-apis-from-one-dashboard":"Manage APIs from one dashboard","login-form-email-label":"Work Email","login-form-email-placeholder":"Enter your email","login-form-password-label":"Password","login-form-password-placeholder":"Enter your password","login-form-submit":"Sign In",login_wrong_credentials:login_wrong_credentials,"invalid-email":"Invalid email",wrong_origin_text:wrong_origin_text,login_to:login_to,"social-button-login-prefix":"Log in with ","login-modal-navigate-to-signup":"Not a member yet?",auth_signUpBtn:auth_signUpBtn,verify_your_identity:verify_your_identity,this_extra_step_keeps_your_account_secure:this_extra_step_keeps_your_account_secure,how_would_you_like_to_verify_your_identity:how_would_you_like_to_verify_your_identity,auth_forgotPassword:auth_forgotPassword,send_text_message_to:send_text_message_to,failed_to_send_sms:failed_to_send_sms,authenticator_app_code:authenticator_app_code,use_a_recovery_code:use_a_recovery_code,input_one_of_your_recovery_codes:input_one_of_your_recovery_codes,next:next,resend_the_code:resend_the_code,too_many_retries:too_many_retries,failed_to_authenticate_try_again_later:failed_to_authenticate_try_again_later,incorrect_code:incorrect_code,the_code_has_been_sent_successfully:the_code_has_been_sent_successfully,input_the_code_from_your_authenticator_application:input_the_code_from_your_authenticator_application,input_the_code_we_sent_to:input_the_code_we_sent_to,dont_ask_again_on_this_browser:dont_ask_again_on_this_browser,use_a_different_method:use_a_different_method,"verify-signup-modal":{"main-title":"Verify your email address to continue","secondary-title":"Weve sent a 6-digit verification code to {email}.  It will expire shortly, so please enter the code below to continue.","did-not-get-email-label":"Didnt get the email?","resend-email":"Resend email","invalid-code":"Invalid code - please try again.","new-verification-code-sent":"A new verification email has been sent.","your-email-address":"your email address","request-access":"Request Access","request-access-caption":"You need approval from a site administrator before you can access an account. Please complete the following to submit your request.","request-access-textarea-placeholder":"Please fill in your response","request-title-pending":"Your new account is pending","request-caption-pending":"Thanks for submitting your request!  Your site administrator will notify you when your request has been approved.","request-title-rejected":"Sorry, your account has not been approved.","request-caption-rejected":"Please contact your site administrator for more information.","submit-request":"Submit Request"},close:close};var login_wrong_credentials$1="    ";var wrong_origin_text$1="    {{brand}}";var login_to$1="{{brand}}";var auth_signUpBtn$1="";var auth_forgotPassword$1=" ?";var verify_your_identity$1="";var this_extra_step_keeps_your_account_secure$1="";var how_would_you_like_to_verify_your_identity$1="";var send_text_message_to$1=" {phone}";var failed_to_send_sms$1="SMS";var authenticator_app_code$1="";var use_a_recovery_code$1="";var input_one_of_your_recovery_codes$1=":";var next$1="";var resend_the_code$1="";var too_many_retries$1="IP";var failed_to_authenticate_try_again_later$1="";var incorrect_code$1="";var the_code_has_been_sent_successfully$1="";var input_the_code_from_your_authenticator_application$1=":";var input_the_code_we_sent_to$1="{phone}:";var dont_ask_again_on_this_browser$1="";var use_a_different_method$1="";var close$1="";var jaTranslations={"find-and-connect":"API","discover-apis":"API","test-from-your-browser":"","connect-using-code-snippets":"","manage-apis-from-one-dashboard":"API","login-form-email-label":"","login-form-email-placeholder":"","login-form-password-label":"","login-form-password-placeholder":"","login-form-submit":"",login_wrong_credentials:login_wrong_credentials$1,"invalid-email":"email ",wrong_origin_text:wrong_origin_text$1,login_to:login_to$1,"social-button-login-prefix":" ","login-modal-navigate-to-signup":"?",auth_signUpBtn:auth_signUpBtn$1,auth_forgotPassword:auth_forgotPassword$1,verify_your_identity:verify_your_identity$1,this_extra_step_keeps_your_account_secure:this_extra_step_keeps_your_account_secure$1,how_would_you_like_to_verify_your_identity:how_would_you_like_to_verify_your_identity$1,send_text_message_to:send_text_message_to$1,failed_to_send_sms:failed_to_send_sms$1,authenticator_app_code:authenticator_app_code$1,use_a_recovery_code:use_a_recovery_code$1,input_one_of_your_recovery_codes:input_one_of_your_recovery_codes$1,next:next$1,resend_the_code:resend_the_code$1,too_many_retries:too_many_retries$1,failed_to_authenticate_try_again_later:failed_to_authenticate_try_again_later$1,incorrect_code:incorrect_code$1,the_code_has_been_sent_successfully:the_code_has_been_sent_successfully$1,input_the_code_from_your_authenticator_application:input_the_code_from_your_authenticator_application$1,input_the_code_we_sent_to:input_the_code_we_sent_to$1,dont_ask_again_on_this_browser:dont_ask_again_on_this_browser$1,use_a_different_method:use_a_different_method$1,"verify-signup-modal":{"main-title":"","secondary-title":"{email}  ","did-not-get-email-label":"","resend-email":"","invalid-code":"","new-verification-code-sent":"","your-email-address":"E","request-access":"","request-access-caption":"","request-access-textarea-placeholder":"","request-title-pending":"","request-caption-pending":"! ","request-title-rejected":"","request-caption-rejected":"","submit-request":""},close:close$1};var flattenLocaleKeys=function flattenLocaleKeys(LocaleObj){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';if(!LocaleObj){return{};}
return Object.keys(LocaleObj).reduce(function(messages,key){var value=LocaleObj[key];var prefixedKey=prefix?"".concat(prefix,".").concat(key):key;if(typeof value==='string'){messages[prefixedKey]=value;}else{Object.assign(messages,flattenLocaleKeys(value,prefixedKey));}
return messages;},{});};function _templateObject$b(){var data=_taggedTemplateLiteral(["\n  body {\n    font-family: Lato !important;\n  }\n"]);_templateObject$b=function _templateObject(){return data;};return data;}
var translationsByLocale={'en-US':enTranslations,'ja-JP':jaTranslations,en:enTranslations,ja:jaTranslations};var GlobalStyle=styled.createGlobalStyle(_templateObject$b());var WithIntlProvider=function WithIntlProvider(Component,props){var lang=getLocale();return React__default.createElement(IntlProvider$1,{locale:lang,messages:flattenLocaleKeys(translationsByLocale[lang]),key:lang},React__default.createElement(GlobalStyle,null),React__default.createElement(Component,props));};var index={header:function header(props){return WithIntlProvider(Header,props);},socialAuthButtonsList:function socialAuthButtonsList(props){return WithIntlProvider(SocialAuthButtonsList,props);},loginIntro:function loginIntro(props){return WithIntlProvider(LoginIntro,props);},requestStatus:function requestStatus(props){return WithIntlProvider(RequestStatus,props);},loginForm:function loginForm(props){return WithIntlProvider(LoginForm,props);},codeVerificationForm:function codeVerificationForm(props){return WithIntlProvider(CodeVerificationForm,props);},requestAccessForm:function requestAccessForm(props){return WithIntlProvider(RequestAccessForm,props);},baseAuthModal:function baseAuthModal(props){return WithIntlProvider(BaseAuthModal,props);},loginAuthModal:function loginAuthModal(props){return WithIntlProvider(LoginModal,props);},codeVerificationModal:function codeVerificationModal(props){return WithIntlProvider(CodeVerificationModal,props);},requestAccessModal:function requestAccessModal(props){return WithIntlProvider(RequestAccessModal,props);},requestStatusModal:function requestStatusModal(props){return WithIntlProvider(RequestStatusModal,props);},loginFlow:function loginFlow(props){return WithIntlProvider(LoginFlow,props);},codeVerificationFlow:function codeVerificationFlow(props){return WithIntlProvider(CodeVerificationFlow,props);},requestAccessFlow:function requestAccessFlow(props){return WithIntlProvider(RequestAccessFlow,props);},loginMainFlow:function loginMainFlow(props){return WithIntlProvider(LoginMainFlow,props);},signupVerifiactionFlow:function signupVerifiactionFlow(props){return WithIntlProvider(SignupVerificationFlow,props);}};return index;})));