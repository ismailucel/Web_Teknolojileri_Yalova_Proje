(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('react'),require('@rapidapi/rapid-components'),require('lodash'),require('antd'),require('rapid-flags/lib/client'),require('lodash/get'),require('styled-components')):typeof define==='function'&&define.amd?define(['react','@rapidapi/rapid-components','lodash','antd','rapid-flags/lib/client','lodash/get','styled-components'],factory):(global=global||self,global.generateOrgWizMicroApp=factory(global.React,global.rapidComponents,global.lodash,global.antd,global.rapidFlagsClient,global.get,global.styled));}(this,(function(React,rapidComponents,lodash,antd,rapidFlagsClient,get,styled){'use strict';var React__default='default'in React?React['default']:React;rapidFlagsClient=rapidFlagsClient&&Object.prototype.hasOwnProperty.call(rapidFlagsClient,'default')?rapidFlagsClient['default']:rapidFlagsClient;get=get&&Object.prototype.hasOwnProperty.call(get,'default')?get['default']:get;styled=styled&&Object.prototype.hasOwnProperty.call(styled,'default')?styled['default']:styled;var TYPE;(function(TYPE){TYPE[TYPE["literal"]=0]="literal";TYPE[TYPE["argument"]=1]="argument";TYPE[TYPE["number"]=2]="number";TYPE[TYPE["date"]=3]="date";TYPE[TYPE["time"]=4]="time";TYPE[TYPE["select"]=5]="select";TYPE[TYPE["plural"]=6]="plural";TYPE[TYPE["pound"]=7]="pound";})(TYPE||(TYPE={}));function isLiteralElement(el){return el.type===TYPE.literal;}
function isArgumentElement(el){return el.type===TYPE.argument;}
function isNumberElement(el){return el.type===TYPE.number;}
function isDateElement(el){return el.type===TYPE.date;}
function isTimeElement(el){return el.type===TYPE.time;}
function isSelectElement(el){return el.type===TYPE.select;}
function isPluralElement(el){return el.type===TYPE.plural;}
function isPoundElement(el){return el.type===TYPE.pound;}
function isNumberSkeleton(el){return!!(el&&typeof el==='object'&&el.type===0);}
function isDateTimeSkeleton(el){return!!(el&&typeof el==='object'&&el.type===1);}
var __extends=(undefined&&undefined.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __assign=(undefined&&undefined.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign.apply(this,arguments);};var SyntaxError=(function(_super){__extends(SyntaxError,_super);function SyntaxError(message,expected,found,location){var _this=_super.call(this)||this;_this.message=message;_this.expected=expected;_this.found=found;_this.location=location;_this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(_this,SyntaxError);}
return _this;}
SyntaxError.buildMessage=function(expected,found){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase();}
function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return "\\x0"+hex(ch);}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return "\\x"+hex(ch);});}
function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return "\\x0"+hex(ch);}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return "\\x"+hex(ch);});}
function describeExpectation(expectation){switch(expectation.type){case "literal":return "\""+literalEscape(expectation.text)+"\"";case "class":var escapedParts=expectation.parts.map(function(part){return Array.isArray(part)?classEscape(part[0])+"-"+classEscape(part[1]):classEscape(part);});return "["+(expectation.inverted?"^":"")+escapedParts+"]";case "any":return "any character";case "end":return "end of input";case "other":return expectation.description;}}
function describeExpected(expected1){var descriptions=expected1.map(describeExpectation);var i;var j;descriptions.sort();if(descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++){if(descriptions[i-1]!==descriptions[i]){descriptions[j]=descriptions[i];j++;}}
descriptions.length=j;}
switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")
+", or "
+descriptions[descriptions.length-1];}}
function describeFound(found1){return found1?"\""+literalEscape(found1)+"\"":"end of input";}
return "Expected "+describeExpected(expected)+" but "+describeFound(found)+" found.";};return SyntaxError;}(Error));function peg$parse(input,options){options=options!==undefined?options:{};var peg$FAILED={};var peg$startRuleFunctions={start:peg$parsestart};var peg$startRuleFunction=peg$parsestart;var peg$c0=function(parts){return parts.join('');};var peg$c1=function(messageText){return __assign({type:TYPE.literal,value:messageText},insertLocation());};var peg$c2="#";var peg$c3=peg$literalExpectation("#",false);var peg$c4=function(){return __assign({type:TYPE.pound},insertLocation());};var peg$c5=peg$otherExpectation("argumentElement");var peg$c6="{";var peg$c7=peg$literalExpectation("{",false);var peg$c8="}";var peg$c9=peg$literalExpectation("}",false);var peg$c10=function(value){return __assign({type:TYPE.argument,value:value},insertLocation());};var peg$c11=peg$otherExpectation("numberSkeletonId");var peg$c12=/^['\/{}]/;var peg$c13=peg$classExpectation(["'","/","{","}"],false,false);var peg$c14=peg$anyExpectation();var peg$c15=peg$otherExpectation("numberSkeletonTokenOption");var peg$c16="/";var peg$c17=peg$literalExpectation("/",false);var peg$c18=function(option){return option;};var peg$c19=peg$otherExpectation("numberSkeletonToken");var peg$c20=function(stem,options){return{stem:stem,options:options};};var peg$c21=function(tokens){return __assign({type:0,tokens:tokens},insertLocation());};var peg$c22="::";var peg$c23=peg$literalExpectation("::",false);var peg$c24=function(skeleton){return skeleton;};var peg$c25=function(){messageCtx.push('numberArgStyle');return true;};var peg$c26=function(style){messageCtx.pop();return style.replace(/\s*$/,'');};var peg$c27=",";var peg$c28=peg$literalExpectation(",",false);var peg$c29="number";var peg$c30=peg$literalExpectation("number",false);var peg$c31=function(value,type,style){return __assign({type:type==='number'?TYPE.number:type==='date'?TYPE.date:TYPE.time,style:style&&style[2],value:value},insertLocation());};var peg$c32="'";var peg$c33=peg$literalExpectation("'",false);var peg$c34=/^[^']/;var peg$c35=peg$classExpectation(["'"],true,false);var peg$c36=/^[^a-zA-Z'{}]/;var peg$c37=peg$classExpectation([["a","z"],["A","Z"],"'","{","}"],true,false);var peg$c38=/^[a-zA-Z]/;var peg$c39=peg$classExpectation([["a","z"],["A","Z"]],false,false);var peg$c40=function(pattern){return __assign({type:1,pattern:pattern},insertLocation());};var peg$c41=function(){messageCtx.push('dateOrTimeArgStyle');return true;};var peg$c42="date";var peg$c43=peg$literalExpectation("date",false);var peg$c44="time";var peg$c45=peg$literalExpectation("time",false);var peg$c46="plural";var peg$c47=peg$literalExpectation("plural",false);var peg$c48="selectordinal";var peg$c49=peg$literalExpectation("selectordinal",false);var peg$c50="offset:";var peg$c51=peg$literalExpectation("offset:",false);var peg$c52=function(value,pluralType,offset,options){return __assign({type:TYPE.plural,pluralType:pluralType==='plural'?'cardinal':'ordinal',value:value,offset:offset?offset[2]:0,options:options.reduce(function(all,_a){var id=_a.id,value=_a.value,optionLocation=_a.location;if(id in all){error("Duplicate option \""+id+"\" in plural element: \""+text()+"\"",location());}
all[id]={value:value,location:optionLocation};return all;},{})},insertLocation());};var peg$c53="select";var peg$c54=peg$literalExpectation("select",false);var peg$c55=function(value,options){return __assign({type:TYPE.select,value:value,options:options.reduce(function(all,_a){var id=_a.id,value=_a.value,optionLocation=_a.location;if(id in all){error("Duplicate option \""+id+"\" in select element: \""+text()+"\"",location());}
all[id]={value:value,location:optionLocation};return all;},{})},insertLocation());};var peg$c56="=";var peg$c57=peg$literalExpectation("=",false);var peg$c58=function(id){messageCtx.push('select');return true;};var peg$c59=function(id,value){messageCtx.pop();return __assign({id:id,value:value},insertLocation());};var peg$c60=function(id){messageCtx.push('plural');return true;};var peg$c61=function(id,value){messageCtx.pop();return __assign({id:id,value:value},insertLocation());};var peg$c62=peg$otherExpectation("whitespace");var peg$c63=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;var peg$c64=peg$classExpectation([["\t","\r"]," ","\x85","\xA0","\u1680",["\u2000","\u200A"],"\u2028","\u2029","\u202F","\u205F","\u3000"],false,false);var peg$c65=peg$otherExpectation("syntax pattern");var peg$c66=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/;var peg$c67=peg$classExpectation([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xA1","\xA7"],"\xA9","\xAB","\xAC","\xAE","\xB0","\xB1","\xB6","\xBB","\xBF","\xD7","\xF7",["\u2010","\u2027"],["\u2030","\u203E"],["\u2041","\u2053"],["\u2055","\u205E"],["\u2190","\u245F"],["\u2500","\u2775"],["\u2794","\u2BFF"],["\u2E00","\u2E7F"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\uFD3E","\uFD3F","\uFE45","\uFE46"],false,false);var peg$c68=peg$otherExpectation("optional whitespace");var peg$c69=peg$otherExpectation("number");var peg$c70="-";var peg$c71=peg$literalExpectation("-",false);var peg$c72=function(negative,num){return num?negative?-num:num:0;};var peg$c74=peg$otherExpectation("double apostrophes");var peg$c75="''";var peg$c76=peg$literalExpectation("''",false);var peg$c77=function(){return "'";};var peg$c78=function(escapedChar,quotedChars){return escapedChar+quotedChars.replace("''","'");};var peg$c79=function(x){return(x!=='{'&&!(isInPluralOption()&&x==='#')&&!(isNestedMessageText()&&x==='}'));};var peg$c80="\n";var peg$c81=peg$literalExpectation("\n",false);var peg$c82=function(x){return x==='{'||x==='}'||(isInPluralOption()&&x==='#');};var peg$c83=peg$otherExpectation("argNameOrNumber");var peg$c84=peg$otherExpectation("argNumber");var peg$c85="0";var peg$c86=peg$literalExpectation("0",false);var peg$c87=function(){return 0;};var peg$c88=/^[1-9]/;var peg$c89=peg$classExpectation([["1","9"]],false,false);var peg$c90=/^[0-9]/;var peg$c91=peg$classExpectation([["0","9"]],false,false);var peg$c92=function(digits){return parseInt(digits.join(''),10);};var peg$c93=peg$otherExpectation("argName");var peg$currPos=0;var peg$savedPos=0;var peg$posDetailsCache=[{line:1,column:1}];var peg$maxFailPos=0;var peg$maxFailExpected=[];var peg$silentFails=0;var peg$result;if(options.startRule!==undefined){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+"\".");}
peg$startRuleFunction=peg$startRuleFunctions[options.startRule];}
function text(){return input.substring(peg$savedPos,peg$currPos);}
function location(){return peg$computeLocation(peg$savedPos,peg$currPos);}
function error(message,location1){location1=location1!==undefined?location1:peg$computeLocation(peg$savedPos,peg$currPos);throw peg$buildSimpleError(message,location1);}
function peg$literalExpectation(text1,ignoreCase){return{type:"literal",text:text1,ignoreCase:ignoreCase};}
function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase};}
function peg$anyExpectation(){return{type:"any"};}
function peg$endExpectation(){return{type:"end"};}
function peg$otherExpectation(description){return{type:"other",description:description};}
function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos];var p;if(details){return details;}
else{p=pos-1;while(!peg$posDetailsCache[p]){p--;}
details=peg$posDetailsCache[p];details={line:details.line,column:details.column};while(p<pos){if(input.charCodeAt(p)===10){details.line++;details.column=1;}
else{details.column++;}
p++;}
peg$posDetailsCache[pos]=details;return details;}}
function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos);var endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}};}
function peg$fail(expected1){if(peg$currPos<peg$maxFailPos){return;}
if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[];}
peg$maxFailExpected.push(expected1);}
function peg$buildSimpleError(message,location1){return new SyntaxError(message,[],"",location1);}
function peg$buildStructuredError(expected1,found,location1){return new SyntaxError(SyntaxError.buildMessage(expected1,found),expected1,found,location1);}
function peg$parsestart(){var s0;s0=peg$parsemessage();return s0;}
function peg$parsemessage(){var s0,s1;s0=[];s1=peg$parsemessageElement();while(s1!==peg$FAILED){s0.push(s1);s1=peg$parsemessageElement();}
return s0;}
function peg$parsemessageElement(){var s0;s0=peg$parseliteralElement();if(s0===peg$FAILED){s0=peg$parseargumentElement();if(s0===peg$FAILED){s0=peg$parsesimpleFormatElement();if(s0===peg$FAILED){s0=peg$parsepluralElement();if(s0===peg$FAILED){s0=peg$parseselectElement();if(s0===peg$FAILED){s0=peg$parsepoundElement();}}}}}
return s0;}
function peg$parsemessageText(){var s0,s1,s2;s0=peg$currPos;s1=[];s2=peg$parsedoubleApostrophes();if(s2===peg$FAILED){s2=peg$parsequotedString();if(s2===peg$FAILED){s2=peg$parseunquotedString();}}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsedoubleApostrophes();if(s2===peg$FAILED){s2=peg$parsequotedString();if(s2===peg$FAILED){s2=peg$parseunquotedString();}}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c0(s1);}
s0=s1;return s0;}
function peg$parseliteralElement(){var s0,s1;s0=peg$currPos;s1=peg$parsemessageText();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c1(s1);}
s0=s1;return s0;}
function peg$parsepoundElement(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===35){s1=peg$c2;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c3);}}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c4();}
s0=s1;return s0;}
function peg$parseargumentElement(){var s0,s1,s2,s3,s4,s5;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c6;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c8;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c10(s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5);}}
return s0;}
function peg$parsenumberSkeletonId(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){if(peg$c12.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13);}}}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){if(peg$c12.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13);}}}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11);}}
return s0;}
function peg$parsenumberSkeletonTokenOption(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===47){s1=peg$c16;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}
if(s1!==peg$FAILED){s2=peg$parsenumberSkeletonId();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c18(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15);}}
return s0;}
function peg$parsenumberSkeletonToken(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parsenumberSkeletonId();if(s2!==peg$FAILED){s3=[];s4=peg$parsenumberSkeletonTokenOption();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsenumberSkeletonTokenOption();}
if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c20(s2,s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19);}}
return s0;}
function peg$parsenumberSkeleton(){var s0,s1,s2;s0=peg$currPos;s1=[];s2=peg$parsenumberSkeletonToken();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsenumberSkeletonToken();}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c21(s1);}
s0=s1;return s0;}
function peg$parsenumberArgStyle(){var s0,s1,s2;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c22){s1=peg$c22;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c23);}}
if(s1!==peg$FAILED){s2=peg$parsenumberSkeleton();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c24(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c25();if(s1){s1=undefined;}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s2=peg$parsemessageText();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c26(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
return s0;}
function peg$parsenumberFormatElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c6;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c27;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c29){s7=peg$c29;peg$currPos+=6;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30);}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){s9=peg$currPos;if(input.charCodeAt(peg$currPos)===44){s10=peg$c27;peg$currPos++;}
else{s10=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s10!==peg$FAILED){s11=peg$parse_();if(s11!==peg$FAILED){s12=peg$parsenumberArgStyle();if(s12!==peg$FAILED){s10=[s10,s11,s12];s9=s10;}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}
if(s9===peg$FAILED){s9=null;}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s11=peg$c8;peg$currPos++;}
else{s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s11!==peg$FAILED){peg$savedPos=s0;s1=peg$c31(s3,s7,s9);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsedateTimeSkeletonLiteral(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c32;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33);}}
if(s1!==peg$FAILED){s2=[];s3=peg$parsedoubleApostrophes();if(s3===peg$FAILED){if(peg$c34.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++;}
else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c35);}}}
if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedoubleApostrophes();if(s3===peg$FAILED){if(peg$c34.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++;}
else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c35);}}}}}
else{s2=peg$FAILED;}
if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c32;peg$currPos++;}
else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33);}}
if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
if(s0===peg$FAILED){s0=[];s1=peg$parsedoubleApostrophes();if(s1===peg$FAILED){if(peg$c36.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c37);}}}
if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);s1=peg$parsedoubleApostrophes();if(s1===peg$FAILED){if(peg$c36.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c37);}}}}}
else{s0=peg$FAILED;}}
return s0;}
function peg$parsedateTimeSkeletonPattern(){var s0,s1;s0=[];if(peg$c38.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39);}}
if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);if(peg$c38.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39);}}}}
else{s0=peg$FAILED;}
return s0;}
function peg$parsedateTimeSkeleton(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;s2=[];s3=peg$parsedateTimeSkeletonLiteral();if(s3===peg$FAILED){s3=peg$parsedateTimeSkeletonPattern();}
if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedateTimeSkeletonLiteral();if(s3===peg$FAILED){s3=peg$parsedateTimeSkeletonPattern();}}}
else{s2=peg$FAILED;}
if(s2!==peg$FAILED){s1=input.substring(s1,peg$currPos);}
else{s1=s2;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s1);}
s0=s1;return s0;}
function peg$parsedateOrTimeArgStyle(){var s0,s1,s2;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c22){s1=peg$c22;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c23);}}
if(s1!==peg$FAILED){s2=peg$parsedateTimeSkeleton();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c24(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c41();if(s1){s1=undefined;}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s2=peg$parsemessageText();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c26(s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
return s0;}
function peg$parsedateOrTimeFormatElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c6;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c27;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,4)===peg$c42){s7=peg$c42;peg$currPos+=4;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43);}}
if(s7===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c44){s7=peg$c44;peg$currPos+=4;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45);}}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){s9=peg$currPos;if(input.charCodeAt(peg$currPos)===44){s10=peg$c27;peg$currPos++;}
else{s10=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s10!==peg$FAILED){s11=peg$parse_();if(s11!==peg$FAILED){s12=peg$parsedateOrTimeArgStyle();if(s12!==peg$FAILED){s10=[s10,s11,s12];s9=s10;}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}}
else{peg$currPos=s9;s9=peg$FAILED;}
if(s9===peg$FAILED){s9=null;}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s11=peg$c8;peg$currPos++;}
else{s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s11!==peg$FAILED){peg$savedPos=s0;s1=peg$c31(s3,s7,s9);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsesimpleFormatElement(){var s0;s0=peg$parsenumberFormatElement();if(s0===peg$FAILED){s0=peg$parsedateOrTimeFormatElement();}
return s0;}
function peg$parsepluralElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c6;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c27;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c46){s7=peg$c46;peg$currPos+=6;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c47);}}
if(s7===peg$FAILED){if(input.substr(peg$currPos,13)===peg$c48){s7=peg$c48;peg$currPos+=13;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c49);}}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s9=peg$c27;peg$currPos++;}
else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){s11=peg$currPos;if(input.substr(peg$currPos,7)===peg$c50){s12=peg$c50;peg$currPos+=7;}
else{s12=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c51);}}
if(s12!==peg$FAILED){s13=peg$parse_();if(s13!==peg$FAILED){s14=peg$parsenumber();if(s14!==peg$FAILED){s12=[s12,s13,s14];s11=s12;}
else{peg$currPos=s11;s11=peg$FAILED;}}
else{peg$currPos=s11;s11=peg$FAILED;}}
else{peg$currPos=s11;s11=peg$FAILED;}
if(s11===peg$FAILED){s11=null;}
if(s11!==peg$FAILED){s12=peg$parse_();if(s12!==peg$FAILED){s13=[];s14=peg$parsepluralOption();if(s14!==peg$FAILED){while(s14!==peg$FAILED){s13.push(s14);s14=peg$parsepluralOption();}}
else{s13=peg$FAILED;}
if(s13!==peg$FAILED){s14=peg$parse_();if(s14!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s15=peg$c8;peg$currPos++;}
else{s15=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s15!==peg$FAILED){peg$savedPos=s0;s1=peg$c52(s3,s7,s11,s13);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parseselectElement(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c6;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseargNameOrNumber();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c27;peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s5!==peg$FAILED){s6=peg$parse_();if(s6!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c53){s7=peg$c53;peg$currPos+=6;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c54);}}
if(s7!==peg$FAILED){s8=peg$parse_();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s9=peg$c27;peg$currPos++;}
else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}
if(s9!==peg$FAILED){s10=peg$parse_();if(s10!==peg$FAILED){s11=[];s12=peg$parseselectOption();if(s12!==peg$FAILED){while(s12!==peg$FAILED){s11.push(s12);s12=peg$parseselectOption();}}
else{s11=peg$FAILED;}
if(s11!==peg$FAILED){s12=peg$parse_();if(s12!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s13=peg$c8;peg$currPos++;}
else{s13=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s13!==peg$FAILED){peg$savedPos=s0;s1=peg$c55(s3,s11);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsepluralRuleSelectValue(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;if(input.charCodeAt(peg$currPos)===61){s2=peg$c56;peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c57);}}
if(s2!==peg$FAILED){s3=peg$parsenumber();if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
if(s0===peg$FAILED){s0=peg$parseargName();}
return s0;}
function peg$parseselectOption(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parseargName();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s4=peg$c6;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s4!==peg$FAILED){peg$savedPos=peg$currPos;s5=peg$c58();if(s5){s5=undefined;}
else{s5=peg$FAILED;}
if(s5!==peg$FAILED){s6=peg$parsemessage();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s7=peg$c8;peg$currPos++;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c59(s2,s6);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsepluralOption(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parsepluralRuleSelectValue();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s4=peg$c6;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7);}}
if(s4!==peg$FAILED){peg$savedPos=peg$currPos;s5=peg$c60();if(s5){s5=undefined;}
else{s5=peg$FAILED;}
if(s5!==peg$FAILED){s6=peg$parsemessage();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s7=peg$c8;peg$currPos++;}
else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9);}}
if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c61(s2,s6);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parsewhiteSpace(){var s0;peg$silentFails++;if(peg$c63.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}
else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c64);}}
peg$silentFails--;if(s0===peg$FAILED){if(peg$silentFails===0){peg$fail(peg$c62);}}
return s0;}
function peg$parsepatternSyntax(){var s0;peg$silentFails++;if(peg$c66.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}
else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c67);}}
peg$silentFails--;if(s0===peg$FAILED){if(peg$silentFails===0){peg$fail(peg$c65);}}
return s0;}
function peg$parse_(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$parsewhiteSpace();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsewhiteSpace();}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c68);}}
return s0;}
function peg$parsenumber(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c70;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c71);}}
if(s1===peg$FAILED){s1=null;}
if(s1!==peg$FAILED){s2=peg$parseargNumber();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c72(s1,s2);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c69);}}
return s0;}
function peg$parsedoubleApostrophes(){var s0,s1;peg$silentFails++;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c75){s1=peg$c75;peg$currPos+=2;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76);}}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c77();}
s0=s1;peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74);}}
return s0;}
function peg$parsequotedString(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c32;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33);}}
if(s1!==peg$FAILED){s2=peg$parseescapedChar();if(s2!==peg$FAILED){s3=peg$currPos;s4=[];if(input.substr(peg$currPos,2)===peg$c75){s5=peg$c75;peg$currPos+=2;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76);}}
if(s5===peg$FAILED){if(peg$c34.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c35);}}}
while(s5!==peg$FAILED){s4.push(s5);if(input.substr(peg$currPos,2)===peg$c75){s5=peg$c75;peg$currPos+=2;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76);}}
if(s5===peg$FAILED){if(peg$c34.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++;}
else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c35);}}}}
if(s4!==peg$FAILED){s3=input.substring(s3,peg$currPos);}
else{s3=s4;}
if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s4=peg$c32;peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33);}}
if(s4===peg$FAILED){s4=null;}
if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c78(s2,s3);s0=s1;}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}}
else{peg$currPos=s0;s0=peg$FAILED;}
return s0;}
function peg$parseunquotedString(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s2!==peg$FAILED){peg$savedPos=peg$currPos;s3=peg$c79(s2);if(s3){s3=undefined;}
else{s3=peg$FAILED;}
if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===10){s1=peg$c80;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c81);}}}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
return s0;}
function peg$parseescapedChar(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s2!==peg$FAILED){peg$savedPos=peg$currPos;s3=peg$c82(s2);if(s3){s3=undefined;}
else{s3=peg$FAILED;}
if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
return s0;}
function peg$parseargNameOrNumber(){var s0,s1;peg$silentFails++;s0=peg$currPos;s1=peg$parseargNumber();if(s1===peg$FAILED){s1=peg$parseargName();}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c83);}}
return s0;}
function peg$parseargNumber(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===48){s1=peg$c85;peg$currPos++;}
else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86);}}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c87();}
s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;if(peg$c88.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}
else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89);}}
if(s2!==peg$FAILED){s3=[];if(peg$c90.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91);}}
while(s4!==peg$FAILED){s3.push(s4);if(peg$c90.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91);}}}
if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}
else{peg$currPos=s1;s1=peg$FAILED;}}
else{peg$currPos=s1;s1=peg$FAILED;}
if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c92(s1);}
s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c84);}}
return s0;}
function peg$parseargName(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){s4=peg$parsepatternSyntax();}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}
if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$currPos;peg$silentFails++;s4=peg$parsewhiteSpace();if(s4===peg$FAILED){s4=peg$parsepatternSyntax();}
peg$silentFails--;if(s4===peg$FAILED){s3=undefined;}
else{peg$currPos=s3;s3=peg$FAILED;}
if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++;}
else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}
if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}
else{peg$currPos=s2;s2=peg$FAILED;}}
else{peg$currPos=s2;s2=peg$FAILED;}}}
else{s1=peg$FAILED;}
if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos);}
else{s0=s1;}
peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c93);}}
return s0;}
var messageCtx=['root'];function isNestedMessageText(){return messageCtx.length>1;}
function isInPluralOption(){return messageCtx[messageCtx.length-1]==='plural';}
function insertLocation(){return options&&options.captureLocation?{location:location()}:{};}
peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result;}
else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail(peg$endExpectation());}
throw peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos));}}
var pegParse=peg$parse;var __spreadArrays=(undefined&&undefined.__spreadArrays)||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};var PLURAL_HASHTAG_REGEX=/(^|[^\\])#/g;function normalizeHashtagInPlural(els){els.forEach(function(el){if(!isPluralElement(el)&&!isSelectElement(el)){return;}
Object.keys(el.options).forEach(function(id){var _a;var opt=el.options[id];var matchingLiteralElIndex=-1;var literalEl=undefined;for(var i=0;i<opt.value.length;i++){var el_1=opt.value[i];if(isLiteralElement(el_1)&&PLURAL_HASHTAG_REGEX.test(el_1.value)){matchingLiteralElIndex=i;literalEl=el_1;break;}}
if(literalEl){var newValue=literalEl.value.replace(PLURAL_HASHTAG_REGEX,"$1{"+el.value+", number}");var newEls=pegParse(newValue);(_a=opt.value).splice.apply(_a,__spreadArrays([matchingLiteralElIndex,1],newEls));}
normalizeHashtagInPlural(opt.value);});});}
var __assign$1=(undefined&&undefined.__assign)||function(){__assign$1=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$1.apply(this,arguments);};var DATE_TIME_REGEX=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function parseDateTimeSkeleton(skeleton){var result={};skeleton.replace(DATE_TIME_REGEX,function(match){var len=match.length;switch(match[0]){case 'G':result.era=len===4?'long':len===5?'narrow':'short';break;case 'y':result.year=len===2?'2-digit':'numeric';break;case 'Y':case 'u':case 'U':case 'r':throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');case 'q':case 'Q':throw new RangeError('`q/Q` (quarter) patterns are not supported');case 'M':case 'L':result.month=['numeric','2-digit','short','long','narrow'][len-1];break;case 'w':case 'W':throw new RangeError('`w/W` (week) patterns are not supported');case 'd':result.day=['numeric','2-digit'][len-1];break;case 'D':case 'F':case 'g':throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');case 'E':result.weekday=len===4?'short':len===5?'narrow':'short';break;case 'e':if(len<4){throw new RangeError('`e..eee` (weekday) patterns are not supported');}
result.weekday=['short','long','narrow','short'][len-4];break;case 'c':if(len<4){throw new RangeError('`c..ccc` (weekday) patterns are not supported');}
result.weekday=['short','long','narrow','short'][len-4];break;case 'a':result.hour12=true;break;case 'b':case 'B':throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');case 'h':result.hourCycle='h12';result.hour=['numeric','2-digit'][len-1];break;case 'H':result.hourCycle='h23';result.hour=['numeric','2-digit'][len-1];break;case 'K':result.hourCycle='h11';result.hour=['numeric','2-digit'][len-1];break;case 'k':result.hourCycle='h24';result.hour=['numeric','2-digit'][len-1];break;case 'j':case 'J':case 'C':throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');case 'm':result.minute=['numeric','2-digit'][len-1];break;case 's':result.second=['numeric','2-digit'][len-1];break;case 'S':case 'A':throw new RangeError('`S/A` (second) pattenrs are not supported, use `s` instead');case 'z':result.timeZoneName=len<4?'short':'long';break;case 'Z':case 'O':case 'v':case 'V':case 'X':case 'x':throw new RangeError('`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead');}
return '';});return result;}
function icuUnitToEcma(unit){return unit.replace(/^(.*?)-/,'');}
var FRACTION_PRECISION_REGEX=/^\.(?:(0+)(\+|#+)?)?$/g;var SIGNIFICANT_PRECISION_REGEX=/^(@+)?(\+|#+)?$/g;function parseSignificantPrecision(str){var result={};str.replace(SIGNIFICANT_PRECISION_REGEX,function(_,g1,g2){if(typeof g2!=='string'){result.minimumSignificantDigits=g1.length;result.maximumSignificantDigits=g1.length;}
else if(g2==='+'){result.minimumSignificantDigits=g1.length;}
else if(g1[0]==='#'){result.maximumSignificantDigits=g1.length;}
else{result.minimumSignificantDigits=g1.length;result.maximumSignificantDigits=g1.length+(typeof g2==='string'?g2.length:0);}
return '';});return result;}
function parseSign(str){switch(str){case 'sign-auto':return{signDisplay:'auto',};case 'sign-accounting':return{currencySign:'accounting',};case 'sign-always':return{signDisplay:'always',};case 'sign-accounting-always':return{signDisplay:'always',currencySign:'accounting',};case 'sign-except-zero':return{signDisplay:'exceptZero',};case 'sign-accounting-except-zero':return{signDisplay:'exceptZero',currencySign:'accounting',};case 'sign-never':return{signDisplay:'never',};}}
function parseNotationOptions(opt){var result={};var signOpts=parseSign(opt);if(signOpts){return signOpts;}
return result;}
function convertNumberSkeletonToNumberFormatOptions(tokens){var result={};for(var _i=0,tokens_1=tokens;_i<tokens_1.length;_i++){var token=tokens_1[_i];switch(token.stem){case 'percent':result.style='percent';continue;case 'currency':result.style='currency';result.currency=token.options[0];continue;case 'group-off':result.useGrouping=false;continue;case 'precision-integer':result.maximumFractionDigits=0;continue;case 'measure-unit':result.style='unit';result.unit=icuUnitToEcma(token.options[0]);continue;case 'compact-short':result.notation='compact';result.compactDisplay='short';continue;case 'compact-long':result.notation='compact';result.compactDisplay='long';continue;case 'scientific':result=__assign$1(__assign$1(__assign$1({},result),{notation:'scientific'}),token.options.reduce(function(all,opt){return(__assign$1(__assign$1({},all),parseNotationOptions(opt)));},{}));continue;case 'engineering':result=__assign$1(__assign$1(__assign$1({},result),{notation:'engineering'}),token.options.reduce(function(all,opt){return(__assign$1(__assign$1({},all),parseNotationOptions(opt)));},{}));continue;case 'notation-simple':result.notation='standard';continue;case 'unit-width-narrow':result.currencyDisplay='narrowSymbol';result.unitDisplay='narrow';continue;case 'unit-width-short':result.currencyDisplay='code';result.unitDisplay='short';continue;case 'unit-width-full-name':result.currencyDisplay='name';result.unitDisplay='long';continue;case 'unit-width-iso-code':result.currencyDisplay='symbol';continue;}
if(FRACTION_PRECISION_REGEX.test(token.stem)){if(token.options.length>1){throw new RangeError('Fraction-precision stems only accept a single optional option');}
token.stem.replace(FRACTION_PRECISION_REGEX,function(match,g1,g2){if(match==='.'){result.maximumFractionDigits=0;}
else if(g2==='+'){result.minimumFractionDigits=g2.length;}
else if(g1[0]==='#'){result.maximumFractionDigits=g1.length;}
else{result.minimumFractionDigits=g1.length;result.maximumFractionDigits=g1.length+(typeof g2==='string'?g2.length:0);}
return '';});if(token.options.length){result=__assign$1(__assign$1({},result),parseSignificantPrecision(token.options[0]));}
continue;}
if(SIGNIFICANT_PRECISION_REGEX.test(token.stem)){result=__assign$1(__assign$1({},result),parseSignificantPrecision(token.stem));continue;}
var signOpts=parseSign(token.stem);if(signOpts){result=__assign$1(__assign$1({},result),signOpts);}}
return result;}
function parse(input,opts){var els=pegParse(input,opts);if(!opts||opts.normalizeHashtagInPlural!==false){normalizeHashtagInPlural(els);}
return els;}
var __spreadArrays$1=(undefined&&undefined.__spreadArrays)||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};function getCacheId(inputs){return JSON.stringify(inputs.map(function(input){return input&&typeof input==='object'?orderedProps(input):input;}));}
function orderedProps(obj){return Object.keys(obj).sort().map(function(k){var _a;return(_a={},_a[k]=obj[k],_a);});}
var memoizeFormatConstructor=function(FormatConstructor,cache){if(cache===void 0){cache={};}
return function(){var _a;var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
var cacheId=getCacheId(args);var format=cacheId&&cache[cacheId];if(!format){format=new((_a=FormatConstructor).bind.apply(_a,__spreadArrays$1([void 0],args)))();if(cacheId){cache[cacheId]=format;}}
return format;};};var __extends$1=(undefined&&undefined.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __spreadArrays$2=(undefined&&undefined.__spreadArrays)||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};var FormatError=(function(_super){__extends$1(FormatError,_super);function FormatError(msg,variableId){var _this=_super.call(this,msg)||this;_this.variableId=variableId;return _this;}
return FormatError;}(Error));function mergeLiteral(parts){if(parts.length<2){return parts;}
return parts.reduce(function(all,part){var lastPart=all[all.length-1];if(!lastPart||lastPart.type!==0||part.type!==0){all.push(part);}
else{lastPart.value+=part.value;}
return all;},[]);}
function formatToParts(els,locales,formatters,formats,values,currentPluralValue,originalMessage){if(els.length===1&&isLiteralElement(els[0])){return[{type:0,value:els[0].value,},];}
var result=[];for(var _i=0,els_1=els;_i<els_1.length;_i++){var el=els_1[_i];if(isLiteralElement(el)){result.push({type:0,value:el.value,});continue;}
if(isPoundElement(el)){if(typeof currentPluralValue==='number'){result.push({type:0,value:formatters.getNumberFormat(locales).format(currentPluralValue),});}
continue;}
var varName=el.value;if(!(values&&varName in values)){throw new FormatError("The intl string context variable \""+varName+"\" was not provided to the string \""+originalMessage+"\"");}
var value=values[varName];if(isArgumentElement(el)){if(!value||typeof value==='string'||typeof value==='number'){value=typeof value==='string'||typeof value==='number'?String(value):'';}
result.push({type:1,value:value,});continue;}
if(isDateElement(el)){var style=typeof el.style==='string'?formats.date[el.style]:undefined;result.push({type:0,value:formatters.getDateTimeFormat(locales,style).format(value),});continue;}
if(isTimeElement(el)){var style=typeof el.style==='string'?formats.time[el.style]:isDateTimeSkeleton(el.style)?parseDateTimeSkeleton(el.style.pattern):undefined;result.push({type:0,value:formatters.getDateTimeFormat(locales,style).format(value),});continue;}
if(isNumberElement(el)){var style=typeof el.style==='string'?formats.number[el.style]:isNumberSkeleton(el.style)?convertNumberSkeletonToNumberFormatOptions(el.style.tokens):undefined;result.push({type:0,value:formatters.getNumberFormat(locales,style).format(value),});continue;}
if(isSelectElement(el)){var opt=el.options[value]||el.options.other;if(!opt){throw new RangeError("Invalid values for \""+el.value+"\": \""+value+"\". Options are \""+Object.keys(el.options).join('", "')+"\"");}
result.push.apply(result,formatToParts(opt.value,locales,formatters,formats,values));continue;}
if(isPluralElement(el)){var opt=el.options["="+value];if(!opt){if(!Intl.PluralRules){throw new FormatError("Intl.PluralRules is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-pluralrules\"\n");}
var rule=formatters.getPluralRules(locales,{type:el.pluralType}).select(value-(el.offset||0));opt=el.options[rule]||el.options.other;}
if(!opt){throw new RangeError("Invalid values for \""+el.value+"\": \""+value+"\". Options are \""+Object.keys(el.options).join('", "')+"\"");}
result.push.apply(result,formatToParts(opt.value,locales,formatters,formats,values,value-(el.offset||0)));continue;}}
return mergeLiteral(result);}
function formatToString(els,locales,formatters,formats,values,originalMessage){var parts=formatToParts(els,locales,formatters,formats,values,undefined,originalMessage);if(parts.length===1){return parts[0].value;}
return parts.reduce(function(all,part){return(all+=part.value);},'');}
var domParser;var TOKEN_DELIMITER='@@';var TOKEN_REGEX=/@@(\d+_\d+)@@/g;var counter=0;function generateId(){return Date.now()+"_"+ ++counter;}
function restoreRichPlaceholderMessage(text,objectParts){return text.split(TOKEN_REGEX).filter(Boolean).map(function(c){return(objectParts[c]!=null?objectParts[c]:c);}).reduce(function(all,c){if(!all.length){all.push(c);}
else if(typeof c==='string'&&typeof all[all.length-1]==='string'){all[all.length-1]+=c;}
else{all.push(c);}
return all;},[]);}
var SIMPLE_XML_REGEX=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/;var TEMPLATE_ID=Date.now()+'@@';var VOID_ELEMENTS=['area','base','br','col','embed','hr','img','input','link','meta','param','source','track','wbr',];function formatHTMLElement(el,objectParts,values){var tagName=el.tagName;var outerHTML=el.outerHTML,textContent=el.textContent,childNodes=el.childNodes;if(!tagName){return restoreRichPlaceholderMessage(textContent||'',objectParts);}
tagName=tagName.toLowerCase();var isVoidElement=~VOID_ELEMENTS.indexOf(tagName);var formatFnOrValue=values[tagName];if(formatFnOrValue&&isVoidElement){throw new FormatError(tagName+" is a self-closing tag and can not be used, please use another tag name.");}
if(!childNodes.length){return[outerHTML];}
var chunks=Array.prototype.slice.call(childNodes).reduce(function(all,child){return all.concat(formatHTMLElement(child,objectParts,values));},[]);if(!formatFnOrValue){return __spreadArrays$2(["<"+tagName+">"],chunks,["</"+tagName+">"]);}
if(typeof formatFnOrValue==='function'){return[formatFnOrValue.apply(void 0,chunks)];}
return[formatFnOrValue];}
function formatHTMLMessage(els,locales,formatters,formats,values,originalMessage){var parts=formatToParts(els,locales,formatters,formats,values,undefined,originalMessage);var objectParts={};var formattedMessage=parts.reduce(function(all,part){if(part.type===0){return(all+=part.value);}
var id=generateId();objectParts[id]=part.value;return(all+=""+TOKEN_DELIMITER+id+TOKEN_DELIMITER);},'');if(!SIMPLE_XML_REGEX.test(formattedMessage)){return restoreRichPlaceholderMessage(formattedMessage,objectParts);}
if(!values){throw new FormatError('Message has placeholders but no values was given');}
if(typeof DOMParser==='undefined'){throw new FormatError('Cannot format XML message without DOMParser');}
if(!domParser){domParser=new DOMParser();}
var content=domParser.parseFromString("<formatted-message id=\""+TEMPLATE_ID+"\">"+formattedMessage+"</formatted-message>",'text/html').getElementById(TEMPLATE_ID);if(!content){throw new FormatError("Malformed HTML message "+formattedMessage);}
var tagsToFormat=Object.keys(values).filter(function(varName){return!!content.getElementsByTagName(varName).length;});if(!tagsToFormat.length){return restoreRichPlaceholderMessage(formattedMessage,objectParts);}
var caseSensitiveTags=tagsToFormat.filter(function(tagName){return tagName!==tagName.toLowerCase();});if(caseSensitiveTags.length){throw new FormatError("HTML tag must be lowercased but the following tags are not: "+caseSensitiveTags.join(', '));}
return Array.prototype.slice.call(content.childNodes).reduce(function(all,child){return all.concat(formatHTMLElement(child,objectParts,values));},[]);}
var __assign$2=(undefined&&undefined.__assign)||function(){__assign$2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign$2.apply(this,arguments);};function mergeConfig(c1,c2){if(!c2){return c1;}
return __assign$2(__assign$2(__assign$2({},(c1||{})),(c2||{})),Object.keys(c1).reduce(function(all,k){all[k]=__assign$2(__assign$2({},c1[k]),(c2[k]||{}));return all;},{}));}
function mergeConfigs(defaultConfig,configs){if(!configs){return defaultConfig;}
return Object.keys(defaultConfig).reduce(function(all,k){all[k]=mergeConfig(defaultConfig[k],configs[k]);return all;},__assign$2({},defaultConfig));}
function createDefaultFormatters(cache){if(cache===void 0){cache={number:{},dateTime:{},pluralRules:{},};}
return{getNumberFormat:memoizeFormatConstructor(Intl.NumberFormat,cache.number),getDateTimeFormat:memoizeFormatConstructor(Intl.DateTimeFormat,cache.dateTime),getPluralRules:memoizeFormatConstructor(Intl.PluralRules,cache.pluralRules),};}
var IntlMessageFormat=(function(){function IntlMessageFormat(message,locales,overrideFormats,opts){var _this=this;if(locales===void 0){locales=IntlMessageFormat.defaultLocale;}
this.formatterCache={number:{},dateTime:{},pluralRules:{},};this.format=function(values){return formatToString(_this.ast,_this.locales,_this.formatters,_this.formats,values,_this.message);};this.formatToParts=function(values){return formatToParts(_this.ast,_this.locales,_this.formatters,_this.formats,values,undefined,_this.message);};this.formatHTMLMessage=function(values){return formatHTMLMessage(_this.ast,_this.locales,_this.formatters,_this.formats,values,_this.message);};this.resolvedOptions=function(){return({locale:Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],});};this.getAst=function(){return _this.ast;};if(typeof message==='string'){this.message=message;if(!IntlMessageFormat.__parse){throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');}
this.ast=IntlMessageFormat.__parse(message,{normalizeHashtagInPlural:false,});}
else{this.ast=message;}
if(!Array.isArray(this.ast)){throw new TypeError('A message must be provided as a String or AST.');}
this.formats=mergeConfigs(IntlMessageFormat.formats,overrideFormats);this.locales=locales;this.formatters=(opts&&opts.formatters)||createDefaultFormatters(this.formatterCache);}
IntlMessageFormat.defaultLocale=new Intl.NumberFormat().resolvedOptions().locale;IntlMessageFormat.__parse=parse;IntlMessageFormat.formats={number:{currency:{style:'currency',},percent:{style:'percent',},},date:{short:{month:'numeric',day:'numeric',year:'2-digit',},medium:{month:'short',day:'numeric',year:'numeric',},long:{month:'long',day:'numeric',year:'numeric',},full:{weekday:'long',month:'long',day:'numeric',year:'numeric',},},time:{short:{hour:'numeric',minute:'numeric',},medium:{hour:'numeric',minute:'numeric',second:'numeric',},long:{hour:'numeric',minute:'numeric',second:'numeric',timeZoneName:'short',},full:{hour:'numeric',minute:'numeric',second:'numeric',timeZoneName:'short',},},};return IntlMessageFormat;}());function invariant(condition,message,Err){if(Err===void 0){Err=Error;}
if(!condition){throw new Err(message);}}
const ESCAPED_CHARS={38:'&amp;',62:'&gt;',60:'&lt;',34:'&quot;',39:'&#x27;',};const UNSAFE_CHARS_REGEX=/[&><"']/g;function escape(str){return(''+str).replace(UNSAFE_CHARS_REGEX,match=>ESCAPED_CHARS[match.charCodeAt(0)]);}
function filterProps(props,whitelist,defaults={}){return whitelist.reduce((filtered,name)=>{if(name in props){filtered[name]=props[name];}
else if(name in defaults){filtered[name]=defaults[name];}
return filtered;},{});}
function invariantIntlContext(intl){invariant(intl,'[React Intl] Could not find required `intl` object. '+
'<IntlProvider> needs to exist in the component ancestry.');}
function createError(message,exception){const eMsg=exception?`\n${exception.stack}`:'';return `[React Intl] ${message}${eMsg}`;}
function defaultErrorHandler(error){}
const DEFAULT_INTL_CONFIG={formats:{},messages:{},timeZone:undefined,textComponent:React.Fragment,defaultLocale:'en',defaultFormats:{},onError:defaultErrorHandler,};function createIntlCache(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{},};}
function createFormatters(cache=createIntlCache()){const RelativeTimeFormat=Intl.RelativeTimeFormat;const ListFormat=Intl.ListFormat;const DisplayNames=Intl.DisplayNames;return{getDateTimeFormat:memoizeFormatConstructor(Intl.DateTimeFormat,cache.dateTime),getNumberFormat:memoizeFormatConstructor(Intl.NumberFormat,cache.number),getMessageFormat:memoizeFormatConstructor(IntlMessageFormat,cache.message),getRelativeTimeFormat:memoizeFormatConstructor(RelativeTimeFormat,cache.relativeTime),getPluralRules:memoizeFormatConstructor(Intl.PluralRules,cache.pluralRules),getListFormat:memoizeFormatConstructor(ListFormat,cache.list),getDisplayNames:memoizeFormatConstructor(DisplayNames,cache.displayNames),};}
function getNamedFormat(formats,type,name,onError){const formatType=formats&&formats[type];let format;if(formatType){format=formatType[name];}
if(format){return format;}
onError(createError(`No ${type} format named: ${name}`));}
function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}
var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}var AsyncMode=l;var ConcurrentMode=m;var ContextConsumer=k;var ContextProvider=h;var Element=c;var ForwardRef=n;var Fragment=e;var Lazy=t;var Memo=r;var Portal=d;var Profiler=g;var StrictMode=f;var Suspense=p;var isAsyncMode=function(a){return A(a)||z(a)===l};var isConcurrentMode=A;var isContextConsumer=function(a){return z(a)===k};var isContextProvider=function(a){return z(a)===h};var isElement=function(a){return "object"===typeof a&&null!==a&&a.$$typeof===c};var isForwardRef=function(a){return z(a)===n};var isFragment=function(a){return z(a)===e};var isLazy=function(a){return z(a)===t};var isMemo=function(a){return z(a)===r};var isPortal=function(a){return z(a)===d};var isProfiler=function(a){return z(a)===g};var isStrictMode=function(a){return z(a)===f};var isSuspense=function(a){return z(a)===p};var isValidElementType=function(a){return "string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};var typeOf=z;var reactIs_production_min={AsyncMode:AsyncMode,ConcurrentMode:ConcurrentMode,ContextConsumer:ContextConsumer,ContextProvider:ContextProvider,Element:Element,ForwardRef:ForwardRef,Fragment:Fragment,Lazy:Lazy,Memo:Memo,Portal:Portal,Profiler:Profiler,StrictMode:StrictMode,Suspense:Suspense,isAsyncMode:isAsyncMode,isConcurrentMode:isConcurrentMode,isContextConsumer:isContextConsumer,isContextProvider:isContextProvider,isElement:isElement,isForwardRef:isForwardRef,isFragment:isFragment,isLazy:isLazy,isMemo:isMemo,isPortal:isPortal,isProfiler:isProfiler,isStrictMode:isStrictMode,isSuspense:isSuspense,isValidElementType:isValidElementType,typeOf:typeOf};var reactIs_development=createCommonjsModule(function(module,exports){});var reactIs_development_1=reactIs_development.AsyncMode;var reactIs_development_2=reactIs_development.ConcurrentMode;var reactIs_development_3=reactIs_development.ContextConsumer;var reactIs_development_4=reactIs_development.ContextProvider;var reactIs_development_5=reactIs_development.Element;var reactIs_development_6=reactIs_development.ForwardRef;var reactIs_development_7=reactIs_development.Fragment;var reactIs_development_8=reactIs_development.Lazy;var reactIs_development_9=reactIs_development.Memo;var reactIs_development_10=reactIs_development.Portal;var reactIs_development_11=reactIs_development.Profiler;var reactIs_development_12=reactIs_development.StrictMode;var reactIs_development_13=reactIs_development.Suspense;var reactIs_development_14=reactIs_development.isAsyncMode;var reactIs_development_15=reactIs_development.isConcurrentMode;var reactIs_development_16=reactIs_development.isContextConsumer;var reactIs_development_17=reactIs_development.isContextProvider;var reactIs_development_18=reactIs_development.isElement;var reactIs_development_19=reactIs_development.isForwardRef;var reactIs_development_20=reactIs_development.isFragment;var reactIs_development_21=reactIs_development.isLazy;var reactIs_development_22=reactIs_development.isMemo;var reactIs_development_23=reactIs_development.isPortal;var reactIs_development_24=reactIs_development.isProfiler;var reactIs_development_25=reactIs_development.isStrictMode;var reactIs_development_26=reactIs_development.isSuspense;var reactIs_development_27=reactIs_development.isValidElementType;var reactIs_development_28=reactIs_development.typeOf;var reactIs=createCommonjsModule(function(module){{module.exports=reactIs_production_min;}});var reactIs_1=reactIs.isValidElementType;var reactIs_2=reactIs.isElement;var FORWARD_REF_STATICS={'$$typeof':true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={'$$typeof':true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;const IntlContext=React.createContext(null);const{Consumer:IntlConsumer,Provider:IntlProvider}=IntlContext;const Provider=IntlProvider;const Context=IntlContext;function useIntl(){const intl=React.useContext(Context);invariantIntlContext(intl);return intl;}
const NUMBER_FORMAT_OPTIONS=['localeMatcher','style','currency','currencyDisplay','unit','unitDisplay','useGrouping','minimumIntegerDigits','minimumFractionDigits','maximumFractionDigits','minimumSignificantDigits','maximumSignificantDigits','compactDisplay','currencyDisplay','currencySign','notation','signDisplay','unit','unitDisplay',];function getFormatter({locale,formats,onError,},getNumberFormat,options={}){const{format}=options;const defaults=((format&&getNamedFormat(formats,'number',format,onError))||{});const filteredOptions=filterProps(options,NUMBER_FORMAT_OPTIONS,defaults);return getNumberFormat(locale,filteredOptions);}
function formatNumber(config,getNumberFormat,value,options={}){try{return getFormatter(config,getNumberFormat,options).format(value);}
catch(e){config.onError(createError('Error formatting number.',e));}
return String(value);}
function formatNumberToParts(config,getNumberFormat,value,options={}){try{return getFormatter(config,getNumberFormat,options).formatToParts(value);}
catch(e){config.onError(createError('Error formatting number.',e));}
return[];}
const RELATIVE_TIME_FORMAT_OPTIONS=['numeric','style',];function getFormatter$1({locale,formats,onError,},getRelativeTimeFormat,options={}){const{format}=options;const defaults=(!!format&&getNamedFormat(formats,'relative',format,onError))||{};const filteredOptions=filterProps(options,RELATIVE_TIME_FORMAT_OPTIONS,defaults);return getRelativeTimeFormat(locale,filteredOptions);}
function formatRelativeTime(config,getRelativeTimeFormat,value,unit,options={}){if(!unit){unit='second';}
const RelativeTimeFormat=Intl.RelativeTimeFormat;if(!RelativeTimeFormat){config.onError(createError(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`));}
try{return getFormatter$1(config,getRelativeTimeFormat,options).format(value,unit);}
catch(e){config.onError(createError('Error formatting relative time.',e));}
return String(value);}
const DATE_TIME_FORMAT_OPTIONS=['localeMatcher','formatMatcher','timeZone','hour12','weekday','era','year','month','day','hour','minute','second','timeZoneName',];function getFormatter$2({locale,formats,onError,timeZone,},type,getDateTimeFormat,options={}){const{format}=options;const defaults=Object.assign(Object.assign({},(timeZone&&{timeZone})),(format&&getNamedFormat(formats,type,format,onError)));let filteredOptions=filterProps(options,DATE_TIME_FORMAT_OPTIONS,defaults);if(type==='time'&&!filteredOptions.hour&&!filteredOptions.minute&&!filteredOptions.second){filteredOptions=Object.assign(Object.assign({},filteredOptions),{hour:'numeric',minute:'numeric'});}
return getDateTimeFormat(locale,filteredOptions);}
function formatDate(config,getDateTimeFormat,value,options={}){const date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'date',getDateTimeFormat,options).format(date);}
catch(e){config.onError(createError('Error formatting date.',e));}
return String(date);}
function formatTime(config,getDateTimeFormat,value,options={}){const date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'time',getDateTimeFormat,options).format(date);}
catch(e){config.onError(createError('Error formatting time.',e));}
return String(date);}
function formatDateToParts(config,getDateTimeFormat,value,options={}){const date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'date',getDateTimeFormat,options).formatToParts(date);}
catch(e){config.onError(createError('Error formatting date.',e));}
return[];}
function formatTimeToParts(config,getDateTimeFormat,value,options={}){const date=typeof value==='string'?new Date(value||0):value;try{return getFormatter$2(config,'time',getDateTimeFormat,options).formatToParts(date);}
catch(e){config.onError(createError('Error formatting time.',e));}
return[];}
const PLURAL_FORMAT_OPTIONS=['localeMatcher','type',];function formatPlural({locale,onError},getPluralRules,value,options={}){if(!Intl.PluralRules){onError(createError(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`));}
const filteredOptions=filterProps(options,PLURAL_FORMAT_OPTIONS);try{return getPluralRules(locale,filteredOptions).select(value);}
catch(e){onError(createError('Error formatting plural.',e));}
return 'other';}
function setTimeZoneInOptions(opts,timeZone){return Object.keys(opts).reduce((all,k)=>{all[k]=Object.assign({timeZone},opts[k]);return all;},{});}
function deepMergeOptions(opts1,opts2){const keys=Object.keys(Object.assign(Object.assign({},opts1),opts2));return keys.reduce((all,k)=>{all[k]=Object.assign(Object.assign({},(opts1[k]||{})),(opts2[k]||{}));return all;},{});}
function deepMergeFormatsAndSetTimeZone(f1,timeZone){if(!timeZone){return f1;}
const mfFormats=IntlMessageFormat.formats;return Object.assign(Object.assign(Object.assign({},mfFormats),f1),{date:deepMergeOptions(setTimeZoneInOptions(mfFormats.date,timeZone),setTimeZoneInOptions(f1.date||{},timeZone)),time:deepMergeOptions(setTimeZoneInOptions(mfFormats.time,timeZone),setTimeZoneInOptions(f1.time||{},timeZone))});}
const prepareIntlMessageFormatHtmlOutput=(chunks)=>React.createElement(React.Fragment,null,...chunks);function formatMessage({locale,formats,messages,defaultLocale,defaultFormats,onError,timeZone,},state,messageDescriptor={id:''},values={}){const{id,defaultMessage}=messageDescriptor;invariant(!!id,'[React Intl] An `id` must be provided to format a message.');const message=messages&&messages[String(id)];formats=deepMergeFormatsAndSetTimeZone(formats,timeZone);defaultFormats=deepMergeFormatsAndSetTimeZone(defaultFormats,timeZone);let formattedMessageParts=[];if(message){try{const formatter=state.getMessageFormat(message,locale,formats,{formatters:state,});formattedMessageParts=formatter.formatHTMLMessage(values);}
catch(e){onError(createError(`Error formatting message: "${id}" for locale: "${locale}"`+
(defaultMessage?', using default message as fallback.':''),e));}}
else{if(!defaultMessage||(locale&&locale.toLowerCase()!==defaultLocale.toLowerCase())){onError(createError(`Missing message: "${id}" for locale: "${locale}"`+
(defaultMessage?', using default message as fallback.':'')));}}
if(!formattedMessageParts.length&&defaultMessage){try{const formatter=state.getMessageFormat(defaultMessage,defaultLocale,defaultFormats);formattedMessageParts=formatter.formatHTMLMessage(values);}
catch(e){onError(createError(`Error formatting the default message for: "${id}"`,e));}}
if(!formattedMessageParts.length){onError(createError(`Cannot format message: "${id}", `+
`using message ${message||defaultMessage?'source':'id'} as fallback.`));if(typeof message==='string'){return message||defaultMessage||String(id);}
return defaultMessage||String(id);}
if(formattedMessageParts.length===1&&typeof formattedMessageParts[0]==='string'){return formattedMessageParts[0]||defaultMessage||String(id);}
return prepareIntlMessageFormatHtmlOutput(formattedMessageParts);}
function formatHTMLMessage$1(config,state,messageDescriptor={id:''},rawValues={}){const escapedValues=Object.keys(rawValues).reduce((escaped,name)=>{const value=rawValues[name];escaped[name]=typeof value==='string'?escape(value):value;return escaped;},{});return formatMessage(config,state,messageDescriptor,escapedValues);}
function shallowEqualObjects(objA,objB){if(objA===objB){return true;}
if(!objA||!objB){return false;}
var aKeys=Object.keys(objA);var bKeys=Object.keys(objB);var len=aKeys.length;if(bKeys.length!==len){return false;}
for(var i=0;i<len;i++){var key=aKeys[i];if(objA[key]!==objB[key]||!Object.prototype.hasOwnProperty.call(objB,key)){return false;}}
return true;}
var objects=shallowEqualObjects;var shallowEquals_=Object.freeze({__proto__:null,'default':objects,__moduleExports:objects});const LIST_FORMAT_OPTIONS=['localeMatcher','type','style',];const now=Date.now();function generateToken(i){return `${now}_${i}_${now}`;}
function formatList({locale,onError},getListFormat,values,options={}){const ListFormat=Intl.ListFormat;if(!ListFormat){onError(createError(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`));}
const filteredOptions=filterProps(options,LIST_FORMAT_OPTIONS);try{const richValues={};const serializedValues=values.map((v,i)=>{if(typeof v==='object'){const id=generateToken(i);richValues[id]=v;return id;}
return String(v);});if(!Object.keys(richValues).length){return getListFormat(locale,filteredOptions).format(serializedValues);}
const parts=getListFormat(locale,filteredOptions).formatToParts(serializedValues);return parts.reduce((all,el)=>{const val=el.value;if(richValues[val]){all.push(richValues[val]);}
else if(typeof all[all.length-1]==='string'){all[all.length-1]+=val;}
else{all.push(val);}
return all;},[]);}
catch(e){onError(createError('Error formatting list.',e));}
return values;}
const DISPLAY_NAMES_OPTONS=['localeMatcher','style','type','fallback',];function formatDisplayName({locale,onError},getDisplayNames,value,options={}){const DisplayNames=Intl.DisplayNames;if(!DisplayNames){onError(createError(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`));}
const filteredOptions=filterProps(options,DISPLAY_NAMES_OPTONS);try{return getDisplayNames(locale,filteredOptions).of(value);}
catch(e){onError(createError('Error formatting display name.',e));}}
const shallowEquals=objects||shallowEquals_;function processIntlConfig(config){return{locale:config.locale,timeZone:config.timeZone,formats:config.formats,textComponent:config.textComponent,messages:config.messages,defaultLocale:config.defaultLocale,defaultFormats:config.defaultFormats,onError:config.onError,};}
function createIntl(config,cache){const formatters=createFormatters(cache);const resolvedConfig=Object.assign(Object.assign({},DEFAULT_INTL_CONFIG),config);const{locale,defaultLocale,onError}=resolvedConfig;if(!locale){if(onError){onError(createError(`"locale" was not configured, using "${defaultLocale}" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/API.md#intlshape for more details`));}
resolvedConfig.locale=resolvedConfig.defaultLocale||'en';}
else if(!Intl.NumberFormat.supportedLocalesOf(locale).length&&onError){onError(createError(`Missing locale data for locale: "${locale}" in Intl.NumberFormat. Using default locale: "${defaultLocale}" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details`));}
else if(!Intl.DateTimeFormat.supportedLocalesOf(locale).length&&onError){onError(createError(`Missing locale data for locale: "${locale}" in Intl.DateTimeFormat. Using default locale: "${defaultLocale}" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details`));}
return Object.assign(Object.assign({},resolvedConfig),{formatters,formatNumber:formatNumber.bind(null,resolvedConfig,formatters.getNumberFormat),formatNumberToParts:formatNumberToParts.bind(null,resolvedConfig,formatters.getNumberFormat),formatRelativeTime:formatRelativeTime.bind(null,resolvedConfig,formatters.getRelativeTimeFormat),formatDate:formatDate.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatDateToParts:formatDateToParts.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatTime:formatTime.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatTimeToParts:formatTimeToParts.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatPlural:formatPlural.bind(null,resolvedConfig,formatters.getPluralRules),formatMessage:formatMessage.bind(null,resolvedConfig,formatters),formatHTMLMessage:formatHTMLMessage$1.bind(null,resolvedConfig,formatters),formatList:formatList.bind(null,resolvedConfig,formatters.getListFormat),formatDisplayName:formatDisplayName.bind(null,resolvedConfig,formatters.getDisplayNames)});}
class IntlProvider$1 extends React.PureComponent{constructor(){super(...arguments);this.cache=createIntlCache();this.state={cache:this.cache,intl:createIntl(processIntlConfig(this.props),this.cache),prevConfig:processIntlConfig(this.props),};}
static getDerivedStateFromProps(props,{prevConfig,cache}){const config=processIntlConfig(props);if(!shallowEquals(prevConfig,config)){return{intl:createIntl(config,cache),prevConfig:config,};}
return null;}
render(){invariantIntlContext(this.state.intl);return React.createElement(Provider,{value:this.state.intl},this.props.children);}}
IntlProvider$1.displayName='IntlProvider';IntlProvider$1.defaultProps=DEFAULT_INTL_CONFIG;function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj;};}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}
return _typeof(obj);}
function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}
if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}
function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}
function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}
_next(undefined);});};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return _extends.apply(this,arguments);}
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}
return keys;}
function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}
return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}
return target;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}
return target;}
function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}
return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}
return _arr;}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
var errorCodesMapper={login_wrong_credentials:'Wrong Credentials'};var buildErrorMessage=function buildErrorMessage(error){var errorCodeMessage=errorCodesMapper[lodash.get(error,'response.data.errors[0].err_code')];var errorMessage=lodash.get(error,'response.data.errors[0].message',lodash.get(error,'response.data',lodash.get(error,'message','')));var currentErrorMessage=errorCodeMessage||errorMessage||'Error Occurred';var isStringError=typeof currentErrorMessage==='string';if(!currentErrorMessage||isStringError&&currentErrorMessage.indexOf('DOCTYPE')>-1){return '';}
return isStringError&&currentErrorMessage||'';};var track=function track(eventName){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(eventName){window.analytics.track(eventName,_objectSpread2({},data));}};var graphqlFetch=function graphqlFetch(body){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var rapidAxios=window.rapidAxios;var _headers=_objectSpread2({},options.headers);if(body.isFileUpload){var formData=new FormData();var imageFile=lodash.get(body,'variables.input.imageFile');if(imageFile){body.variables.input.imageFile=null;}
var operationName=body.operationName,query=body.query,variables=body.variables;var operations={operationName:operationName,query:query,variables:variables};formData.append('operations',JSON.stringify(operations));formData.set('map',JSON.stringify({1:['variables.input.imageFile']}));formData.append('1',imageFile);return rapidAxios.post('/gateway/graphql',formData,{headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;});}else{return rapidAxios.post('/gateway/graphql',Object.assign({},body),{headers:_headers});}};var getActiveEntityQuery=function getActiveEntityQuery(){return "\n    query ActiveEntity {\n        activeEntity {\n            email\n            apis {\n                name\n                id\n            }\n        }\n    }\n";};var getSearchUsersQuery=function getSearchUsersQuery(){return "\n    query SearchUsers($brand: String, $term: String, $offset: Int, $limit: Int){\n        searchUsers(brand: $brand, term: $term, offset: $offset, limit: $limit){\n            id\n            thumbnail\n            username\n            name\n        }\n    }\n";};var getCalculateSeatsPriceQuery=function getCalculateSeatsPriceQuery(){return "\n    query calculateSeatsPrice($seats: Int!) {\n        calculateSeatsPrice(seats: $seats)\n    }\n";};var getCreateNewOrganizationQuery=function getCreateNewOrganizationQuery(){return "\n    mutation CreateNewOrganizationV4($input: CreateNewOrganizationInputV4) {\n        createNewOrganizationV4(input: $input)\n    }\n";};var getGetMinimumSeatsQuery=function getGetMinimumSeatsQuery(){return "\n    query getMinimumSeats {\n        getMinimumSeats \n    }\n";};var getActiveEntity=function getActiveEntity(){return graphqlFetch({operationName:'ActiveEntity',query:getActiveEntityQuery()}).then(function(res){if(lodash.get(res,'errors')){throw lodash.get(res,'errors');}
return lodash.get(res,'data.activeEntity');});};var searchUsers=function searchUsers(variables){return graphqlFetch({operationName:'SearchUsers',query:getSearchUsersQuery(),variables:variables}).then(function(res){if(lodash.get(res,'errors')){throw lodash.get(res,'errors');}
return lodash.get(res,'data.searchUsers')||[];});};var calculateSeatsPrice=function calculateSeatsPrice(seats){return graphqlFetch({operationName:'calculateSeatsPrice',query:getCalculateSeatsPriceQuery(),variables:{seats:seats}}).then(function(res){if(lodash.get(res,'errors')){throw lodash.get(res,'errors');}
return lodash.get(res,'data.calculateSeatsPrice');});};var createNewOrganization=function createNewOrganization(newOrganization){return graphqlFetch({operationName:'CreateNewOrganizationV4',query:getCreateNewOrganizationQuery(),variables:{input:newOrganization}}).then(function(res){var result=lodash.get(res,'data.createNewOrganizationV4');if(result===null||lodash.get(res,'errors')){throw res;}
return result;})["catch"](function(err){var errors=lodash.get(err,'errors',[]);console.log("RapidLogs: errors",errors);return errors.map(function(e){return e.message;});});};var getMinSeats=function getMinSeats(){return graphqlFetch({operationName:'getMinimumSeats',query:getGetMinimumSeatsQuery()}).then(function(res){if(lodash.get(res,'errors')){throw lodash.get(res,'errors');}
return lodash.get(res,'data.getMinimumSeats');});};var usePromiseWrapper=function usePromiseWrapper(promiseFunc,initialValue){var _useState=React.useState(initialValue),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=React.useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=React.useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var fetchData=React.useCallback(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _data,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return promiseFunc.apply(void 0,_args);case 4:_data=_context.sent;setData(_data);setIsLoading(false);return _context.abrupt("return",_data);case 10:_context.prev=10;_context.t0=_context["catch"](1);setError(_context.t0);setIsLoading(false);throw _context.t0;case 15:case "end":return _context.stop();}}},_callee,null,[[1,10]]);})),[promiseFunc]);return{data:data,isLoading:isLoading,error:error,fetchData:fetchData};};var useActiveEntity=function useActiveEntity(){var _usePromiseWrapper=usePromiseWrapper(getActiveEntity),activeEntity=_usePromiseWrapper.data,isLoading=_usePromiseWrapper.isLoading,error=_usePromiseWrapper.error,fetchData=_usePromiseWrapper.fetchData;return{isLoading:isLoading,activeEntity:activeEntity,error:error,getActiveEntity:fetchData};};var useSearchUsers=function useSearchUsers(_ref2){var brand=_ref2.brand;var getUsers=React.useCallback(function(term){return searchUsers({brand:brand,term:term,offset:0,limit:5});},[brand]);var _usePromiseWrapper2=usePromiseWrapper(getUsers),_usePromiseWrapper2$d=_usePromiseWrapper2.data,data=_usePromiseWrapper2$d===void 0?[]:_usePromiseWrapper2$d,isLoading=_usePromiseWrapper2.isLoading,error=_usePromiseWrapper2.error,fetchData=_usePromiseWrapper2.fetchData;return{isLoading:isLoading,users:data,error:error,searchUsers:fetchData};};var useSeatsPrice=function useSeatsPrice(){var _usePromiseWrapper3=usePromiseWrapper(calculateSeatsPrice,0),data=_usePromiseWrapper3.data,isLoading=_usePromiseWrapper3.isLoading,error=_usePromiseWrapper3.error,fetchData=_usePromiseWrapper3.fetchData;return{isLoading:isLoading,price:data,error:error,handleSeatsChange:fetchData};};var useCreateNewOrganization=function useCreateNewOrganization(){var _usePromiseWrapper4=usePromiseWrapper(createNewOrganization),data=_usePromiseWrapper4.data,isLoading=_usePromiseWrapper4.isLoading,error=_usePromiseWrapper4.error,fetchData=_usePromiseWrapper4.fetchData;return{isLoading:isLoading,price:data,error:error,createNewOrganization:fetchData};};var useMinSeats=function useMinSeats(){var _usePromiseWrapper5=usePromiseWrapper(getMinSeats,0),data=_usePromiseWrapper5.data,isLoading=_usePromiseWrapper5.isLoading,error=_usePromiseWrapper5.error,fetchData=_usePromiseWrapper5.fetchData;return{isLoading:isLoading,minSeats:data,error:error,getMinSeats:fetchData};};function _templateObject2(){var data=_taggedTemplateLiteral(["\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);_templateObject2=function _templateObject2(){return data;};return data;}
function _templateObject(){var data=_taggedTemplateLiteral(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);_templateObject=function _templateObject(){return data;};return data;}
var SpinWrapper=styled.div(_templateObject());var ErrorContainer=styled.div(_templateObject2());var DEVELOPER_ORG_MODAL_VIEWED_SEGMENT_EVENT='developer_org_modal_viewed';function Index(props){var onFinish=props.onFinish;var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var _useCreateNewOrganiza=useCreateNewOrganization(),createNewOrganization=_useCreateNewOrganiza.createNewOrganization;var _useSeatsPrice=useSeatsPrice(),isSeatsPriceLoading=_useSeatsPrice.isLoading,price=_useSeatsPrice.price,handleSeatsChange=_useSeatsPrice.handleSeatsChange;var _useActiveEntity=useActiveEntity(),isActiveEntityLoading=_useActiveEntity.isLoading,activeEntity=_useActiveEntity.activeEntity,getActiveEntity=_useActiveEntity.getActiveEntity;var _useMinSeats=useMinSeats(),isMinSeatsLoading=_useMinSeats.isLoading,minSeats=_useMinSeats.minSeats,getMinSeats=_useMinSeats.getMinSeats;React.useEffect(function(){getMinSeats();getActiveEntity();},[]);var brand=lodash.get(activeEntity,'origin_site');var apis=lodash.get(activeEntity,'apis');var email=lodash.get(activeEntity,'email');var _useSearchUsers=useSearchUsers({brand:brand}),searchUsers=_useSearchUsers.searchUsers;var handleFinish=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(values){var orgName,stripeToken,cardHolderName,users,selectedApis,recaptcha,rest,org,orgId,errorMessage;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:orgName=values.orgName,stripeToken=values.stripeToken,cardHolderName=values.cardHolderName,users=values.users,selectedApis=values.selectedApis,recaptcha=values.recaptcha,rest=_objectWithoutProperties(values,["orgName","stripeToken","cardHolderName","users","selectedApis","recaptcha"]);org=_objectSpread2(_objectSpread2({},rest),{},{name:orgName,email:email,apis:selectedApis,cardToken:stripeToken,recaptcha:lodash.get(recaptcha,'recaptchaHash'),users:users.filter(function(user){return user&&(user.email||user.id);})});_context.prev=2;_context.next=5;return createNewOrganization(org);case 5:orgId=_context.sent;if(!Array.isArray(orgId)){_context.next=8;break;}
throw orgId;case 8:onFinish&&onFinish(null,_objectSpread2(_objectSpread2({},org),{},{id:orgId}));_context.next=18;break;case 11:_context.prev=11;_context.t0=_context["catch"](2);antd.message.destroy();errorMessage=buildErrorMessage(_context.t0);errorMessage?antd.message.error(errorMessage):antd.message.error('Error Occurred');onFinish&&onFinish(_context.t0,org);throw _context.t0;case 18:case "end":return _context.stop();}}},_callee,null,[[2,11]]);}));return function handleFinish(_x){return _ref.apply(this,arguments);};}();if(isActiveEntityLoading||isMinSeatsLoading){return React__default.createElement(SpinWrapper,null,React__default.createElement(antd.Spin,{spinning:true}));}
if(!activeEntity){return React__default.createElement(ErrorContainer,null,React__default.createElement("div",null,formatMessage({id:'something-went-wrong'})),React__default.createElement("div",null,formatMessage({id:'try-reloading-the-page'})),React__default.createElement(rapidComponents.RButton,{type:"primary",onClick:function onClick(){return window.location.reload();}},formatMessage({id:'reload'})));}
var isFFOrgCreationWithRecaptchaOn=rapidFlagsClient.isON('FFOrgCreationWithRecaptcha',{email:email});return React__default.createElement(rapidComponents.GenerateOrgFromDevWizard,_extends({},props,{onFinish:handleFinish,apis:apis,seatPrice:price,minSeats:minSeats,onInviteUserSearchTermUpdated:searchUsers,isSeatsPriceLoading:isSeatsPriceLoading,onSeatsChange:handleSeatsChange,disableRecaptcha:!isFFOrgCreationWithRecaptchaOn,onStepChange:function onStepChange(currentStep){var key=currentStep.key;track(DEVELOPER_ORG_MODAL_VIEWED_SEGMENT_EVENT,{screen:key});}}));}
var initSegment=(function(sourceKey){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize){if(analytics.invoked)window.console&&console.error&&console.error('Segment snippet included twice.');else{analytics.invoked=!0;analytics.methods=['trackSubmit','trackClick','trackLink','trackForm','pageview','identify','reset','group','track','ready','alias','debug','page','once','off','on'];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics;};};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e);}
analytics.load=function(t,e){var n=document.createElement('script');n.type='text/javascript';n.async=!0;n.src='https://cdn.segment.com/analytics.js/v1/'+t+'/analytics.min.js';var a=document.getElementsByTagName('script')[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e;};analytics.SNIPPET_VERSION='4.1.0';analytics.load(sourceKey);analytics.page();}}});var getCookie=function getCookie(cname){if((typeof document==="undefined"?"undefined":_typeof(document))===undefined){return;}
var name=cname+'=';var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1);}
if(c.indexOf(name)===0){return c.substring(name.length,c.length);}}
return;};var setCookie=function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+exdays*24*60*60*1000);var expires='expires='+d.toUTCString();document.cookie=cname+'='+cvalue+';'+expires+';path=/';};var _ref=window.ENV||{},NODE_ENV=_ref.NODE_ENV,BRAND=_ref.BRAND;var getLocale=function getLocale(){if((typeof window==="undefined"?"undefined":_typeof(window))===undefined){return;}
if(window.location.host.toLowerCase().startsWith('english')){setCookie('locale','en-US',365);return 'en-US';}
return getCookie('locale');};var locale=getLocale();var reload="Reload";var error_integer="Please enter an integer number";var error_404="{error, select, 404 {We are sorry, the page you’re trying to reach doesn’t exist.} other {Error}}";var error_something="Something went wrong - Caught by ErrorBoundary";var error_upload_file="Unable to upload selected file";var organization_add_org_error="Add organization failed";var generate_org_wiz_create_step_description="Organization accounts allow you to collaborate with teammates.";var enTranslations={"something-went-wrong":"Something went wrong","try-reloading-the-page":"Try reloading the page",reload:reload,"zzz-make-sure-it-will-always-be-the-last-key-to-support-a-to-z-ordering-without-breaking-json-syntax":null,error_integer:error_integer,error_404:error_404,error_something:error_something,error_upload_file:error_upload_file,organization_add_org_error:organization_add_org_error,generate_org_wiz_create_step_description:generate_org_wiz_create_step_description};var why_rapid_text="検索";var jaTranslations={why_rapid_text:why_rapid_text,"zzz-make-sure-it-will-always-be-the-last-key-to-support-a-to-z-ordering-without-breaking-json-syntax":null};var translationsByLocale={'en-US':enTranslations,'ja-JP':jaTranslations};function index(props){var lang=getLocale();var rapidConfig=rapidComponents.useRapidConfig();React.useEffect(function(){initSegment(rapidConfig.SEGMENT_KEY);},[]);return React__default.createElement(IntlProvider$1,{locale:lang,messages:translationsByLocale[lang],key:lang},React__default.createElement(Index,props));}
return index;})));